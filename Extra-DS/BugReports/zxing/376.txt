Zoom on Android 2.1 not working
1. Install latest Market version 2. Start app 3. Not zoomed in Supposed to start at zoom 2. What version of the product are you using? On what operating system? Version 48 for android I've run tests with the camera, and it appears it does not let you set an initial zoom, it always starts at 0. In my tests, starting a side thread with a sleep of 100 millis that sets the zoom seems to correct the issue. Could also be solved by simply providing zoom controls on the main view. Gonna need to know what device you are using, and for you to use the ZXing Test app in the market to send us a dump of its camera parameters. This app is written to use Android 1.x, which has no direct APIs for zoom control. Instead it tries to set device specific camera parameters to set zoom. Right now it sets 2 or 3 such params. I can try to guess and set another one if your device has yet another way to do this. When the world is 99% on Android 2.x we can move as well. I'm sure that the real API for this, which i assume you're using, does in fact work on the device. Labels: -Type-Defect -Priority-Medium Type-Enhancement Priority-Low Don't think 2.1 has any new canera api. When I said Oom control I ment a screen widget so I could change zoom manualy. The params.set("zoom", 2) works, but only after camera has finished its first auto focus, so in my little test app, delaying it with a second thread helped. I'm using Motorola Droid, got the 2.1 update few days ago. Never tried on 2.0, first time using app. Will try your test app in a few hours when I'm actually awake. Hmm you could be right. There are new explicit params for focus, effects, flash, white balance in 2.x but I don't see zoom. I had assumed there was. In any event, yes the "zoom" param is already being set. I checked in a change to look for and respect 'mot-zoom-values', though I am not sure it's actually anything to do with it. This param shows up in reports from the Moto Blur. I went back and combed a device report from the Droid and see 'mot-zoom-step' of 0.5. I'm guessing the device won't accept zoom values that aren't a multiple of 0.5. Right now the default is 2.7x (which is conveniently the max zoom on the Hero, my personal device). I'll make a change in the next 15 minutes or so to respect that value. Once that second change is in maybe you are in a position to download/build from SVN and try it? Status: AcceptedOwner: srowenLabels: -Type-Enhancement Type-Defect Checked out from SVN and ran it, but didn't solve the zoom issue. There is still the issue that (at least on the droid) that it's preventing you from pre-setting the zoom. No matter what zoom level you set during the initialize phase is being reset to default (maybe even other values as well, but zoom is whats noticeable to me). I did a little experiment and found two possible solutions for this bug (be it a Droid bug or an Android 2.1 bug). ----- ----- 1) Wrap the call to setZoom in a Thread with a slight delay: new Thread() {