NPE updating an aspect in incremental mode
NPE when updating an aspect in incremental mode. Find test case in incremental/full-rebuild. AjBuildManager.java:208 finally clause runs after every iteration: ret = !handler.hasErrors(); handler = null; But at AjBuildManager.java:124, handler is only set if there is not a complete rebuild: if (!canIncremental && !batch) { // retry as batch? return doBuild(buildConfig, baseHandler, true); } this.handler = ... Since result is set by return doBuild..), could say if (null != handler) { ret = !handler.hasErrors(); } (Seems to have been introduced in a month ago in 1.44. Our test coverage of incremental mode is awful.)