org aspectj apache bcel java byte array output stream bytearrayoutputstream java data output stream dataoutputstream java lang reflect modifier java security message digest messagedigest java util array list arraylist java util arrays java util collections java util comparator java util iterator java util list org aspectj apache bcel constants org aspectj apache bcel classfile access flags accessflags org aspectj apache bcel classfile attribute org aspectj apache bcel classfile constant pool constantpool org aspectj apache bcel classfile field org aspectj apache bcel classfile java class javaclass org aspectj apache bcel classfile method org aspectj apache bcel classfile source file sourcefile org aspectj apache bcel classfile utility org aspectj apache bcel classfile annotation annotation org aspectj apache bcel classfile annotation runtime invisible annotations runtimeinvisibleannotations org aspectj apache bcel classfile annotation runtime visible annotations runtimevisibleannotations org aspectj apache bcel annotation annotation gen annotationgen template building java initialized existing java file java class javaclass version class gen classgen java aclement exp author href mailto markus dahm berlin dahm upgraded andy clement mar calculates suid class gen classgen access flags accessflags cloneable corresponds fields java class javaclass object string file superclass major constants major minor constants minor template building constant pool constant pool gen constantpoolgen array lists arraylists arrays gather fields methods array list arraylist field vec array list arraylist array list arraylist method vec array list arraylist array list arraylist attribute vec array list arraylist array list arraylist vec array list arraylist array list arraylist annotation vec array list arraylist unpacked annotations unpackedannotations convenience constructor values initially param fully qualified param fully qualified superclass param file source file param access flags access qualifiers param interfaces implemented interfaces param constant pool class gen classgen string string string file access flags string interfaces constant pool gen constantpoolgen file file access flags access flags needed constant pool vectors file add attribute addattribute source file sourcefile add utf addutf source file sourcefile add utf addutf file get constant pool getconstantpool add class addclass superclass add class addclass interfaces interfaces length add interface addinterface interfaces convenience constructor values initially param fully qualified param fully qualified superclass param file source file param access flags access qualifiers param interfaces implemented interfaces class gen classgen string string string file access flags string interfaces file access flags interfaces constant pool gen constantpoolgen initialize existing param clazz java class javaclass object read file class gen classgen java class javaclass clazz clazz get class name index getclassnameindex superclass clazz get superclass name index getsuperclassnameindex clazz get class name getclassname clazz get superclass name getsuperclassname file clazz get source file name getsourcefilename access flags clazz get access flags getaccessflags constant pool gen constantpoolgen clazz get constant pool getconstantpool major clazz get major getmajor minor clazz get minor getminor attribute attributes clazz get attributes getattributes todo unpacking lazy reference annotation gen annotationgen annotations unpack annotations unpackannotations attributes method methods clazz get methods getmethods field fields clazz get fields getfields string interfaces clazz get interface names getinterfacenames interfaces length add interface addinterface interfaces attributes length dont add attributes annotations unpacked annotations length add attribute addattribute attributes attributes get name getname equals runtime visible annotations runtimevisibleannotations attributes get name getname equals runtime invisible annotations runtimeinvisibleannotations add attribute addattribute attributes annotations length add annotation addannotation annotations methods length method methods add method addmethod fields length add field addfield fields attributes representing annotations unpack annotation gen annotationgen unpack annotations unpackannotations attribute attrs list annotation gen annotationgen annotation gen objs annotationgenobjs array list arraylist attrs length attribute attr attrs attr runtime visible annotations runtimevisibleannotations runtime visible annotations runtimevisibleannotations rva runtime visible annotations runtimevisibleannotations attr list annos rva get annotations getannotations iterator iter annos iterator iter has next hasnext annotation annotation iter annotation gen objs annotationgenobjs add annotation gen annotationgen get constant pool getconstantpool attr runtime invisible annotations runtimeinvisibleannotations runtime invisible annotations runtimeinvisibleannotations ria runtime invisible annotations runtimeinvisibleannotations attr list annos ria get annotations getannotations iterator iter annos iterator iter has next hasnext annotation annotation iter annotation gen objs annotationgenobjs add annotation gen annotationgen get constant pool getconstantpool annotation gen annotationgen annotation gen objs annotationgenobjs to array toarray annotation gen annotationgen built java object java class javaclass get java class getjavaclass interfaces get interfaces getinterfaces field fields get fields getfields method methods get methods getmethods attribute attributes annotation vec size attributes get attributes getattributes todo trash attributes called runtime visible annotations runtimevisibleannotations runtime invisible annotations runtimeinvisibleannotations attribute ann attributes annattributes utility get annotation attributes getannotationattributes annotation vec attributes attribute attribute vec size ann attributes annattributes length attribute vec to array toarray attributes system arraycopy ann attributes annattributes attributes attribute vec size ann attributes annattributes length calls add constant pool constantpool get final constant pool getfinalconstantpool java class javaclass superclass file major minor access flags interfaces fields methods attributes add implement param implement fully qualified add interface addinterface string vec add remove param remove fully qualified remove interface removeinterface string vec remove major version number file get major getmajor major major version number file jdk param major major version number set major setmajor major major major minor version number file jdk param minor minor version number set minor setminor minor minor minor minor version number file get minor getminor minor add attribute param attribute add add attribute addattribute attribute attribute vec add add annotation addannotation annotation gen annotationgen annotation vec add add method param method add add method addmethod method method vec add convenience method add empty constructor calling param access rights constructor add empty constructor addemptyconstructor access flags instruction list instructionlist instruction list instructionlist push append instruction constants instructionconstants append invokespecial add methodref addmethodref init append instruction constants instructionconstants method gen methodgen method gen methodgen access flags type type args init set max stack setmaxstack set max locals setmaxlocals add method addmethod get method getmethod add field param field add add field addfield field field vec add contains field containsfield field field vec field object field contains field containsfield string iterator field vec iterator has next hasnext field field get name getname equals method object signature method contains method containsmethod string string signature iterator method vec iterator has next hasnext method method get name getname equals get signature getsignature equals signature remove attribute param attribute remove remove attribute removeattribute attribute attribute vec remove remove annotation removeannotation annotation gen annotationgen annotation vec remove remove method param method remove remove method removemethod method method vec remove replace method exist add method replace method replacemethod method method class gen exception classgenexception replacement method method vec index of indexof method vec add method vec replace field exist add field replace field replacefield field field class gen exception classgenexception replacement method field vec index of indexof field vec add field vec remove field param field remove remove field removefield field field vec remove string get class name getclassname string get superclass name getsuperclassname string get file name getfilename file set class name setclassname string replace add class addclass set superclass name setsuperclassname string replace superclass add class addclass method get methods getmethods method methods method method vec size method vec to array toarray methods methods set methods setmethods method methods method vec clear methods length add method addmethod methods set method at setmethodat method method pos method vec pos method method get method at getmethodat pos method method vec pos string get interface names getinterfacenames size vec size string interfaces string size vec to array toarray interfaces interfaces get interfaces getinterfaces size vec size interfaces size size interfaces add class addclass string vec interfaces field get fields getfields field fields field field vec size field vec to array toarray fields fields attribute get attributes getattributes attribute attributes attribute attribute vec size attribute vec to array toarray attributes attributes todo calling unpack annotations unpackannotations lazy annotation gen annotationgen get annotations getannotations annotation gen annotationgen annotations annotation gen annotationgen annotation vec size annotation vec to array toarray annotations annotations constant pool gen constantpoolgen get constant pool getconstantpool set constant pool setconstantpool constant pool gen constantpoolgen constant pool constant pool set class name index setclassnameindex get constant pool getconstantpool get constant string getconstantstring constants constant replace set superclass name index setsuperclassnameindex superclass superclass superclass get constant pool getconstantpool get constant string getconstantstring superclass constants constant replace get superclass name index getsuperclassnameindex superclass get class name index getclassnameindex array list arraylist observers add observer object add observer addobserver class observer classobserver observers observers array list arraylist observers add remove observer object remove observer removeobserver class observer classobserver observers observers remove call notify method observers method called automatically changed called user finished editing object update observers iterator observers iterator has next hasnext class observer classobserver notify object clone clone clone not supported exception clonenotsupportedexception system err println support returns represents annotation type is annotation isannotation access flags constants acc annotation returns represents enum type is enum isenum access flags constants acc enum calculate serial version uid serialversionuid get suid getsuid field fields get fields getfields method methods get methods getmethods byte array output stream bytearrayoutputstream baos byte array output stream bytearrayoutputstream data output stream dataoutputstream dos data output stream dataoutputstream baos classname dos write utf writeutf get class name getclassname classmodifiers acc acc acc acc classmods classmods is public ispublic constants acc classmods is final isfinal constants acc classmods is interface isinterface constants acc is interface isinterface is abstract isabstract remove methods methods length classmods constants acc dos write int writeint classmods ordered list interfaces list list array list arraylist string names get interface names getinterfacenames names arrays sort names names length dos write utf writeutf names ordered list fields ignoring fields relevant modifiers acc acc acc acc acc acc acc list clear fields length field field fields field is private isprivate field is static isstatic field is private isprivate field is transient istransient list add field collections sort list field comparator fieldcomparator relevant flags relevantflags constants acc constants acc constants acc constants acc constants acc constants acc constants acc iterator iter list iterator iter has next hasnext field field iter dos write utf writeutf get name getname dos write int writeint relevant flags relevantflags get modifiers getmodifiers dos write utf writeutf get type gettype get signature getsignature front method processing discover clinit init ordinary methods interest methods list clear list ctors array list arraylist has clinit hasclinit methods length method methods could be initializer couldbeinitializer get name getname char at charat could be initializer couldbeinitializer get name getname equals clinit has clinit hasclinit could be initializer couldbeinitializer get name getname equals init is private isprivate ctors add is private isprivate list add collections sort ctors constructor comparator constructorcomparator collections sort list method comparator methodcomparator descriptor method has clinit hasclinit dos write utf writeutf clinit dos write int writeint modifier dos write utf writeutf methods constructors acc acc acc acc acc acc acc acc acc strict relevant flags relevantflags constants acc constants acc constants acc constants acc constants acc constants acc constants acc constants acc constants acc strict sorted constructors iterator iter ctors iterator iter has next hasnext method method iter init dos write utf writeutf init get name getname dos write int writeint relevant flags relevantflags get modifiers getmodifiers dos write utf writeutf get signature getsignature replace sorted methods iterator iter list iterator iter has next hasnext method method iter dos write utf writeutf get name getname dos write int writeint relevant flags relevantflags get modifiers getmodifiers dos write utf writeutf get signature getsignature replace dos flush dos close baos to byte array tobytearray message digest messagedigest message digest messagedigest get instance getinstance sha result digest suid bytes pos result length result length pos suid suid result pos xff sha xff sha xff suid exception system err println unable calculate suid get class name getclassname print stack trace printstacktrace runtime exception runtimeexception unable calculate suid get class name getclassname to string tostring field comparator fieldcomparator comparator compare object arg object arg field arg get name getname compare to compareto field arg get name getname constructor comparator constructorcomparator comparator compare object arg object arg ignore method arg get signature getsignature compare to compareto method arg get signature getsignature method comparator methodcomparator comparator compare object arg object arg method method arg method method arg result get name getname compare to compareto get name getname result result get signature getsignature compare to compareto get signature getsignature