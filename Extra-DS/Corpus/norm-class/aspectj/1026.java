copyright contributors rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation eduardo piveta initial version helen hawkins ammended fit junit framework org aspectj tools ajc java util hash map hashmap junit framework test case testcase org aspectj org eclipse jdt core dom ast org aspectj org eclipse jdt core dom astparser org aspectj org eclipse jdt core dom aj naive astflattener ajnaiveastflattener org aspectj org eclipse jdt core dom compilation unit compilationunit aj naive astflattener test ajnaiveastflattenertest test case testcase test no pointcut args testnopointcutargs check aspect pointcut call aspect pointcut call test one int pointcut arg testoneintpointcutarg check aspect pointcut call aspect pointcut call test one int one double pointcut arg testoneintonedoublepointcutarg check aspect pointcut call aspect pointcut call test one typed pointcut arg testonetypedpointcutarg check aspect pointcut call aspect pointcut call test two typed pointcut args testtwotypedpointcutargs check aspect pointcut call aspect pointcut call test one typed and one int pointcut arg testonetypedandoneintpointcutarg check aspect pointcut call aspect pointcut call test one int and one typed pointcut arg testoneintandonetypedpointcutarg check aspect pointcut call aspect pointcut call test one int one double and one typed pointcut arg testoneintonedoubleandonetypedpointcutarg check aspect pointcut call aspect pointcut call check string source string expected output expectedoutput astparser parser astparser new parser newparser ast jls parser set compiler options setcompileroptions hash map hashmap parser set source setsource source to char array tochararray compilation unit compilationunit compilation unit compilationunit parser create ast createast aj naive astflattener ajnaiveastflattener visitor aj naive astflattener ajnaiveastflattener accept visitor string result visitor get result getresult system err println result assert true asserttrue expected expected output expectedoutput actual result expected output expectedoutput equals result