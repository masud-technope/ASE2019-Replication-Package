copyright contributors rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors wes isberg initial implementation org aspectj testing util java java net java util javax swing text mutable attribute set mutableattributeset javax swing text html javax swing text html html tag org aspectj bridge org aspectj bridge imessage handler imessagehandler org aspectj util lang util langutil quick dirty link checker checks links file http targets work links file targets work link check linkcheck issues main api easily upgraded https malformed url exceptions malformedurlexceptions redirect swing won quit system exit single threaded url command url command line commandline command line commandline url file command line commandline throwable command command line commandline param args file log file logfile file print info printinfo main string args string syntax java link check linkcheck get name getname file log file print info printinfo args args length system err println syntax system exit string starting url startingurl file args replace string log file logfile print info printinfo args length log equals args args length log file logfile args print info printinfo equals args print info printinfo system err println syntax system exit use system out usesystemout log file logfile message handler messagehandler output stream outputstream use system out usesystemout message handler messagehandler file output stream fileoutputstream log file logfile file not found exception filenotfoundexception print stack trace printstacktrace print stream printstream print stream printstream print all printall print info printinfo message handler messagehandler handle message handlemessage imessage message print all printall message is info isinfo println message to string tostring handle message handlemessage message link check exists link get protocol checker getprotocolchecker string file http link check contents link get protocol checker getprotocolchecker string file link check linkcheck link check linkcheck exists contents add link to check addlinktocheck command starting url startingurl string label checking urls starting url startingurl use system out usesystemout system println label message util messageutil info start label start system current time millis currenttimemillis duration system current time millis currenttimemillis start num checked numchecked checked urls checkedurls size num checked numchecked cps duration num checked numchecked string buffer stringbuffer string buffer stringbuffer append checked num checked numchecked append url duration append seconds cps append seconds url message util messageutil info label use system out usesystemout system println to string tostring message util messageutil info message util messageutil render counts rendercounts flush ioexception use system out usesystemout log file logfile system println find log log file logfile close ioexception system exit num messages nummessages imessage error messages messages htmleditor kit htmleditorkit parser parser array list arraylist links to check linkstocheck array list arraylist checked urls checkedurls array list arraylist valid refs validrefs array list arraylist refs to check refstocheck link check check exists checkexists link check check contents checkcontents link check linkcheck imessage handler imessagehandler handler link check check exists checkexists link check check contents checkcontents lang util langutil throw iax if null throwiaxifnull handler handler lang util langutil throw iax if null throwiaxifnull check exists checkexists check exists checkexists lang util langutil throw iax if null throwiaxifnull check contents checkcontents check contents checkcontents messages messages handler links to check linkstocheck array list arraylist checked urls checkedurls array list arraylist refs to check refstocheck array list arraylist valid refs validrefs array list arraylist parser htmleditor kit htmleditorkit htmleditor kit htmleditorkit parser get parser getparser get parser getparser get parser getparser check exists checkexists check exists checkexists check contents checkcontents check contents checkcontents add link to check addlinktocheck url doc string link url link url linkurl make url makeurl doc link link url linkurl string link string linkstring link url linkurl to string tostring link checked urls checkedurls link string linkstring check exists checkexists check link url linkurl checked urls checkedurls add link string linkstring messages accepting unchecked link acceptinguncheckedlink doc link url linkurl link to add toadd link doc link url linkurl links to check linkstocheck to add toadd links to check linkstocheck add to add toadd array list arraylist list array list arraylist links to check linkstocheck size messages checking links checkinglinks links to check linkstocheck size list clear list add all addall links to check linkstocheck iterator iter list iterator iter has next hasnext link link link iter string url string urlstring link url to string tostring checked urls checkedurls url string urlstring checked urls checkedurls add url string urlstring messages checking link checkinglink link check link checklink link links to check linkstocheck remove all removeall list iterator iter refs to check refstocheck iterator iter has next hasnext string string iter valid refs validrefs messages named reference not found namedreferencenotfound url make url makeurl url doc string link checked urls checkedurls link url result result url link malformed urlexception malformedurlexception doc messages malformed url malformedurl link url res url doc link string result string resultstring res to string tostring checked urls checkedurls result string resultstring result res malformed urlexception malformedurlexception messages malformed url malformedurl doc link result check link checklink link link handle as ref handleasref link url url link url input stream inputstream input urlconnection connection url open connection openconnection connection messages cant open connection cantopenconnection url input connection get input stream getinputstream string type connection get content type getcontenttype type messages no content type nocontenttype link type to lower case tolowercase starts with startswith text messages not text content type nottextcontenttype link adding links addinglinks check contents checkcontents check url parser parse input stream reader inputstreamreader input link listener linklistener url adding links addinglinks ioexception messages exception reading exceptionreading link input input close ioexception handle as ref handleasref link link string link url get ref getref lang util langutil is empty isempty string ref string refstring link url to string tostring refs to check refstocheck ref string refstring refs to check refstocheck add ref string refstring ref loc refloc ref string refstring index of indexof ref loc refloc messages uncommented reference uncommentedreference link ref string refstring ref string refstring substring ref loc refloc add link to check addlinktocheck link doc ref string refstring add known named anchor addknownnamedanchor url doc string string named ref namedref string url doc named ref namedref to string tostring valid refs validrefs valid refs validrefs add malformed urlexception malformedurlexception messages malformed url malformedurl doc named ref namedref messages imessage handler imessagehandler handler messages imessage handler imessagehandler handler lang util langutil throw iax if null throwiaxifnull handler handler handler handler info string label object message util messageutil info handler label fail string label object throwable thrown message util messageutil fail handler label thrown uncommented reference uncommentedreference link link info uncommented reference uncommentedreference link not text content type nottextcontenttype link link info not text content type nottextcontenttype link no content type nocontenttype link link info no content type nocontenttype link checking links checkinglinks info checking links checkinglinks integer checking link checkinglink link link info checking link checkinglink link accepting unchecked link acceptinguncheckedlink url doc url link info accepting unchecked link acceptinguncheckedlink doc doc link link named reference not found namedreferencenotfound string fail named reference not found namedreferencenotfound malformed url malformedurl url doc string link malformed urlexception malformedurlexception fail malformed url malformedurl doc doc link link cant open connection cantopenconnection url url fail cant open connection cantopenconnection url exception reading exceptionreading link link ioexception string get message getmessage index of indexof protocol index of indexof https http equals link url get protocol getprotocol info https redirect httpsredirect link fail exception reading exceptionreading link null link nulllink url doc tag tag empty link emptylink url doc tag tag fail empty link emptylink doc doc tag tag link listener linklistener htmleditor kit htmleditorkit parser callback parsercallback url doc adding links addinglinks link listener linklistener url doc adding links addinglinks doc doc adding links addinglinks adding links addinglinks handle start tag handlestarttag html tag tag mutable attribute set mutableattributeset attributes position handle simple tag handlesimpletag tag attributes position handle simple tag handlesimpletag html tag tag mutable attribute set mutableattributeset attributes position is name anchor isnameanchor register if named anchor registerifnamedanchor tag attributes adding links addinglinks object key html tag frame tag html attribute src html attribute href string link string attributes get attribute getattribute key link is name anchor isnameanchor messages null link nulllink doc tag link length is name anchor isnameanchor messages empty link emptylink doc tag add link to check addlinktocheck doc link register if named anchor registerifnamedanchor html tag tag mutable attribute set mutableattributeset attributes html tag equals tag string string attributes get attribute getattribute html attribute add known named anchor addknownnamedanchor doc link check checker check check link link check url url check get protocol checker getprotocolchecker string protocols string input string lang util langutil safe copy safecopy protocols protocols input length checker check list list arrays as list aslist input check url url url list url get protocol getprotocol url doc url url string to string tostring link url doc url url lang util langutil throw iax if null throwiaxifnull doc doc lang util langutil throw iax if null throwiaxifnull url url doc doc url url equals object link get class getclass link link doc equals url equals hash code hashcode doc hash code hashcode url hash code hashcode string to string tostring to string tostring to string tostring url linked doc to string tostring check check link link link check link url check url url url