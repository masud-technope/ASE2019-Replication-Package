copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation org aspectj weaver patterns java data output stream dataoutputstream java ioexception java util array list arraylist java util list java util map java util string tokenizer stringtokenizer org aspectj bridge imessage org aspectj bridge isource location isourcelocation org aspectj bridge message org aspectj bridge message util messageutil org aspectj util file util fileutil org aspectj util fuzzy boolean fuzzyboolean org aspectj weaver aj attribute ajattribute org aspectj weaver bcexception org aspectj weaver bounded reference type boundedreferencetype org aspectj weaver ihas position ihasposition org aspectj weaver isource context isourcecontext org aspectj weaver reference type referencetype org aspectj weaver resolved type resolvedtype org aspectj weaver type factory typefactory org aspectj weaver type variable typevariable org aspectj weaver type variable reference typevariablereference org aspectj weaver unresolved type unresolvedtype org aspectj weaver unresolved type variable reference type unresolvedtypevariablereferencetype org aspectj weaver versioned data input stream versioneddatainputstream org aspectj weaver weaver messages weavermessages org aspectj weaver pattern parser patternparser creates wild type patterns wildtypepatterns type patterns pointcut expressions turned type pattern typepattern resolve bindings resolvebindings work turn type pattern matching exact type pattern exacttypepattern wild type pattern wildtypepattern process pans parameterized patterns generics wild type pattern resolving test case genericswildtypepatternresolvingtestcase foo foo exists parser creates wild type pattern wildtypepattern name patterns namepatterns foo resolve bindings resolvebindings resolves foo foo raw exact type pattern exacttypepattern lfoo foo string foo exists string meets bounds parser creates wild type pattern wildtypepattern name patterns namepatterns foo type parameters typeparameters wtp string resolve bindings resolvebindings resolves type parameters typeparameters exact type pattern exacttypepattern string resolves foo foo returns exact type pattern exacttypepattern pfoo string parameterized foo str foo exists takes bound parser creates wild type pattern wildtypepattern name patterns namepatterns foo type parameters typeparameters wtp str resolve bindings resolvebindings resolves type parameters typeparameters wtp str resolves foo foo returns wild type pattern wildtypepattern foo type parameters typeparameters wtp str is generic isgeneric string parser creates wild type pattern wildtypepattern name patterns namepatterns type parameters typeparameters wtp string resolve bindings resolvebindings resolves type parameters typeparameters etp string returns wild type pattern wildtypepattern type parameters typeparameters etp string is generic isgeneric foo foo number foo number foo number wild type pattern wildtypepattern type pattern typepattern string wildcard character name pattern namepattern name patterns namepatterns ellipsis count ellipsiscount string imported prefixes importedprefixes string known matches knownmatches dim secretapi testing turns boundschecking temporarily boundscheckingoff type pattern constrained clauses name patterns namepatterns length todo amc read write resolve fields foo type pattern typepattern upper bound upperbound foo type pattern typepattern additional interface bounds additionalinterfacebounds foo type pattern typepattern lower bound lowerbound type parameters fields type pattern parameterized type pattern resolve bindings is generic isgeneric wild type pattern wildtypepattern name pattern namepattern name patterns namepatterns include subtypes includesubtypes dim is var args isvarargs type pattern list typepatternlist type params typeparams include subtypes includesubtypes is var args isvarargs type params typeparams name patterns namepatterns name patterns namepatterns dim dim ellipsis count ellipsiscount name patterns namepatterns length name patterns namepatterns name pattern namepattern ellipsis ellipsis count ellipsiscount set location setlocation name patterns namepatterns get source context getsourcecontext name patterns namepatterns get start getstart name patterns namepatterns name patterns namepatterns length get end getend wild type pattern wildtypepattern list names include subtypes includesubtypes dim name pattern namepattern names to array toarray name pattern namepattern names size include subtypes includesubtypes dim type pattern list typepatternlist empty wild type pattern wildtypepattern list names include subtypes includesubtypes dim end pos endpos names include subtypes includesubtypes dim end pos endpos wild type pattern wildtypepattern list names include subtypes includesubtypes dim end pos endpos is var arg isvararg names include subtypes includesubtypes dim end pos endpos is var args isvarargs is var arg isvararg wild type pattern wildtypepattern list names include subtypes includesubtypes dim end pos endpos is var arg isvararg type pattern list typepatternlist type params typeparams type pattern typepattern upper bound upperbound type pattern typepattern additional interface bounds additionalinterfacebounds type pattern typepattern lower bound lowerbound name pattern namepattern names to array toarray name pattern namepattern names size include subtypes includesubtypes dim is var arg isvararg type params typeparams end pos endpos upper bound upperbound upper bound upperbound lower bound lowerbound lower bound lowerbound additional interface bounds additionalinterfacebounds additional interface bounds additionalinterfacebounds wild type pattern wildtypepattern list names include subtypes includesubtypes dim end pos endpos is var arg isvararg type pattern list typepatternlist type params typeparams name pattern namepattern names to array toarray name pattern namepattern names size include subtypes includesubtypes dim is var arg isvararg type params typeparams end pos endpos name pattern namepattern get name patterns getnamepatterns name patterns namepatterns type pattern typepattern get upper bound getupperbound upper bound upperbound type pattern typepattern get lower bound getlowerbound lower bound lowerbound type pattern typepattern get additional inteface bounds getadditionalintefacebounds additional interface bounds additionalinterfacebounds called parser parsing type pattern bump dim setting flag set is var args setisvarargs is var args isvarargs is var args isvarargs is var args isvarargs is var args isvarargs dim javadoc org aspectj weaver patterns type pattern typepattern could ever match same types as couldevermatchsametypesas org aspectj weaver patterns type pattern typepattern could ever match same types as couldevermatchsametypesas type pattern typepattern could ever match same types as couldevermatchsametypesas sufficient unresolved type unresolvedtype other type othertype get exact type getexacttype resolved type resolvedtype is missing ismissing other type othertype name patterns namepatterns length name patterns namepatterns matches other type othertype get name getname wild type pattern wildtypepattern wild type pattern wildtypepattern owtp wild type pattern wildtypepattern string my simple name mysimplename name patterns namepatterns maybe get simple name maybegetsimplename string your simple name yoursimplename owtp name patterns namepatterns maybe get simple name maybegetsimplename my simple name mysimplename your simple name yoursimplename my simple name mysimplename starts with startswith your simple name yoursimplename your simple name yoursimplename starts with startswith my simple name mysimplename xxx inefficient implementation don characters nested types declared type generated code type names work required split names splitnames string convert dollar convertdollar list ret array list arraylist start index startindex break index breakindex index of indexof start index startindex treat convert dollar convertdollar break index breakindex break index breakindex index of indexof start index startindex break index breakindex substring start index startindex break index breakindex to char array tochararray ret add start index startindex break index breakindex ret add substring start index startindex to char array tochararray ret to array toarray ret size org aspectj weaver type pattern typepattern matches exactly matchesexactly itype matches exactly matchesexactly resolved type resolvedtype type matches exactly matchesexactly type type matches exactly matchesexactly resolved type resolvedtype type resolved type resolvedtype annotated type annotatedtype string target type name targettypename type get name getname system err println match target type name targettypename known matches knownmatches arrays as list aslist imported prefixes importedprefixes ensure annotation pattern resolved annotation pattern annotationpattern resolve type get world getworld matches exactly by name matchesexactlybyname target type name targettypename type is anonymous isanonymous type is nested isnested matches parameters matchesparameters type matches bounds matchesbounds type annotation pattern annotationpattern matches annotated type annotatedtype always true alwaystrue matched base raw type type pattern specifies parameters type variables match matches parameters matchesparameters resolved type resolvedtype a type atype match kind matchkind static or dynamic staticordynamic is generic isgeneric type parameters typeparameters size a type atype is parameterized type isparameterizedtype match type parameters type parameters typeparameters matches a type atype get resolved type parameters getresolvedtypeparameters static or dynamic staticordynamic always true alwaystrue matched base raw type type pattern specifies bounds deal match matches bounds matchesbounds resolved type resolvedtype a type atype match kind matchkind static or dynamic staticordynamic upper bound upperbound a type atype get upper bound getupperbound upper bound match object a type atype get upper bound getupperbound get name getname equals unresolved type unresolvedtype object get name getname lower bound lowerbound a type atype get lower bound getlowerbound upper bound upperbound match a type atype is generic wildcard isgenericwildcard a type atype is super issuper a type atype get upper bound getupperbound upper bound upperbound matches resolved type resolvedtype a type atype get upper bound getupperbound static or dynamic staticordynamic always true alwaystrue lower bound lowerbound match a type atype is generic wildcard isgenericwildcard a type atype is super issuper lower bound lowerbound matches resolved type resolvedtype a type atype get lower bound getlowerbound static or dynamic staticordynamic always true alwaystrue conjunction checks is star isstar pattern represents get dimensions getdimensions dim is array isarray dim param target type name targettypename matches exactly by name matchesexactlybyname string target type name targettypename is anonymous isanonymous is nested isnested deal parameter matching separately target type name targettypename index of indexof target type name targettypename target type name targettypename substring target type name targettypename index of indexof deal bounds matching separately target type name targettypename starts with startswith wildcard character target type name targettypename wildcard character xxx hack known matches knownmatches imported prefixes importedprefixes inner matches exactly innermatchesexactly target type name targettypename is anonymous isanonymous is nested isnested is name pattern star isnamepatternstar match dimensions match num dimensions in target type numdimensionsintargettype dim target type name targettypename index of indexof num dimensions in target type numdimensionsintargettype target type name targettypename target type name targettypename substring num dimensions in target type numdimensionsintargettype dim longer matches prefixes sort name patterns namepatterns length is anonymous isanonymous ruled pattern match anonymous type len known matches knownmatches length len known matches knownmatches equals target type name targettypename len known matches knownmatches length len string known prefix knownprefix known matches knownmatches target type name targettypename starts with startswith known prefix knownprefix pos last index of dot or dollar lastindexofdotordollar known matches knownmatches inner matches exactly innermatchesexactly target type name targettypename substring pos is anonymous isanonymous is nested isnested assumes prefixes dot len imported prefixes importedprefixes length len string prefix imported prefixes importedprefixes system err println prefix match prefix target type name targettypename target type name targettypename starts with startswith prefix inner matches exactly innermatchesexactly target type name targettypename substring prefix length is anonymous isanonymous is nested isnested inner matches exactly innermatchesexactly target type name targettypename is anonymous isanonymous is nested isnested last index of dot or dollar lastindexofdotordollar string string dot string last index of lastindexof dollar string last index of lastindexof math max dot dollar inner matches exactly innermatchesexactly string target type name targettypename is anonymous isanonymous is nested isnested everytime efficient names split names splitnames target type name targettypename is nested isnested inner matches exactly innermatchesexactly names is anonymous isanonymous inner matches exactly innermatchesexactly names is anonymous isanonymous names length nameslength names length patterns length patternslength name patterns namepatterns length names index namesindex patterns index patternsindex name patterns namepatterns patterns length patternslength is any isany is anonymous isanonymous ellipsis count ellipsiscount names length nameslength patterns length patternslength patterns index patternsindex patterns length patternslength name patterns namepatterns patterns index patternsindex matches names names index namesindex ellipsis count ellipsiscount names length nameslength patterns length patternslength patterns index patternsindex patterns length patternslength name pattern namepattern name patterns namepatterns patterns index patternsindex name pattern namepattern ellipsis names index namesindex names length nameslength patterns length patternslength patterns index patternsindex matches names names index namesindex system err print match arrays as list aslist name patterns namepatterns arrays as list aslist names out of star outofstar name patterns namepatterns names patterns length patternslength ellipsis count ellipsiscount names length nameslength ellipsis count ellipsiscount system err println out of star outofstar name pattern namepattern pattern target p left pleft t left tleft stars left starsleft p left pleft t left tleft invariant t left tleft target length pattern length t left tleft p left pleft stars left starsleft pattern name pattern namepattern ellipsis in star instar pattern target p left pleft t left tleft stars left starsleft pattern matches target p left pleft t left tleft in star instar name pattern namepattern pattern target p left pleft t left tleft stars left starsleft invariant p left pleft stars find real pattern parse multiple row algorithm parallel name pattern namepattern name pattern namepattern pattern char patternchar pattern pattern char patternchar name pattern namepattern ellipsis stars left starsleft pattern char patternchar pattern invariant t left tleft target length p left pleft t left tleft pattern char patternchar matches target out of star outofstar pattern target p left pleft t left tleft stars left starsleft t left tleft org aspectj weaver type pattern typepattern matches instanceof matchesinstanceof itype fuzzy boolean fuzzyboolean matches instanceof matchesinstanceof resolved type resolvedtype type xxx hack unmatched types silently remain maybe get simple name maybegetsimplename fuzzy boolean fuzzyboolean type get world getworld get message handler getmessagehandler handle message handlemessage message matching patterns wildcards imessage error get source location getsourcelocation fuzzy boolean fuzzyboolean name pattern namepattern extract name extractname is include subtypes isincludesubtypes is var args isvarargs is array isarray type parameters typeparameters size treat foo method system err println extract arrays as list aslist name patterns namepatterns len name patterns namepatterns length extract len annotation pattern annotationpattern is any isany name pattern namepattern ret name patterns namepatterns len name pattern namepattern new names newnames name pattern namepattern len system arraycopy name patterns namepatterns new names newnames len name patterns namepatterns new names newnames system err println left arrays as list aslist name patterns namepatterns ret method maybe extract name maybeextractname param string maybe extract name maybeextractname string string len name patterns namepatterns length name pattern namepattern ret name patterns namepatterns len string simple ret maybe get simple name maybegetsimplename simple simple equals string extract name extractname type pattern simple string string maybe get simple name maybegetsimplename name patterns namepatterns length name patterns namepatterns maybe get simple name maybegetsimplename type pattern string maybe get clean name maybegetcleanname name patterns namepatterns length runtime exception runtimeexception bad name patterns namepatterns system println clean string buffer stringbuffer buf string buffer stringbuffer len name patterns namepatterns length len name pattern namepattern name patterns namepatterns string simple name simplename maybe get simple name maybegetsimplename simple name simplename buf append buf append simple name simplename system println buf buf to string tostring type pattern typepattern parameterize with parameterizewith map type variable map typevariablemap name pattern namepattern new name patterns newnamepatterns name pattern namepattern name patterns namepatterns length name patterns namepatterns length new name patterns newnamepatterns name patterns namepatterns new name patterns newnamepatterns length string simple name simplename new name patterns newnamepatterns maybe get simple name maybegetsimplename simple name simplename type variable map typevariablemap contains key containskey simple name simplename string new name newname reference type referencetype type variable map typevariablemap simple name simplename get name getname replace string tokenizer stringtokenizer str tok strtok string tokenizer stringtokenizer new name newname new name patterns newnamepatterns name pattern namepattern str tok strtok count tokens counttokens str tok strtok has more tokens hasmoretokens new name patterns newnamepatterns name pattern namepattern str tok strtok next token nexttoken wild type pattern wildtypepattern ret wild type pattern wildtypepattern new name patterns newnamepatterns include subtypes includesubtypes dim is var args isvarargs type parameters typeparameters parameterize with parameterizewith type variable map typevariablemap ret annotation pattern annotationpattern annotation pattern annotationpattern parameterize with parameterizewith type variable map typevariablemap additional interface bounds additionalinterfacebounds ret additional interface bounds additionalinterfacebounds ret additional interface bounds additionalinterfacebounds type pattern typepattern additional interface bounds additionalinterfacebounds length additional interface bounds additionalinterfacebounds length ret additional interface bounds additionalinterfacebounds additional interface bounds additionalinterfacebounds parameterize with parameterizewith type variable map typevariablemap ret upper bound upperbound upper bound upperbound upper bound upperbound parameterize with parameterizewith type variable map typevariablemap ret lower bound lowerbound lower bound lowerbound lower bound lowerbound parameterize with parameterizewith type variable map typevariablemap ret is generic isgeneric is generic isgeneric ret known matches knownmatches known matches knownmatches ret imported prefixes importedprefixes imported prefixes importedprefixes ret copy location from copylocationfrom ret determine pattern reference formal optimize pattern pattern replaced type pattern typepattern resolve bindings resolvebindings iscope scope bindings bindings allow binding allowbinding require exact type requireexacttype is name pattern star isnamepatternstar type pattern typepattern any pattern anypattern maybe resolve to any pattern mayberesolvetoanypattern scope bindings allow binding allowbinding require exact type requireexacttype any pattern anypattern require exact type requireexacttype scope get world getworld get message handler getmessagehandler handle message handlemessage message util messageutil error weaver messages weavermessages format weaver messages weavermessages wildcard allowed get source location getsourcelocation any pattern anypattern type pattern typepattern binding type pattern bindingtypepattern maybe resolve to binding type pattern mayberesolvetobindingtypepattern scope bindings allow binding allowbinding require exact type requireexacttype binding type pattern bindingtypepattern binding type pattern bindingtypepattern annotation pattern annotationpattern annotation pattern annotationpattern resolve bindings resolvebindings scope bindings allow binding allowbinding resolve type parameters type parameters typeparameters type parameters typeparameters size type parameters typeparameters resolve bindings resolvebindings scope bindings allow binding allowbinding require exact type requireexacttype is generic isgeneric resolve bounds upper bound upperbound upper bound upperbound upper bound upperbound resolve bindings resolvebindings scope bindings allow binding allowbinding require exact type requireexacttype lower bound lowerbound lower bound lowerbound lower bound lowerbound resolve bindings resolvebindings scope bindings allow binding allowbinding require exact type requireexacttype amc additional bounds needed support type vars string fully qualified name fullyqualifiedname maybe get clean name maybegetcleanname fully qualified name fullyqualifiedname resolve bindings from fully qualified type name resolvebindingsfromfullyqualifiedtypename fully qualified name fullyqualifiedname scope bindings allow binding allowbinding require exact type requireexacttype require exact type requireexacttype scope get world getworld get message handler getmessagehandler handle message handlemessage message util messageutil error weaver messages weavermessages format weaver messages weavermessages wildcard allowed get source location getsourcelocation imported prefixes importedprefixes scope get imported prefixes getimportedprefixes known matches knownmatches pre match prematch scope get imported names getimportednames pattern wildcards resolved exact type pattern exacttypepattern xxx implement behavior lint invalid wildcard type name invalidwildcardtypename type pattern typepattern maybe resolve to any pattern mayberesolvetoanypattern iscope scope bindings bindings allow binding allowbinding require exact type requireexacttype any with annotation anywithannotation annotation pattern annotationpattern annotation type pattern annotationtypepattern dim is var args isvarargs upper bound upperbound lower bound lowerbound additional interface bounds additionalinterfacebounds additional interface bounds additionalinterfacebounds length loses source location type pattern typepattern annotation pattern annotationpattern annotation pattern annotationpattern resolve bindings resolvebindings scope bindings allow binding allowbinding any with annotation type pattern anywithannotationtypepattern ret any with annotation type pattern anywithannotationtypepattern annotation pattern annotationpattern ret set location setlocation source context sourcecontext start ret resolve simple pattern type pattern typepattern maybe resolve to binding type pattern mayberesolvetobindingtypepattern iscope scope bindings bindings allow binding allowbinding require exact type requireexacttype string simple name simplename maybe get simple name maybegetsimplename simple name simplename formal binding formalbinding formal binding formalbinding scope lookup formal lookupformal simple name simplename formal binding formalbinding bindings scope message imessage error negation doesn binding allow binding allowbinding scope message imessage error binding allowed target args pcds binding type pattern bindingtypepattern binding binding type pattern bindingtypepattern formal binding formalbinding is var args isvarargs binding copy location from copylocationfrom bindings register binding scope binding resolve binding type pattern type pattern typepattern resolve bindings from fully qualified type name resolvebindingsfromfullyqualifiedtypename string fully qualified name fullyqualifiedname iscope scope bindings bindings allow binding allowbinding require exact type requireexacttype string original name originalname fully qualified name fullyqualifiedname resolved type resolvedtype resolved type in the world resolvedtypeintheworld unresolved type unresolvedtype type system println resolve clean name cleanname loop inefficiencies count resolved type in the world resolvedtypeintheworld lookup type in world lookuptypeinworld scope get world getworld fully qualified name fullyqualifiedname resolved type in the world resolvedtypeintheworld is generic wildcard isgenericwildcard type resolved type in the world resolvedtypeintheworld type lookup type in scope lookuptypeinscope scope fully qualified name fullyqualifiedname type resolved type resolvedtype resolved type resolvedtype type is missing ismissing resolve bindings for missing type resolvebindingsformissingtype resolved type in the world resolvedtypeintheworld original name originalname scope bindings allow binding allowbinding require exact type requireexacttype resolve bindings for exact type resolvebindingsforexacttype scope type fully qualified name fullyqualifiedname require exact type requireexacttype unresolved type unresolvedtype lookup type in scope lookuptypeinscope iscope scope string type name typename ihas position ihasposition location unresolved type unresolvedtype type resolved type resolvedtype is missing ismissing type scope lookup type lookuptype type name typename location last dot lastdot type name typename last index of lastindexof last dot lastdot type name typename type name typename substring last dot lastdot type name typename substring last dot lastdot type resolved type resolvedtype lookup type in world lookuptypeinworld string type name typename resolved type resolvedtype ret resolve unresolved type unresolvedtype for name forname type name typename ret is missing ismissing last dot lastdot type name typename last index of lastindexof last dot lastdot type name typename type name typename substring last dot lastdot type name typename substring last dot lastdot ret resolve unresolved type unresolvedtype for name forname type name typename ret type pattern typepattern resolve bindings for exact type resolvebindingsforexacttype iscope scope unresolved type unresolvedtype a type atype string fully qualified name fullyqualifiedname require exact type requireexacttype type pattern typepattern ret a type atype is type variable reference istypevariablereference bounds based bounds pattern ret resolve bindings for type variable resolvebindingsfortypevariable scope unresolved type variable reference type unresolvedtypevariablereferencetype a type atype type parameters typeparameters size ret resolve parameterized type resolveparameterizedtype scope a type atype require exact type requireexacttype upper bound upperbound lower bound lowerbound wildcard bounds ret resolve generic wildcard resolvegenericwildcard scope a type atype dim a type atype unresolved type unresolvedtype make array makearray a type atype dim ret exact type pattern exacttypepattern a type atype include subtypes includesubtypes is var args isvarargs ret set annotation type pattern setannotationtypepattern annotation pattern annotationpattern ret copy location from copylocationfrom ret type pattern typepattern resolve generic wildcard resolvegenericwildcard iscope scope unresolved type unresolvedtype a type atype a type atype get signature getsignature equals wildcard character illegal state exception illegalstateexception bounds wildcard can be exact canbeexact upper bound upperbound resolved type resolvedtype is missing ismissing upper bound upperbound get exact type getexacttype can be exact canbeexact lower bound lowerbound resolved type resolvedtype is missing ismissing lower bound lowerbound get exact type getexacttype can be exact canbeexact can be exact canbeexact resolved type resolvedtype type upper bound upperbound upper bound upperbound is include subtypes isincludesubtypes can be exact canbeexact reference type referencetype upper reference type referencetype upper bound upperbound get exact type getexacttype resolve scope get world getworld type bounded reference type boundedreferencetype upper scope get world getworld lower bound lowerbound is include subtypes isincludesubtypes can be exact canbeexact reference type referencetype reference type referencetype lower bound lowerbound get exact type getexacttype resolve scope get world getworld type bounded reference type boundedreferencetype scope get world getworld can be exact canbeexact changed find include subtypes bounds exact type pattern exacttypepattern type include subtypes includesubtypes is var args isvarargs weren resolve exact type pattern leave wild type pattern imported prefixes importedprefixes scope get imported prefixes getimportedprefixes known matches knownmatches pre match prematch scope get imported names getimportednames type pattern typepattern resolve parameterized type resolveparameterizedtype iscope scope unresolved type unresolvedtype a type atype require exact type requireexacttype messages isued verify type parameters verifytypeparameters a type atype resolve scope get world getworld scope require exact type requireexacttype type pattern typepattern exact type pattern exacttypepattern wild type pattern wildtypepattern type parameters typeparameters are all exact with no subtypes allowed areallexactwithnosubtypesallowed type pattern typepattern type pats typepats type parameters typeparameters get type patterns gettypepatterns unresolved type unresolvedtype type parameter types typeparametertypes unresolved type unresolvedtype type pats typepats length type parameter types typeparametertypes length type parameter types typeparametertypes exact type pattern exacttypepattern type pats typepats get exact type getexacttype resolved type resolvedtype type type factory typefactory create parameterized type createparameterizedtype a type atype resolve scope get world getworld type parameter types typeparametertypes scope get world getworld is generic isgeneric type type get generic type getgenerictype unresolved type unresolvedtype type scope get world getworld resolve dim type resolved type resolvedtype make array makearray type dim exact type pattern exacttypepattern type include subtypes includesubtypes is var args isvarargs amc leave wild type pattern imported prefixes importedprefixes scope get imported prefixes getimportedprefixes known matches knownmatches pre match prematch scope get imported names getimportednames type pattern typepattern resolve bindings for missing type resolvebindingsformissingtype resolved type resolvedtype type found in whole world search typefoundinwholeworldsearch string name we looked for namewelookedfor iscope scope bindings bindings allow binding allowbinding require exact type requireexacttype require exact type requireexacttype allow binding allowbinding scope get world getworld get message handler getmessagehandler handle message handlemessage message util messageutil error weaver messages weavermessages format weaver messages weavermessages bind type name we looked for namewelookedfor get source location getsourcelocation scope get world getworld get lint getlint invalid absolute type name invalidabsolutetypename is enabled isenabled scope get world getworld get lint getlint invalid absolute type name invalidabsolutetypename signal name we looked for namewelookedfor get source location getsourcelocation scope get world getworld get lint getlint invalid absolute type name invalidabsolutetypename is enabled isenabled lint warning find type found in whole world search typefoundinwholeworldsearch is missing ismissing scope get world getworld get lint getlint invalid absolute type name invalidabsolutetypename signal name we looked for namewelookedfor get source location getsourcelocation imported prefixes importedprefixes scope get imported prefixes getimportedprefixes known matches knownmatches pre match prematch scope get imported names getimportednames resolved type type variable declared pointcut designator create exact type pattern wild type pattern upper bounds xxx stuff serialized param scope param tvr type tvrtype type pattern typepattern resolve bindings for type variable resolvebindingsfortypevariable iscope scope unresolved type variable reference type unresolvedtypevariablereferencetype tvr type tvrtype bindings empty bindings emptybindings bindings upper bound upperbound upper bound upperbound upper bound upperbound resolve bindings resolvebindings scope empty bindings emptybindings lower bound lowerbound lower bound lowerbound lower bound lowerbound resolve bindings resolvebindings scope empty bindings emptybindings additional interface bounds additionalinterfacebounds type pattern typepattern resolved if bounds resolvedifbounds type pattern typepattern additional interface bounds additionalinterfacebounds length resolved if bounds resolvedifbounds length resolved if bounds resolvedifbounds additional interface bounds additionalinterfacebounds resolve bindings resolvebindings scope empty bindings emptybindings additional interface bounds additionalinterfacebounds resolved if bounds resolvedifbounds upper bound upperbound lower bound lowerbound additional interface bounds additionalinterfacebounds bounds worry resolved type resolvedtype r type rtype tvr type tvrtype resolve scope get world getworld dim r type rtype resolved type resolvedtype make array makearray r type rtype dim exact type pattern exacttypepattern r type rtype include subtypes includesubtypes is var args isvarargs bounds type variable typevariable held tvr type tvrtype resolving can create exact type pattern cancreateexacttypepattern upper bound upperbound resolved type resolvedtype is missing ismissing upper bound upperbound get exact type getexacttype can create exact type pattern cancreateexacttypepattern lower bound lowerbound resolved type resolvedtype is missing ismissing lower bound lowerbound get exact type getexacttype can create exact type pattern cancreateexacttypepattern additional interface bounds additionalinterfacebounds additional interface bounds additionalinterfacebounds length resolved type resolvedtype is missing ismissing additional interface bounds additionalinterfacebounds get exact type getexacttype can create exact type pattern cancreateexacttypepattern can create exact type pattern cancreateexacttypepattern type variable typevariable tvr type tvrtype get type variable gettypevariable upper bound upperbound set upper bound setupperbound upper bound upperbound get exact type getexacttype lower bound lowerbound set lower bound setlowerbound lower bound lowerbound get exact type getexacttype additional interface bounds additionalinterfacebounds unresolved type unresolvedtype if bounds ifbounds unresolved type unresolvedtype additional interface bounds additionalinterfacebounds length if bounds ifbounds length if bounds ifbounds additional interface bounds additionalinterfacebounds get exact type getexacttype set additional interface bounds setadditionalinterfacebounds if bounds ifbounds resolved type resolvedtype r type rtype tvr type tvrtype resolve scope get world getworld dim r type rtype resolved type resolvedtype make array makearray r type rtype dim exact type pattern exacttypepattern r type rtype include subtypes includesubtypes is var args isvarargs leave wild type pattern method called resolved base type exact type type patterns parameters time perform basic checks base type parameterized type parameter pattern list match number parameters base type parameter patterns meet bounds respective type variables checks fail warning message issued verify type parameters verifytypeparameters resolved type resolvedtype base type basetype iscope scope require exact type requireexacttype resolved type resolvedtype generic type generictype base type basetype get generic type getgenerictype generic type generictype issue message match base type basetype get name getname scope message message util messageutil warn weaver messages weavermessages format weaver messages weavermessages type base type basetype get name getname get source location getsourcelocation min required type parameters minrequiredtypeparameters type parameters typeparameters size found ellipsis foundellipsis type pattern typepattern type param patterns typeparampatterns type parameters typeparameters get type patterns gettypepatterns type param patterns typeparampatterns length type param patterns typeparampatterns wild type pattern wildtypepattern wild type pattern wildtypepattern wtp wild type pattern wildtypepattern type param patterns typeparampatterns wtp ellipsis count ellipsiscount found ellipsis foundellipsis min required type parameters minrequiredtypeparameters type variable typevariable tvs generic type generictype get type variables gettypevariables tvs length min required type parameters minrequiredtypeparameters found ellipsis foundellipsis min required type parameters minrequiredtypeparameters tvs length issue message match wrong type params string msg weaver messages weavermessages format weaver messages weavermessages incorrect number type arguments generic type generictype get name getname integer tvs length require exact type requireexacttype scope message message util messageutil error msg get source location getsourcelocation scope message message util messageutil warn msg get source location getsourcelocation call check bounds ok checkboundsok boundscheckingoff verify bounds for type pattern verifyboundsfortypepattern verification verify bounds for type pattern verifyboundsfortypepattern scope generic type generictype require exact type requireexacttype type parameters typeparameters get source location getsourcelocation scope get world getworld get crosscutting members set getcrosscuttingmembersset record necessary check recordnecessarycheck verification capturing verification performing verify type parameters verifytypeparameters cope situations interactions generics declare parents problems verifying report problem fixed declare parents haven looked create store verification object verify type system considered complete verify bounds for type pattern verifyboundsfortypepattern iverification required iverificationrequired iscope scope resolved type resolvedtype generic type generictype require exact type requireexacttype type pattern list typepatternlist type parameters typeparameters type pattern list typepatternlist empty isource location isourcelocation s loc sloc verify bounds for type pattern verifyboundsfortypepattern iscope scope resolved type resolvedtype generic type generictype require exact type requireexacttype type pattern list typepatternlist type parameters typeparameters isource location isourcelocation s loc sloc scope scope generic type generictype generic type generictype require exact type requireexacttype require exact type requireexacttype type parameters typeparameters type parameters typeparameters s loc sloc s loc sloc verify type variable typevariable tvs generic type generictype get type variables gettypevariables type pattern typepattern type param patterns typeparampatterns type parameters typeparameters get type patterns gettypepatterns type parameters typeparameters are all exact with no subtypes allowed areallexactwithnosubtypesallowed tvs length unresolved type unresolvedtype type param patterns typeparampatterns get exact type getexacttype continue check continuecheck generic aspect k genericaspectk test is type variable reference istypevariablereference continue check continuecheck system err println verifying get name getname meets bounds tvs continue check continuecheck tvs can be bound to canbeboundto resolve scope get world getworld issue message type parameter meet specification string parameter name parametername get name getname is type variable reference istypevariablereference parameter name parametername type variable reference typevariablereference get type variable gettypevariable get display name getdisplayname string msg weaver messages weavermessages format weaver messages weavermessages violates type variable bounds parameter name parametername integer tvs get display name getdisplayname generic type generictype get name getname require exact type requireexacttype scope message message util messageutil error msg s loc sloc scope message message util messageutil warn msg s loc sloc moved verification object check bounds ok checkboundsok iscope scope resolved type resolvedtype generic type generictype require exact type requireexacttype boundscheckingoff type variable typevariable tvs generic type generictype get type variables gettypevariables type pattern typepattern type param patterns typeparampatterns type parameters typeparameters get type patterns gettypepatterns type parameters typeparameters are all exact with no subtypes allowed areallexactwithnosubtypesallowed tvs length unresolved type unresolvedtype type param patterns typeparampatterns get exact type getexacttype continue check continuecheck fixme asc dont temporary measure type parameter type variable aspect assume generic aspect k genericaspectk test is type variable reference istypevariablereference continue check continuecheck continue check continuecheck tvs can be bound to canbeboundto resolve scope get world getworld issue message type parameter meet specification string parameter name parametername get name getname is type variable reference istypevariablereference parameter name parametername type variable reference typevariablereference get type variable gettypevariable get display name getdisplayname string msg weaver messages weavermessages format weaver messages weavermessages violates type variable bounds parameter name parametername integer tvs get display name getdisplayname generic type generictype get name getname require exact type requireexacttype scope message message util messageutil error msg get source location getsourcelocation scope message message util messageutil warn msg get source location getsourcelocation is star isstar ann pattern star annpatternstar annotation pattern annotationpattern annotation type pattern annotationtypepattern is name pattern star isnamepatternstar ann pattern star annpatternstar is name pattern star isnamepatternstar name patterns namepatterns length name patterns namepatterns is any isany returns matches match element string pre match prematch string possible matches possiblematches name patterns namepatterns length collection util collectionutil strings list ret array list arraylist len possible matches possiblematches length len efficient names split names splitnames possible matches possiblematches name patterns namepatterns matches names names length ret add possible matches possiblematches possible matches possiblematches index of indexof efficient names split names splitnames possible matches possiblematches name patterns namepatterns matches names names length ret add possible matches possiblematches string ret to array toarray string ret size post read postread resolved type resolvedtype enclosing type enclosingtype imported prefixes importedprefixes enclosing type enclosingtype get imported prefixes getimportedprefixes known names knownnames prematch enclosing type enclosingtype get imported names getimportednames string to string tostring string buffer stringbuffer buf string buffer stringbuffer annotation pattern annotationpattern annotation type pattern annotationtypepattern buf append buf append annotation pattern annotationpattern to string tostring buf append len name patterns namepatterns length len name pattern namepattern name patterns namepatterns buf append buf append buf append to string tostring upper bound upperbound buf append buf append upper bound upperbound to string tostring lower bound lowerbound buf append buf append lower bound lowerbound to string tostring type parameters typeparameters type parameters typeparameters size buf append buf append type parameters typeparameters to string tostring buf append include subtypes includesubtypes buf append is var args isvarargs buf append annotation pattern annotationpattern annotation type pattern annotationtypepattern buf append buf to string tostring equals object wild type pattern wildtypepattern wild type pattern wildtypepattern wild type pattern wildtypepattern len name patterns namepatterns length len name patterns namepatterns length include subtypes includesubtypes include subtypes includesubtypes dim dim is var args isvarargs is var args isvarargs upper bound upperbound upper bound upperbound upper bound upperbound equals upper bound upperbound upper bound upperbound lower bound lowerbound lower bound lowerbound lower bound lowerbound equals lower bound lowerbound lower bound lowerbound type parameters typeparameters equals type parameters typeparameters len name patterns namepatterns equals name patterns namepatterns annotation pattern annotationpattern equals annotation pattern annotationpattern hash code hashcode result len name patterns namepatterns length len result result name patterns namepatterns hash code hashcode result result annotation pattern annotationpattern hash code hashcode upper bound upperbound result result upper bound upperbound hash code hashcode lower bound lowerbound result result lower bound lowerbound hash code hashcode result rev change version org aspectj weaver patterns pattern node patternnode write data output stream dataoutputstream write data output stream dataoutputstream ioexception write byte writebyte type pattern typepattern wild write byte writebyte version write short writeshort name patterns namepatterns length name patterns namepatterns length name patterns namepatterns write write boolean writeboolean include subtypes includesubtypes write int writeint dim write boolean writeboolean is var args isvarargs change type parameters typeparameters write storing type pattern wasteful file size storing enclosing types efficient file util fileutil write string array writestringarray known matches knownmatches file util fileutil write string array writestringarray imported prefixes importedprefixes write location writelocation annotation pattern annotationpattern write generics info write boolean writeboolean is generic isgeneric write boolean writeboolean upper bound upperbound upper bound upperbound upper bound upperbound write write boolean writeboolean lower bound lowerbound lower bound lowerbound lower bound lowerbound write write int writeint additional interface bounds additionalinterfacebounds additional interface bounds additionalinterfacebounds length additional interface bounds additionalinterfacebounds additional interface bounds additionalinterfacebounds length additional interface bounds additionalinterfacebounds write type pattern typepattern read versioned data input stream versioneddatainputstream isource context isourcecontext context ioexception get major version getmajorversion aj attribute ajattribute weaver version info weaverversioninfo weaver version major read type pattern readtypepattern context read type pattern old style readtypepatternoldstyle context type pattern typepattern read type pattern readtypepattern versioned data input stream versioneddatainputstream isource context isourcecontext context ioexception version read byte readbyte version version bcexception wild type pattern wildtypepattern written version aspect j aspectj read len read short readshort name pattern namepattern name patterns namepatterns name pattern namepattern len len name patterns namepatterns name pattern namepattern read include subtypes includesubtypes read boolean readboolean dim read int readint var arg vararg read boolean readboolean type pattern list typepatternlist type params typeparams type pattern list typepatternlist read context wild type pattern wildtypepattern ret wild type pattern wildtypepattern name patterns namepatterns include subtypes includesubtypes dim var arg vararg type params typeparams ret known matches knownmatches file util fileutil read string array readstringarray ret imported prefixes importedprefixes file util fileutil read string array readstringarray ret read location readlocation context ret set annotation type pattern setannotationtypepattern annotation type pattern annotationtypepattern read context generics info ret is generic isgeneric read boolean readboolean read boolean readboolean ret upper bound upperbound type pattern typepattern read context read boolean readboolean ret lower bound lowerbound type pattern typepattern read context num if bounds numifbounds read int readint num if bounds numifbounds ret additional interface bounds additionalinterfacebounds type pattern typepattern num if bounds numifbounds num if bounds numifbounds ret additional interface bounds additionalinterfacebounds type pattern typepattern read context ret type pattern typepattern read type pattern old style readtypepatternoldstyle versioned data input stream versioneddatainputstream isource context isourcecontext context ioexception len read short readshort name pattern namepattern name patterns namepatterns name pattern namepattern len len name patterns namepatterns name pattern namepattern read include subtypes includesubtypes read boolean readboolean dim read int readint wild type pattern wildtypepattern ret wild type pattern wildtypepattern name patterns namepatterns include subtypes includesubtypes dim ret known matches knownmatches file util fileutil read string array readstringarray ret imported prefixes importedprefixes file util fileutil read string array readstringarray ret read location readlocation context ret object accept pattern node visitor patternnodevisitor visitor object data visitor visit data