copyright contributors rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors adrian colyer initial implementation org aspectj apache bcel classfile java util array list arraylist java util list org aspectj apache bcel classfile signature array type signature arraytypesignature org aspectj apache bcel classfile signature class type signature classtypesignature org aspectj apache bcel classfile signature field type signature fieldtypesignature org aspectj apache bcel classfile signature formal type parameter formaltypeparameter org aspectj apache bcel classfile signature method type signature methodtypesignature org aspectj apache bcel classfile signature simple class type signature simpleclasstypesignature org aspectj apache bcel classfile signature type argument typeargument org aspectj apache bcel classfile signature type signature typesignature org aspectj apache bcel classfile signature type variable signature typevariablesignature org aspectj apache bcel classfile signature base type signature basetypesignature parses signature attribute defined jvm spec generic signature parser genericsignatureparser string input string inputstring parse flight string token stream tokenstream token index tokenindex amc parse signature string interpreting class signature classsignature grammar defined jvm specification signature class signature classsignature parse as class signature parseasclasssignature string sig input string inputstring sig token stream tokenstream tokenize sig token index tokenindex signature class signature classsignature class sig classsig signature class signature classsignature formal type parameters formaltypeparameters opt maybe eat maybeeat list formal type parameters list formaltypeparameterslist array list arraylist formal type parameters list formaltypeparameterslist add parse formal type parameter parseformaltypeparameter maybe eat maybeeat class sig classsig formal type parameters formaltypeparameters formal type parameter formaltypeparameter formal type parameters list formaltypeparameterslist size formal type parameters list formaltypeparameterslist to array toarray class sig classsig formal type parameters formaltypeparameters class sig classsig superclass signature superclasssignature parse class type signature parseclasstypesignature list super int sigs superintsigs array list arraylist token index tokenindex token stream tokenstream length super int sigs superintsigs add parse class type signature parseclasstypesignature class sig classsig super interface signatures superinterfacesignatures class type signature classtypesignature super int sigs superintsigs size super int sigs superintsigs to array toarray class sig classsig super interface signatures superinterfacesignatures class sig classsig amc parse signature string interpreting method type signature methodtypesignature grammar defined jvm specification method type signature methodtypesignature parse as method signature parseasmethodsignature string sig input string inputstring sig token stream tokenstream tokenize sig token index tokenindex formal type parameter formaltypeparameter formals formal type parameter formaltypeparameter type signature typesignature params type signature typesignature type signature typesignature return type returntype field type signature fieldtypesignature throws sigs throwssigs field type signature fieldtypesignature formal type parameters formaltypeparameters opt maybe eat maybeeat list formal type parameters list formaltypeparameterslist array list arraylist formal type parameters list formaltypeparameterslist add parse formal type parameter parseformaltypeparameter maybe eat maybeeat formals formal type parameter formaltypeparameter formal type parameters list formaltypeparameterslist size formal type parameters list formaltypeparameterslist to array toarray formals parameters eat list param list paramlist array list arraylist maybe eat maybeeat field type signature fieldtypesignature fsig parse field type signature parsefieldtypesignature fsig param list paramlist add fsig param list paramlist add signature base type signature basetypesignature eat identifier eatidentifier params type signature typesignature param list paramlist size param list paramlist to array toarray params type return type returntype parse field type signature parsefieldtypesignature return type returntype return type returntype signature base type signature basetypesignature eat identifier eatidentifier list throws list throwslist array list arraylist maybe eat maybeeat field type signature fieldtypesignature fsig parse field type signature parsefieldtypesignature throws list throwslist add fsig throws sigs throwssigs field type signature fieldtypesignature throws list throwslist size throws list throwslist to array toarray throws sigs throwssigs signature method type signature methodtypesignature formals params return type returntype throws sigs throwssigs amc parse signature string interpreting field type signature fieldtypesignature grammar defined jvm specification field type signature fieldtypesignature parse as field signature parseasfieldsignature string sig input string inputstring sig token stream tokenstream tokenize sig token index tokenindex parse field type signature parsefieldtypesignature formal type parameter formaltypeparameter parse formal type parameter parseformaltypeparameter formal type parameter formaltypeparameter ftp formal type parameter formaltypeparameter identifier ftp identifier eat identifier eatidentifier class bound classbound eat ftp class bound classbound parse field type signature parsefieldtypesignature ftp class bound classbound ftp class bound classbound class type signature classtypesignature ljava lang object ljava lang object optional interface bounds interfacebounds list optional bounds optionalbounds array list arraylist maybe eat maybeeat optional bounds optionalbounds add parse field type signature parsefieldtypesignature ftp interface bounds interfacebounds field type signature fieldtypesignature optional bounds optionalbounds size optional bounds optionalbounds to array toarray ftp interface bounds interfacebounds ftp field type signature fieldtypesignature parse field type signature parsefieldtypesignature is optional isoptional is optional isoptional token stream tokenstream token index tokenindex starts with startswith token stream tokenstream token index tokenindex starts with startswith token stream tokenstream token index tokenindex starts with startswith maybe eat maybeeat parse array type signature parsearraytypesignature token stream tokenstream token index tokenindex starts with startswith parse class type signature parseclasstypesignature token stream tokenstream token index tokenindex starts with startswith parse type variable signature parsetypevariablesignature illegal state exception illegalstateexception expecting token stream tokenstream token index tokenindex unpacking input string inputstring array type signature arraytypesignature parse array type signature parsearraytypesignature opening eaten field type signature fieldtypesignature field type fieldtype parse field type signature parsefieldtypesignature field type fieldtype array type signature arraytypesignature field type fieldtype base type basetype array array type signature arraytypesignature base type signature basetypesignature eat identifier eatidentifier package specifier packagespecifier simple class type signature simpleclasstypesignature class type signature classtypesignature class type signature classtypesignature parse class type signature parseclasstypesignature simple class type signature simpleclasstypesignature outer type outertype simple class type signature simpleclasstypesignature nested types nestedtypes simple class type signature simpleclasstypesignature string buffer stringbuffer ret string buffer stringbuffer string identifier eat identifier eatidentifier ret append identifier maybe eat maybeeat dont forget ret append ret append eat identifier eatidentifier identifier ret to string tostring indication type arguments maybe eat maybeeat maybe eat maybeeat type completed outer type outertype simple class type signature simpleclasstypesignature identifier list nested type list nestedtypelist array list arraylist ret append simple class type signature simpleclasstypesignature sig parse simple class type signature parsesimpleclasstypesignature ret append sig to string tostring nested type list nestedtypelist add sig maybe eat maybeeat nested types nestedtypes simple class type signature simpleclasstypesignature nested type list nestedtypelist size nested type list nestedtypelist to array toarray nested types nestedtypes token stream tokenstream token index tokenindex equals ret append type argument typeargument t args targs maybe parse type arguments maybeparsetypearguments t args targs length ret append t args targs to string tostring ret append outer type outertype simple class type signature simpleclasstypesignature identifier t args targs parse nesteds list nested type list nestedtypelist array list arraylist maybe eat maybeeat ret append simple class type signature simpleclasstypesignature sig parse simple class type signature parsesimpleclasstypesignature ret append sig to string tostring nested type list nestedtypelist add sig nested types nestedtypes simple class type signature simpleclasstypesignature nested type list nestedtypelist size nested type list nestedtypelist to array toarray nested types nestedtypes illegal state exception illegalstateexception expecting token stream tokenstream token index tokenindex unpacking input string inputstring ret append outer type outertype outer type outertype simple class type signature simpleclasstypesignature ret to string tostring class type signature classtypesignature ret to string tostring outer type outertype nested types nestedtypes simple class type signature simpleclasstypesignature parse simple class type signature parsesimpleclasstypesignature string identifier eat identifier eatidentifier type argument typeargument t args targs maybe parse type arguments maybeparsetypearguments t args targs simple class type signature simpleclasstypesignature identifier t args targs simple class type signature simpleclasstypesignature identifier type argument typeargument parse type argument parsetypeargument is plus isplus is minus isminus maybe eat maybeeat type argument typeargument maybe eat maybeeat is plus isplus maybe eat maybeeat is minus isminus field type signature fieldtypesignature sig parse field type signature parsefieldtypesignature type argument typeargument is plus isplus is minus isminus sig type argument typeargument maybe parse type arguments maybeparsetypearguments maybe eat maybeeat list type args typeargs array list arraylist type argument typeargument arg parse type argument parsetypeargument type args typeargs add arg maybe eat maybeeat type argument typeargument t args targs type argument typeargument type args typeargs size type args typeargs to array toarray t args targs t args targs type variable signature typevariablesignature parse type variable signature parsetypevariablesignature type variable signature typevariablesignature type variable signature typevariablesignature eat identifier eatidentifier eat maybe eat maybeeat string token token stream tokenstream length token index tokenindex token stream tokenstream token index tokenindex equals token token index tokenindex eat string token token stream tokenstream token index tokenindex equals token illegal state exception illegalstateexception expecting token token stream tokenstream token index tokenindex unpacking input string inputstring token index tokenindex string eat identifier eatidentifier token stream tokenstream token index tokenindex test visibility splits string signature tokens consumption parser string tokenize string signature string signaturestring chars signature string signaturestring to char array tochararray list tokens array list arraylist string buffer stringbuffer identifier string buffer stringbuffer in parens inparens in array inarray could see primitive couldseeprimitive chars identifier length tokens add identifier to string tostring identifier string buffer stringbuffer tokens add identifier length tokens add identifier to string tostring identifier string buffer stringbuffer tokens add identifier length tokens add identifier to string tostring identifier string buffer stringbuffer tokens add identifier length tokens add identifier to string tostring identifier string buffer stringbuffer tokens add could see primitive couldseeprimitive identifier length tokens add identifier to string tostring identifier string buffer stringbuffer tokens add could see primitive couldseeprimitive in array inarray identifier length tokens add identifier to string tostring identifier string buffer stringbuffer tokens add tokens add tokens add tokens add identifier length tokens add identifier to string tostring identifier string buffer stringbuffer could see primitive couldseeprimitive tokens add tokens add in parens inparens could see primitive couldseeprimitive tokens add in parens inparens tokens add could see primitive couldseeprimitive in array inarray in parens inparens in array inarray could see primitive couldseeprimitive identifier length tokens add string chars identifier append chars in array inarray could see primitive couldseeprimitive deliberate fall identifier append chars chars length identifier length tokens add identifier to string tostring string token array tokenarray string tokens size tokens to array toarray token array tokenarray token array tokenarray