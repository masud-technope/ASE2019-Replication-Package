copyright xerox corporation palo alto center incorporated parc contributors rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation wes isberg build tests org aspectj internal build java file java util array list arraylist java util arrays java util collections java util iterator java util list junit framework test case testcase org apache tools ant build event buildevent org apache tools ant build listener buildlistener org apache tools ant project org apache tools ant task org apache tools ant types path org aspectj internal tools ant taskdefs ant builder antbuilder org aspectj internal tools ant taskdefs build module buildmodule org aspectj internal tools build messager org aspectj internal tools build module org aspectj internal tools build modules org aspectj internal tools build result org aspectj internal tools build util org aspectj internal tools build result kind modules test modulestest test case testcase list string module names file base dir file string names ajbrowser ajde ajdoc asm aspectj bridge loadtime loadtime org aspectj ajdt core runtime taskdefs testing client testing util tests util weaver list list arrays as list aslist names module names collections unmodifiable list unmodifiablelist list delete file file xxx util file file exists file is file isfile file delete file files file list files listfiles result files length modules test modulestest delete files result result file delete result array list arraylist temp files tempfiles array list arraylist modules test modulestest string tear down teardown exception tear down teardown iterator iter temp files tempfiles iterator iter has next hasnext file file file iter modules test modulestest delete file system err println warning modules test modulestest unable delete file modules get modules getmodules messager handler file jar dir jardir file build test jars jar dir jardir exists assert true asserttrue jar dir jardir mkdirs temp files tempfiles add jar dir jardir file base dir basedir file handler handler messager modules base dir basedir jar dir jardir handler test all modules creation testallmodulescreation array list arraylist bad modules badmodules array list arraylist iterator iter module names iterator iter has next hasnext string string iter file dir file base dir dir is directory isdirectory file classpath file dir classpath classpath exists modules modules get modules getmodules module module modules get module getmodule module valid bad modules badmodules add module bad modules badmodules is empty isempty string buffer stringbuffer string buffer stringbuffer iterator iter bad modules badmodules iterator iter has next hasnext module module module iter system err println module to long string tolongstring append append module fail to string tostring check module checkmodule string docs equals lib equals modules modules get modules getmodules module module modules get module getmodule module valid assert true asserttrue module to long string tolongstring test classpath creation testclasspathcreation modules modules get modules getmodules module ajdt modules get module getmodule org aspectj ajdt core assert true asserttrue ajdt valid project project project project set base dir setbasedir file project set name setname test classpath creation testclasspathcreation file temp dir tempdir file ant builder antbuilder builder ant builder antbuilder ant builder antbuilder get builder getbuilder project temp dir tempdir path classpath path project kind kind result kind result normal result assemble result result ajdt get result getresult kind has libraries haslibraries builder setup classpath setupclasspath result classpath assert true asserttrue has libraries haslibraries classpath classpath size assert true asserttrue classpath to string tostring tests code enable entire build junit debug eclipse compile javac add tools jar classpath skip test building aspect jmodule testbuildingaspectjmodule string module name modulename org aspectj lib file modules dir modulesdir file get absolute file getabsolutefile file build dir builddir file modules dir modulesdir build file dist dir distdir file build dir builddir dist file jar dir jardir file build dir builddir jars file module dir moduledir file modules dir modulesdir module name modulename file jar file jar dir jardir org aspectj lib jar jar dir jardir mkdirs dist dir distdir mkdirs jar can read canread assert true asserttrue jar delete project project project project set base dir setbasedir modules dir modulesdir project set name setname test aspectjbuild testaspectjbuild build module buildmodule build module buildmodule set project setproject project set assembleall setassembleall set build config setbuildconfig set module setmodule module name modulename set basedir setbasedir path project modules dir modulesdir get path getpath set distdir setdistdir path project build dir builddir get path getpath set jardir setjardir path project jar dir jardir get path getpath set moduledir setmoduledir path project module dir moduledir get path getpath set trimtesting settrimtesting set build config setbuildconfig set version setversion set verbose setverbose set failonerror setfailonerror execute assert true asserttrue jar can read canread skip test building product testbuildingproduct string product name productname tools file modules dir modulesdir file get absolute file getabsolutefile file build dir builddir file modules dir modulesdir build file dist dir distdir file build dir builddir dist file jar dir jardir file build dir builddir jars file product dir productdir file modules dir modulesdir util path string build products product name productname jar dir jardir mkdirs dist dir distdir mkdirs project project project project set base dir setbasedir modules dir modulesdir project set name setname test aspectj toolsbuild testaspectjtoolsbuild project add build listener addbuildlistener event build listener eventbuildlistener project msg warn build module buildmodule build module buildmodule set project setproject project set assembleall setassembleall set build config setbuildconfig set productdir setproductdir path project product dir productdir get path getpath set basedir setbasedir path project modules dir modulesdir get path getpath set distdir setdistdir path project dist dir distdir get path getpath set jardir setjardir path project jar dir jardir get path getpath set trimtesting settrimtesting set build config setbuildconfig set version setversion set failonerror setfailonerror execute file lib dir libdir file dist dir distdir tools lib string jars tools weaver lib jars length file jar file lib dir libdir aspectj jars jar assert true asserttrue jar get path getpath jar can read canread jar length assert true asserttrue jar small messages task ant listener event build listener eventbuildlistener build listener buildlistener min event build listener eventbuildlistener min min min build finished buildfinished build event buildevent event build started buildstarted build event buildevent event message logged messagelogged build event buildevent event min event get priority getpriority task event get task gettask string src project get task name gettaskname system println src event get message getmessage target finished targetfinished build event buildevent event target started targetstarted build event buildevent event task finished taskfinished build event buildevent event task started taskstarted build event buildevent event