copyright contributors rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors adrian colyer initial implementation org aspectj internal lang reflect java lang reflect field java lang reflect method java lang reflect modifier junit framework test case testcase org aspectj internal lang annotation ajc declare eo w ajcdeclareeow org aspectj internal lang annotation ajc privileged ajcprivileged org aspectj lang annotation advice name advicename org aspectj lang annotation org aspectj lang annotation after returning afterreturning org aspectj lang annotation after throwing afterthrowing org aspectj lang annotation org aspectj lang annotation aspect org aspectj lang annotation org aspectj lang annotation declare error declareerror org aspectj lang annotation declare warning declarewarning org aspectj lang reflect advice org aspectj lang reflect advice kind advicekind org aspectj lang reflect aj type ajtype org aspectj lang reflect aj type system ajtypesystem org aspectj lang reflect declare error or warning declareerrororwarning org aspectj lang reflect no such advice exception nosuchadviceexception org aspectj lang reflect no such pointcut exception nosuchpointcutexception org aspectj lang reflect per clause perclause org aspectj lang reflect per clause kind perclausekind org aspectj lang reflect pointcut org aspectj lang reflect pointcut based per clause pointcutbasedperclause org aspectj lang reflect type pattern based per clause typepatternbasedperclause aj type tests with aspects ajtypetestswithaspects test case testcase aj type ajtype simple aspect simpleaspect set up setup exception set up setup aj type system ajtypesystem get aj type getajtype simple aspect simpleaspect test get per clause testgetperclause aj type ajtype per this aspect perthisaspect per this a perthisa aj type system ajtypesystem get aj type getajtype per this aspect perthisaspect aj type ajtype per target aspect pertargetaspect per target a pertargeta aj type system ajtypesystem get aj type getajtype per target aspect pertargetaspect aj type ajtype per cflow aspect percflowaspect per cflow a percflowa aj type system ajtypesystem get aj type getajtype per cflow aspect percflowaspect aj type ajtype per cflowbelow aspect percflowbelowaspect per cflowbelow a percflowbelowa aj type system ajtypesystem get aj type getajtype per cflowbelow aspect percflowbelowaspect aj type ajtype per type within pertypewithin per type within a pertypewithina aj type system ajtypesystem get aj type getajtype per type within pertypewithin per clause perclause per this a perthisa get per clause getperclause assert equals assertequals per clause kind perclausekind perthis get kind getkind assert equals assertequals pointcut based per clause pointcutbasedperclause get pointcut expression getpointcutexpression as string asstring assert equals assertequals perthis to string tostring per target a pertargeta get per clause getperclause assert equals assertequals per clause kind perclausekind pertarget get kind getkind assert equals assertequals pointcut based per clause pointcutbasedperclause get pointcut expression getpointcutexpression as string asstring assert equals assertequals pertarget to string tostring per cflow a percflowa get per clause getperclause assert equals assertequals per clause kind perclausekind percflow get kind getkind assert equals assertequals pointcut based per clause pointcutbasedperclause get pointcut expression getpointcutexpression as string asstring assert equals assertequals percflow to string tostring per cflowbelow a percflowbelowa get per clause getperclause assert equals assertequals per clause kind perclausekind percflowbelow get kind getkind assert equals assertequals pointcut based per clause pointcutbasedperclause get pointcut expression getpointcutexpression as string asstring assert equals assertequals percflowbelow to string tostring per type within a pertypewithina get per clause getperclause assert equals assertequals per clause kind perclausekind pertypewithin get kind getkind assert equals assertequals org aspectj type pattern based per clause typepatternbasedperclause get type pattern gettypepattern as string asstring assert equals assertequals pertypewithin org aspectj to string tostring test get declared field testgetdeclaredfield exception field get declared field getdeclaredfield field get declared field getdeclaredfield ajc xyz fail expecting no such field exception nosuchfieldexception no such field exception nosuchfieldexception nsf test get field testgetfield exception field get field getfield field get field getfield ajc xyz fail expecting no such field exception nosuchfieldexception no such field exception nosuchfieldexception nsf test get declared fields testgetdeclaredfields field fields get declared fields getdeclaredfields assert equals assertequals fields length assert equals assertequals fields get name getname test get fields testgetfields field fields get fields getfields assert equals assertequals fields length assert equals assertequals fields get name getname test get declared method testgetdeclaredmethod exception method get declared method getdeclaredmethod a method amethod method get declared method getdeclaredmethod log entry logentry fail expecting no such method exception nosuchmethodexception no such method exception nosuchmethodexception method get declared method getdeclaredmethod ajc fail expecting no such method exception nosuchmethodexception no such method exception nosuchmethodexception test get method testgetmethod exception method get method getmethod a method amethod method get method getmethod log entry logentry fail expecting no such method exception nosuchmethodexception no such method exception nosuchmethodexception method get method getmethod ajc fail expecting no such method exception nosuchmethodexception no such method exception nosuchmethodexception test get declared methods testgetdeclaredmethods method get declared methods getdeclaredmethods assert equals assertequals length assert equals assertequals a method amethod get name getname test get methods testgetmethods method get methods getmethods assert equals assertequals length corrupted rely ordering string match length match match get name getname assert true asserttrue match index of indexof a method amethod test get declared pointcut testgetdeclaredpointcut exception pointcut get declared pointcut getdeclaredpointcut simple aspect method execution simpleaspectmethodexecution assert equals assertequals simple aspect method execution simpleaspectmethodexecution get name getname assert equals assertequals execution simple aspect simpleaspect get pointcut expression getpointcutexpression as string asstring assert equals assertequals simple aspect method execution simpleaspectmethodexecution execution simple aspect simpleaspect to string tostring assert equals assertequals get declaring type getdeclaringtype assert equals assertequals get parameter types getparametertypes length assert true asserttrue modifier is public ispublic get modifiers getmodifiers pointcut get declared pointcut getdeclaredpointcut simple aspect call simpleaspectcall assert equals assertequals simple aspect call simpleaspectcall get name getname assert equals assertequals call simple aspect simpleaspect get pointcut expression getpointcutexpression as string asstring assert equals assertequals get declaring type getdeclaringtype assert equals assertequals get parameter types getparametertypes length assert true asserttrue modifier is private isprivate get modifiers getmodifiers pointcut get declared pointcut getdeclaredpointcut sausages fail expecting no such pointcut excetpion nosuchpointcutexcetpion no such pointcut exception nosuchpointcutexception assert equals assertequals sausages get name getname test get pointcut testgetpointcut exception pointcut get pointcut getpointcut simple aspect method execution simpleaspectmethodexecution assert equals assertequals simple aspect method execution simpleaspectmethodexecution get name getname assert equals assertequals execution simple aspect simpleaspect get pointcut expression getpointcutexpression as string asstring assert equals assertequals get declaring type getdeclaringtype assert equals assertequals get parameter types getparametertypes length assert true asserttrue modifier is public ispublic get modifiers getmodifiers pointcut get declared pointcut getdeclaredpointcut simple aspect call simpleaspectcall assert equals assertequals simple aspect call simpleaspectcall get name getname assert equals assertequals call simple aspect simpleaspect get pointcut expression getpointcutexpression as string asstring assert equals assertequals get declaring type getdeclaringtype assert equals assertequals get parameter types getparametertypes length assert true asserttrue modifier is private isprivate get modifiers getmodifiers pointcut get pointcut getpointcut sausages fail expecting no such pointcut excetpion nosuchpointcutexcetpion no such pointcut exception nosuchpointcutexception assert equals assertequals sausages get name getname test get declared pointcuts testgetdeclaredpointcuts pointcut pcs get declared pointcuts getdeclaredpointcuts assert equals assertequals pcs length corrupted rely ordering string match simple aspect method execution simpleaspectmethodexecution simple aspect call simpleaspectcall assert true asserttrue match index of indexof pcs get name getname assert true asserttrue match index of indexof pcs get name getname test get pointcuts testgetpointcuts pointcut pcs get pointcuts getpointcuts assert equals assertequals pcs length assert equals assertequals simple aspect method execution simpleaspectmethodexecution pcs get name getname test get declared advice testgetdeclaredadvice advice advice get declared advice getdeclaredadvice assert equals assertequals advice length advice get declared advice getdeclaredadvice advice kind advicekind assert equals assertequals advice length advice get declared advice getdeclaredadvice advice kind advicekind assert equals assertequals advice length advice get declared advice getdeclaredadvice advice kind advicekind returning assert equals assertequals advice length advice get declared advice getdeclaredadvice advice kind advicekind throwing assert equals assertequals advice length advice get declared advice getdeclaredadvice advice kind advicekind assert equals assertequals advice length advice get declared advice getdeclaredadvice advice kind advicekind advice kind advicekind assert equals assertequals advice length advice get declared advice getdeclaredadvice advice kind advicekind corrupted test rely ordering advice aone atwo advice get name getname advice get name getname length aone advice atwo advice aone advice atwo advice assert equals assertequals execution simple aspect simpleaspect aone get pointcut expression getpointcutexpression to string tostring assert equals assertequals advice name advicename log entry logentry execution simple aspect simpleaspect aone to string tostring assert equals assertequals log entry logentry aone get name getname assert equals assertequals advice kind advicekind aone get kind getkind assert equals assertequals execution simple aspect simpleaspect atwo get pointcut expression getpointcutexpression to string tostring assert equals assertequals atwo get name getname assert equals assertequals execution simple aspect simpleaspect atwo to string tostring test get advice testgetadvice advice advice get declared advice getdeclaredadvice assert equals assertequals advice length advice get declared advice getdeclaredadvice advice kind advicekind assert equals assertequals advice length advice get declared advice getdeclaredadvice advice kind advicekind assert equals assertequals advice length advice get declared advice getdeclaredadvice advice kind advicekind returning assert equals assertequals advice length advice get declared advice getdeclaredadvice advice kind advicekind throwing assert equals assertequals advice length advice get declared advice getdeclaredadvice advice kind advicekind assert equals assertequals advice length advice get declared advice getdeclaredadvice advice kind advicekind advice kind advicekind assert equals assertequals advice length test get named advice testgetnamedadvice exception advice get advice getadvice log it all logitall assert equals assertequals log it all logitall get name getname assert equals assertequals advice kind advicekind get kind getkind get advice getadvice what goes around whatgoesaround assert equals assertequals what goes around whatgoesaround get name getname assert equals assertequals advice kind advicekind get kind getkind get advice getadvice ajc fail expecting no such advice exception nosuchadviceexception no such advice exception nosuchadviceexception assert equals assertequals ajc get name getname get advice getadvice fail expecting illegal argument exception illegalargumentexception illegal argument exception illegalargumentexception test get named declared advice testgetnameddeclaredadvice exception advice get declared advice getdeclaredadvice log it all logitall assert equals assertequals log it all logitall get name getname assert equals assertequals advice kind advicekind get kind getkind get declared advice getdeclaredadvice what goes around whatgoesaround assert equals assertequals what goes around whatgoesaround get name getname assert equals assertequals advice kind advicekind get kind getkind get declared advice getdeclaredadvice ajc fail expecting no such advice exception nosuchadviceexception no such advice exception nosuchadviceexception assert equals assertequals ajc get name getname get declared advice getdeclaredadvice fail expecting illegal argument exception illegalargumentexception illegal argument exception illegalargumentexception test is privileged testisprivileged assert false assertfalse is privileged isprivileged assert true asserttrue aj type system ajtypesystem get aj type getajtype simple privileged aspect simpleprivilegedaspect is privileged isprivileged test is aspect testisaspect assert true asserttrue is aspect isaspect test is member aspect testismemberaspect assert false assertfalse aj type system ajtypesystem get aj type getajtype simple privileged aspect simpleprivilegedaspect is member aspect ismemberaspect assert true asserttrue aj type system ajtypesystem get aj type getajtype simple privileged aspect simpleprivilegedaspect member aspect memberaspect is member aspect ismemberaspect test get declare eo warnings testgetdeclareeowarnings declare error or warning declareerrororwarning deows get declare error or warnings getdeclareerrororwarnings assert equals assertequals deows length found code warning foundcodewarning found code error foundcodeerror found ann warning foundannwarning found ann error foundannerror declare error or warning declareerrororwarning deow deows deow is error iserror deow get message getmessage equals dont call method code found code error foundcodeerror assert equals assertequals declare error call dont do it dontdoit dont call method code deow to string tostring deow get message getmessage equals dont call method ann found ann error foundannerror assert equals assertequals call dont do it dontdoit deow get pointcut expression getpointcutexpression to string tostring deow get message getmessage equals dont call method code found code warning foundcodewarning deow get message getmessage equals dont call method ann found ann warning foundannwarning assert equals assertequals call dont do it dontdoit deow get pointcut expression getpointcutexpression to string tostring assert true asserttrue found code warning foundcodewarning found ann warning foundannwarning found code error foundcodeerror found ann error foundannerror aspect simple aspect simpleaspect regular field string synthetic field string ajc xyz regular method a method amethod advice method annotation style execution simple aspect simpleaspect log entry logentry advice method code style execution simple aspect simpleaspect ajc advice method annotation style execution simple aspect simpleaspect log finally logfinally advice method code style execution simple aspect simpleaspect ajc advice method annotation style after returning afterreturning execution simple aspect simpleaspect log exit logexit advice method code style after returning afterreturning execution simple aspect simpleaspect ajc after returning afterreturning advice method annotation style after throwing afterthrowing execution simple aspect simpleaspect log exception logexception advice method code style after throwing afterthrowing execution simple aspect simpleaspect ajc after throwing afterthrowing advice method annotation style execution simple aspect simpleaspect log it all logitall advice method code style execution simple aspect simpleaspect advice name advicename what goes around whatgoesaround ajc pointcut annotation style org aspectj lang annotation pointcut execution simple aspect simpleaspect simple aspect method execution simpleaspectmethodexecution pointcut code style org aspectj lang annotation pointcut call simple aspect simpleaspect ajc pointcut simple aspect call simpleaspectcall simple aspect simpleaspect target decw ann style declare warning declarewarning call dont do it dontdoit string dont do it dontdoit dont call method ann decw code style ajc declare eo w ajcdeclareeow pointcut call dont do it dontdoit message dont call method code is error iserror ajc declare eow dec ann style declare error declareerror call dont do it dontdoit string dont do it isaid dontdoitisaid dont call method ann decw code style ajc declare eo w ajcdeclareeow pointcut call dont do it dontdoit message dont call method code is error iserror ajc declare eow aspect ajc privileged ajcprivileged simple privileged aspect simpleprivilegedaspect aspect member aspect memberaspect aspect perthis per this aspect perthisaspect aspect pertarget per target aspect pertargetaspect aspect percflow per cflow aspect percflowaspect aspect percflowbelow per cflowbelow aspect percflowbelowaspect aspect pertypewithin org aspectj per type within pertypewithin