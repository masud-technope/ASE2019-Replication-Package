copyright xerox corporation palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation org aspectj testing harness bridge java file java ioexception java util array list arraylist java util collections java util iterator java util list org aspectj bridge abort exception abortexception org aspectj bridge imessage org aspectj bridge isource location isourcelocation org aspectj bridge message org aspectj bridge message util messageutil org aspectj bridge source location sourcelocation org aspectj bridge imessage kind org aspectj testing util bridge util bridgeutil org aspectj testing util object checker objectchecker org aspectj testing util sfile reader sfilereader org aspectj testing util standard object checker standardobjectchecker org aspectj util file util fileutil org aspectj util lang util langutil org aspectj util line reader linereader sfile reader sfilereader maker implementation read tests xxx supports iterative incremental compiles flat suite reader flatsuitereader sfile reader sfilereader maker string string string flat suite reader flatsuitereader flat suite reader flatsuitereader sfile reader sfilereader reader sfile reader sfilereader xxx costly is number isnumber xxx costly string length integer value of valueof number format exception numberformatexception clean records returning clean flat suite reader flatsuitereader org aspectj testing harness bridge sfile reader sfilereader maker get type gettype get type gettype ajc test ajctest spec constructs ajc test ajctest spec assuming start test definition reader parent directory reader base directory test suite root ajc test ajctest reader org aspectj testing harness bridge sfile reader sfilereader maker line reader linereader object line reader linereader reader abort exception abortexception ioexception ajc test ajctest spec result ajc test ajctest spec xxx using eclipse usingeclipse handle read errors throwing abort exception abortexception context info string read string context ioexception read context string read string context required ioexception skip empties skipempties string result reader next line nextline skip empties skipempties result result length result result required string expecting context reader abort exception abortexception result string base dir basedir reader get file getfile get parent getparent string string is required isrequired start line startline reader get line number getlinenumber description read xxx permits blank test records result description reader last line lastline result description abort exception abortexception expecting description reader base dir basedir option read base dir basedir option lang util langutil split length abort exception abortexception expecting dir option reader xxx test shared root file source root sourceroot file base dir basedir result set test dir offset settestdiroffset string compile options compileoptions string length system arraycopy compile options compileoptions length source lines source compiler run compilerrun spec last compile spec lastcompilespec save source file error warning xxx compiler errors file last file lastfile read source lang util langutil split file util fileutil source suffix length sourcesuffixlength xxx xxx last compile spec lastcompilespec compiler run compilerrun spec last compile spec lastcompilespec test src dir offset testsrcdiroffset srcs test base last compile spec lastcompilespec add options addoptions compile options compileoptions last compile spec lastcompilespec add paths addpaths last file lastfile file length result add child addchild last compile spec lastcompilespec last compile spec lastcompilespec abort exception abortexception expected sources reader array list arraylist exp array list arraylist compile noerrors class name classname run option runoption string compile equals result class name classname result run options runoptions string length system arraycopy result run options runoptions length noerrors equals class name classname errors expected compile succeeds attempted result errors main error line errorline result run options runoptions main string is number isnumber index of indexof exp add all addall make messages makemessages imessage error last file lastfile string args string length system arraycopy args args length java run javarun spec spec java run javarun spec spec class name classname spec add options addoptions args xxxrun run dir rundir source root sourceroot result add child addchild spec optional warnings eclipse warnings eclipse errors xxx unable error eclipse ajc got errors goterrors read errors warnings eclipse warnings eclipse error lang util langutil split eclipse warnings equals using eclipse usingeclipse exp add all addall make messages makemessages imessage warning last file lastfile eclipse errors equals using eclipse usingeclipse exp add all addall make messages makemessages imessage error last file lastfile warnings equals exp add all addall make messages makemessages imessage warning last file lastfile got errors goterrors exp add all addall make messages makemessages imessage warning last file lastfile exp add all addall make messages makemessages imessage error last file lastfile got errors goterrors last compile spec lastcompilespec add messages addmessages exp end line endline reader get line number getlinenumber file source file sourcefile reader get file getfile isource location isourcelocation source location sourcelocation source file sourcefile start line startline end line endline result set source location setsourcelocation clean cleanup result reader result post process result file keyword clip dir offsets extract purejava keyword variants extract bug id bugid convert test options force options detect illegal xml characters cleanup ajc test ajctest spec result line reader linereader line reader linereader lang util langutil throw iax if null throwiaxifnull result result lang util langutil throw iax if null throwiaxifnull line reader linereader line reader linereader file suite file suitefile line reader linereader get file getfile string suite file suitefile get name getname ends with endswith txt error unexpected result add keyword addkeyword substring length string dir result test dir offset testdiroffset dir ends with endswith result test dir offset testdiroffset dir substring dir length string buffer stringbuffer description string buffer stringbuffer result description strip description purejava result add keyword addkeyword purejava strip description purejave result add keyword addkeyword purejava strip description purejava result add keyword addkeyword purejava string input description to string tostring loc input index of indexof loc string prefix input substring loc trim string input substring loc loc trim string suffix input substring loc trim description set length setlength description append prefix suffix trim result set bug id setbugid integer value of valueof int value intvalue number format exception numberformatexception error unable convert result line reader linereader input description to string tostring string error input index of indexof error input index of indexof error input index of indexof error input index of indexof error error error error input line reader linereader result description input array list arraylist new options newoptions array list arraylist array list arraylist options copy optionscopy result get options list getoptionslist iterator iter options copy optionscopy iterator iter has next hasnext string option string iter option starts with startswith new options newoptions add option substring error flag option option result set options array setoptionsarray string new options newoptions to array toarray string strip string buffer stringbuffer string infix string input to string tostring loc input index of indexof infix loc string prefix input substring loc string suffix input substring loc infix length input prefix trim suffix trim trim set length setlength append input generate list expected messages kind param kind kind imessage warning error param param start start param last file lastfile file source location input list xxx weak support expected exceptions list make messages makemessages kind kind string start file last file lastfile array list arraylist result array list arraylist start length isource location isourcelocation bridge util bridgeutil make source location makesourcelocation last file lastfile xxx signalling system err println message util messageutil debug handler source location string text get line getline equals result add message text kind result size collections empty list result read suite spec flat txt file abort exception abortexception failure ajc test ajctest suite spec ajc test ajctest spec children ajc test ajctest suite spec read suite readsuite file suite file suitefile lang util langutil throw iax if null throwiaxifnull suite file suitefile suite file suitefile suite file suitefile is absolute isabsolute suite file suitefile suite file suitefile get absolute file getabsolutefile ajc test ajctest suite spec result ajc test ajctest suite spec result set suite dir file setsuitedirfile suite file suitefile get parent file getparentfile object checker objectchecker collector standard object checker standardobjectchecker irun spec irunspec do is valid doisvalid object result add child addchild irun spec irunspec abort on error abortonerror reader read nodes readnodes suite file suitefile collector abort on error abortonerror system err ioexception imessage message util messageutil fail reading suite file suitefile abort exception abortexception result