copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation org aspectj weaver bcel org aspectj apache bcel constants org aspectj apache bcel instruction factory instructionfactory org aspectj apache bcel instruction handle instructionhandle org aspectj apache bcel instruction list instructionlist org aspectj apache bcel object type objecttype org aspectj apache bcel reference type referencetype org aspectj apache bcel type org aspectj weaver bcexception org aspectj weaver member org aspectj weaver member impl memberimpl org aspectj weaver unresolved type unresolvedtype org aspectj weaver ast org aspectj weaver ast call org aspectj weaver ast call expr callexpr org aspectj weaver ast cast expr castexpr org aspectj weaver ast expr org aspectj weaver ast field get fieldget org aspectj weaver ast field get call fieldgetcall org aspectj weaver ast field get on fieldgeton org aspectj weaver ast has annotation hasannotation org aspectj weaver ast iexpr visitor iexprvisitor org aspectj weaver ast itest visitor itestvisitor org aspectj weaver ast org aspectj weaver ast literal org aspectj weaver ast org aspectj weaver ast org aspectj weaver ast string const expr stringconstexpr org aspectj weaver ast test org aspectj weaver ast org aspectj weaver internal tools matching context based test matchingcontextbasedtest generate left btw bcel renderer bcelrenderer itest visitor itestvisitor iexpr visitor iexprvisitor instruction list instructionlist instructions instruction factory instructionfactory fact bcel world bcelworld instruction handle instructionhandle bcel renderer bcelrenderer instruction factory instructionfactory fact bcel world bcelworld fact fact instructions instruction list instructionlist renderers instruction list instructionlist render expr renderexpr instruction factory instructionfactory fact bcel world bcelworld expr bcel renderer bcelrenderer renderer bcel renderer bcelrenderer fact accept renderer renderer instructions instruction list instructionlist render expr renderexpr instruction factory instructionfactory fact bcel world bcelworld expr type desired type desiredtype bcel renderer bcelrenderer renderer bcel renderer bcelrenderer fact accept renderer instruction list instructionlist renderer instructions append utility create conversion createconversion fact bcel world bcelworld make bcel type makebceltype get type gettype desired type desiredtype instruction list instructionlist render exprs renderexprs instruction factory instructionfactory fact bcel world bcelworld expr bcel renderer bcelrenderer renderer bcel renderer bcelrenderer fact length accept renderer renderer instructions instructions representing test param test render param instruction handle instructionhandle jump rendered check succeeds typically start advice param instruction handle instructionhandle jump rendered check fails typically advice param instruction handle instructionhandle follow generated code passing generate unnecessary instruction returns instruction list representing expression instruction list instructionlist render test rendertest instruction factory instructionfactory fact bcel world bcelworld test instruction handle instructionhandle instruction handle instructionhandle instruction handle instructionhandle bcel renderer bcelrenderer renderer bcel renderer bcelrenderer fact renderer recur renderer instructions instructions representing test param test render param instruction handle instructionhandle jump rendered check succeeds typically start advice param instruction handle instructionhandle jump rendered check fails typically advice returns instruction list representing expression instruction list instructionlist render test rendertest instruction factory instructionfactory fact bcel world bcelworld test instruction handle instructionhandle instruction handle instructionhandle render test rendertest fact recurrers recur test instruction handle instructionhandle instruction handle instructionhandle instruction handle instructionhandle accept test visitors visit instruction handle instructionhandle saved fk savedfk recur get right getright instruction handle instructionhandle ning instructions get start getstart recur get left getleft ning saved fk savedfk ning visit instruction handle instructionhandle saved sk savedsk recur get right getright recur get left getleft saved sk savedsk instructions get start getstart instructions get start getstart visit recur get body getbody visit instructions insert create jump based on boolean on stack createjumpbasedonbooleanonstack instructions insert utility create instanceof createinstanceof fact reference type referencetype bcel world bcelworld make bcel type makebceltype get type gettype get var getvar accept visit has annotation hasannotation has annotation hasannotation java foo is annotation present isannotationpresent annotation class annotationclass bytecode load stack invokevirtual java lang object get class getclass ljava lang ldc annotation class annotationclass invokevirtual java lang is annotation present isannotationpresent ljava lang instruction list instructionlist instruction list instructionlist member get class getclass member impl memberimpl method unresolved type unresolvedtype object get class getclass ljava lang append utility create invoke createinvoke fact get class getclass aload annotation class annotationclass string has annotation hasannotation get annotation type getannotationtype get name getname append fact create constant createconstant object type objecttype has annotation hasannotation get annotation type getannotationtype get name getname ann class index annclassindex fact get constant pool getconstantpool add class addclass has annotation hasannotation get annotation type getannotationtype get signature getsignature append ldc ann class index annclassindex member is annotation present isannotationpresent member impl memberimpl method unresolved type unresolvedtype for name forname java lang is annotation present isannotationpresent ljava lang append utility create invoke createinvoke fact is annotation present isannotationpresent append create jump based on boolean on stack createjumpbasedonbooleanonstack instructions insert has annotation hasannotation get var getvar accept javadoc org aspectj weaver ast itest visitor itestvisitor visit org aspectj weaver internal tools matching context based test matchingcontextbasedtest visit matching context based test matchingcontextbasedtest matching context test matchingcontexttest unsupported operation exception unsupportedoperationexception matching context extension supported bytecode weaving instruction list instructionlist create jump based on boolean on stack createjumpbasedonbooleanonstack instruction list instructionlist instruction list instructionlist don bother generating doesn matter insert instruction factory instructionfactory create branch instruction createbranchinstruction constants insert instruction factory instructionfactory create branch instruction createbranchinstruction constants ifne insert instruction factory instructionfactory create branch instruction createbranchinstruction constants ifeq insert instruction factory instructionfactory create branch instruction createbranchinstruction constants insert instruction factory instructionfactory create branch instruction createbranchinstruction constants ifeq visit literal literal literal literal bcexception bad visit call call member method call get method getmethod method is static isstatic expr args call get args getargs system println args arrays as list aslist args instruction list instructionlist call il callil instruction list instructionlist len args length len xxx correct method calls type desired type desiredtype bcel world bcelworld make bcel type makebceltype method get parameter types getparametertypes call il callil append render expr renderexpr fact args desired type desiredtype system println rendered args call il callil call il callil append utility create invoke createinvoke fact method call il callil append create jump based on boolean on stack createjumpbasedonbooleanonstack instructions insert call il callil visit field get call fieldgetcall field get call fieldgetcall member field field get call fieldgetcall get field getfield member method field get call fieldgetcall get method getmethod instruction list instructionlist instruction list instructionlist append utility create get createget fact field method is static isstatic expr args field get call fieldgetcall get args getargs system println args arrays as list aslist args append render exprs renderexprs fact args system println rendered args call il callil append utility create invoke createinvoke fact method append create jump based on boolean on stack createjumpbasedonbooleanonstack instructions insert expr visitors visit bcel var bcelvar bvar bcel var bcelvar bvar insert load insertload instructions fact visit field get fieldget field get fieldget member field field get fieldget get field getfield field is static isstatic instructions insert utility create get createget fact field visit call expr callexpr call member method call get method getmethod method is static isstatic expr args call get args getargs instruction list instructionlist call il callil render exprs renderexprs fact args call il callil append utility create invoke createinvoke fact method instructions insert call il callil visit string constant param string const stringconst visit string const expr stringconstexpr string const stringconst instructions insert fact create constant createconstant string const stringconst get string const getstringconst visit checkcast param cast expr castexpr visit cast expr castexpr cast expr castexpr instructions append fact create check cast createcheckcast object type objecttype cast expr castexpr get type name gettypename visit field depends field param field get fieldget visit field get on fieldgeton field get fieldget member field field get fieldget get field getfield instructions insert utility create get on creategeton fact field field get fieldget get declaring type getdeclaringtype