copyright ibm rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors andy clement initial implementation org aspectj apache bcel classfile tests java file java ioexception java util iterator org aspectj apache bcel classfile java class javaclass org aspectj apache bcel classfile method org aspectj apache bcel classfile annotation annotation org aspectj apache bcel classfile annotation element name value pair elementnamevaluepair org aspectj apache bcel util synthetic repository syntheticrepository method annotations test methodannotationstest bcel test case bceltestcase set up setup exception set up setup test method annotations testmethodannotations class not found exception classnotfoundexception java class javaclass clazz get class from jar getclassfromjar annotated methods annotatedmethods check annotated method checkannotatedmethod clazz method simple annotation simpleannotation check annotated method checkannotatedmethod clazz method simple annotation simpleannotation test method annotations read write testmethodannotationsreadwrite class not found exception classnotfoundexception ioexception java class javaclass clazz get class from jar getclassfromjar annotated methods annotatedmethods check annotated method checkannotatedmethod clazz method simple annotation simpleannotation check annotated method checkannotatedmethod clazz method simple annotation simpleannotation write file tfile create testdata file createtestdatafile annotated methods annotatedmethods clazz dump tfile synthetic repository syntheticrepository repos create repos createrepos java class javaclass clazz repos load class loadclass annotated methods annotatedmethods check annotated method checkannotatedmethod clazz method simple annotation simpleannotation check annotated method checkannotatedmethod clazz method simple annotation simpleannotation assert true asserttrue tfile delete helper methods check annotated method checkannotatedmethod java class javaclass clazz string methodname string annotation name annotationname string annotation element name annotationelementname string annotation element value annotationelementvalue method methods clazz get methods getmethods methods length method methods annotation method annotations methodannotations get annotations getannotations get name getname equals methodname check annotation checkannotation method annotations methodannotations annotation name annotationname annotation element name annotationelementname annotation element value annotationelementvalue check annotation checkannotation annotation string string elementname string elementvalue assert true asserttrue expected annotation get type name gettypename get type name gettypename equals assert true asserttrue expected annotation element get values getvalues size get values getvalues size element name value pair elementnamevaluepair envp element name value pair elementnamevaluepair get values getvalues assert true asserttrue expected element elementname envp get name string getnamestring elementname equals envp get name string getnamestring assert true asserttrue expected element elementvalue envp get value getvalue stringify value stringifyvalue elementvalue equals envp get value getvalue stringify value stringifyvalue helper methods check value checkvalue annotation string string tostring iterator get values getvalues iterator has next hasnext element name value pair elementnamevaluepair element element name value pair elementnamevaluepair element get name string getnamestring equals element get value getvalue stringify value stringifyvalue equals tostring fail expected element tostring element get value getvalue stringify value stringifyvalue fail didnt find named element tear down teardown exception tear down teardown