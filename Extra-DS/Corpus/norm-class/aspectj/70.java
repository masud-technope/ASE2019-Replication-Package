org aspectj apache bcel java util array list arraylist java util hashtable java util iterator java util list java util stack org aspectj apache bcel constants org aspectj apache bcel classfile attribute org aspectj apache bcel classfile code org aspectj apache bcel classfile code exception codeexception org aspectj apache bcel classfile exception table exceptiontable org aspectj apache bcel classfile line number linenumber org aspectj apache bcel classfile line number table linenumbertable org aspectj apache bcel classfile local variable localvariable org aspectj apache bcel classfile local variable table localvariabletable org aspectj apache bcel classfile method org aspectj apache bcel classfile utility org aspectj apache bcel classfile annotation annotation org aspectj apache bcel classfile annotation runtime annotations runtimeannotations org aspectj apache bcel classfile annotation runtime parameter annotations runtimeparameterannotations org aspectj apache bcel annotation annotation gen annotationgen template building method defining exception handlers adding thrown exceptions local variables attributes local variable table localvariabletable line number table linenumbertable attributes automatically code strip attributes stripattributes don generating code insert nop operations remove nops removenops method rid method object get method getmethod method version method gen methodgen java aclement exp author href mailto markus dahm berlin dahm author href http vmeng beard patrick beard set max stack setmaxstack instruction list instructionlist method method gen methodgen field gen or method gen fieldgenormethodgen string type arg types string arg names max locals max stack instruction list instructionlist strip attributes highest line number highestlinenumber array list arraylist variable vec array list arraylist array list arraylist number vec array list arraylist array list arraylist exception vec array list arraylist array list arraylist vec array list arraylist array list arraylist code attrs vec array list arraylist array lists annotation gen annotationgen objects list param annotations has parameter annotations hasparameterannotations have unpacked parameter annotations haveunpackedparameterannotations declare method method constructor automatically declares local variable slot actual code contained parameter manipulated user care remove instruction handles referenced object add local variable remove instructions refers causing havoc safe remove local variable param access flags access qualifiers param type method type param arg types argument types param arg names argument names names param method method param method don care param instruction list method methods param constant pool method gen methodgen access flags type type type arg types string arg names string method string instruction list instructionlist constant pool gen constantpoolgen set access flags setaccessflags access flags set type settype type set argument types setargumenttypes arg types set argument names setargumentnames arg names set name setname method set class name setclassname set instruction list setinstructionlist set constant pool setconstantpool is abstract isabstract is native isnative instruction handle instructionhandle start instruction handle instructionhandle start get start getstart get end getend add local variables implicit arguments is static isstatic instance method local add local variable addlocalvariable object type objecttype start arg types size arg types length size type arg types class gen exception classgenexception illegal argument type method arg names names variables size arg names length class gen exception classgenexception mismatch argument array lengths size arg names length dummy names arg names string size size arg names arg set argument names setargumentnames arg names size add local variable addlocalvariable arg names arg types start get highestlinenumber gethighestlinenumber highest line number highestlinenumber method gen methodgen method string constant pool gen constantpoolgen method gen methodgen method string constant pool gen constantpoolgen use tags usetags get access flags getaccessflags type get return type getreturntype get signature getsignature type get argument types getargumenttypes get signature getsignature overridden get name getname get access flags getaccessflags constants acc constants acc instruction list instructionlist get code getcode get code getcode attribute attributes get attributes getattributes attributes length attribute attributes code code code set max stack setmaxstack get max stack getmaxstack set max locals setmaxlocals get max locals getmaxlocals code exception codeexception ces get exception table getexceptiontable instruction handle instructionhandle array of instructions arrayofinstructions get instructions as array getinstructionsasarray ces ces length code exception codeexception ces type get catch type getcatchtype object type objecttype type type string cen get constant pool getconstantpool get constant string getconstantstring type constants constant type object type objecttype cen get end pc getendpc length get code getcode get code getcode length instruction handle instructionhandle happen exclusive length get end getend find handle findhandle find handle findhandle array of instructions arrayofinstructions inclusive get prev getprev add exception handler addexceptionhandler find handle findhandle get start pc getstartpc array of instructions arrayofinstructions find handle findhandle get handler pc gethandlerpc array of instructions arrayofinstructions type attribute code attrs codeattrs get attributes getattributes code attrs codeattrs length code attrs codeattrs line number table linenumbertable line number linenumber line number table linenumbertable get line number table getlinenumbertable use tags usetags abracadabra create tags linenumbergens length line number linenumber lnum get line number getlinenumber lnum highest line number highestlinenumber highest line number highestlinenumber lnum line number tag linenumbertag line number tag linenumbertag lnum find handle findhandle get start pc getstartpc array of instructions arrayofinstructions add targeter addtargeter length line number linenumber add line number addlinenumber find handle findhandle get start pc getstartpc array of instructions arrayofinstructions get line number getlinenumber local variable table localvariabletable creating tags use tags usetags local variable localvariable local variable table localvariabletable get local variable table getlocalvariabletable length local variable localvariable type type get type gettype get signature getsignature local variable tag localvariabletag lvt local variable tag localvariabletag get signature getsignature get name getname get index getindex get start pc getstartpc instruction handle instructionhandle start find handle findhandle get start pc getstartpc array of instructions arrayofinstructions get type gettype constants address increment get size getsize get index getindex increment max locals max locals get index getindex increment get start pc getstartpc get length getlength start add targeter addtargeter lvt start start get next getnext start start get position getposition local variable localvariable local variable table localvariabletable get local variable table getlocalvariabletable remove local variables removelocalvariables length local variable localvariable instruction handle instructionhandle start find handle findhandle get start pc getstartpc array of instructions arrayofinstructions instruction handle instructionhandle find handle findhandle get start pc getstartpc get length getlength array of instructions arrayofinstructions move find handle findhandle cope mid instruction indices get prev getprev repair malformed handles start start get start getstart get end getend add local variable addlocalvariable get name getname type get type gettype get signature getsignature get index getindex start add code attribute addcodeattribute exception table exceptiontable string names exception table exceptiontable get exception names getexceptionnames names length add exception addexception names runtime annotations runtimeannotations runtime annotations runtimeannotations runtime annotations runtimeannotations runtime annotations runtimeannotations list runtime annotations runtimeannotations get annotations getannotations iterator iterator has next hasnext annotation element annotation add annotation addannotation annotation gen annotationgen element add attribute addattribute adds local variable method param variable param type variable type param slot local variable type slot param start variable valid param variable valid local variable object local variable localvariable local variable gen localvariablegen add local variable addlocalvariable string type type slot instruction handle instructionhandle start instruction handle instructionhandle type get type gettype constants address add type get size getsize slot add max locals max locals slot add local variable gen localvariablegen local variable gen localvariablegen slot type start overwrite variable vec index of indexof overwrite variable vec variable vec add illegal argument exception illegalargumentexception type type local variable adds local variable method assigns automatically param variable param type variable type param start variable valid valid start param variable valid valid local variable object local variable localvariable local variable gen localvariablegen add local variable addlocalvariable string type type instruction handle instructionhandle start instruction handle instructionhandle add local variable addlocalvariable type max locals start remove local variable slot reused add local variable addlocalvariable explicit argument remove local variable removelocalvariable local variable gen localvariablegen variable vec remove remove local variables remove local variables removelocalvariables variable vec clear sort local variables sort local variable gen localvariablegen vars vars get index getindex local variable gen localvariablegen vars get index getindex vars get index getindex swap elements vars swap elements vars vars swap elements vars sort vars sort vars range variable valid start instruction list array declared local variables sorted local variable gen localvariablegen get local variables getlocalvariables size variable vec size local variable gen localvariablegen local variable gen localvariablegen size variable vec to array toarray size get start getstart set start setstart get start getstart get end getend set end setend get end getend size sort size local variable table localvariabletable attribute local variables method local variable table localvariabletable get local variable table getlocalvariabletable constant pool gen constantpoolgen local variable gen localvariablegen get local variables getlocalvariables size length local variable localvariable local variable localvariable size size get local variable getlocalvariable local variable table localvariabletable add utf addutf local variable table localvariabletable length get constant pool getconstantpool instruction number source code param instruction tag number object line number linenumber line number gen linenumbergen add line number addlinenumber instruction handle instructionhandle src line number gen linenumbergen line number gen linenumbergen src number vec add remove number remove line number removelinenumber line number gen linenumbergen number vec remove remove numbers remove line numbers removelinenumbers number vec clear array numbers line number gen linenumbergen get line numbers getlinenumbers line number gen linenumbergen line number gen linenumbergen number vec size number vec to array toarray line number table linenumbertable attribute local variables method line number table linenumbertable get line number table getlinenumbertable constant pool gen constantpoolgen size number vec size line number linenumber line number linenumber size size line number gen linenumbergen number vec get line number getlinenumber occurs array index out of bounds exception arrayindexoutofboundsexception line number table linenumbertable add utf addutf line number table linenumbertable length get constant pool getconstantpool add exception handler region handler active instruction actual handling param start start region inclusive param region inclusive param handler handling param type type handled exception exception handled exception handler object code exception gen codeexceptiongen add exception handler addexceptionhandler instruction handle instructionhandle start instruction handle instructionhandle instruction handle instructionhandle handler object type objecttype type start handler class gen exception classgenexception exception handler target instruction code exception gen codeexceptiongen code exception gen codeexceptiongen start handler type exception vec add remove exception handler remove exception handler removeexceptionhandler code exception gen codeexceptiongen exception vec remove remove numbers remove exception handlers removeexceptionhandlers exception vec clear array declared exception handlers code exception gen codeexceptiongen get exception handlers getexceptionhandlers code exception gen codeexceptiongen code exception gen codeexceptiongen exception vec size exception vec to array toarray code exceptions code attribute code exception codeexception get code exceptions getcodeexceptions size exception vec size code exception codeexception exc code exception codeexception size size code exception gen codeexceptiongen code exception gen codeexceptiongen exception vec exc get code exception getcodeexception array index out of bounds exception arrayindexoutofboundsexception exc add exception thrown method param fully qualified exception add exception addexception string vec add remove exception remove exception removeexception string vec remove remove exceptions remove exceptions removeexceptions vec clear array thrown exceptions string get exceptions getexceptions string string vec size vec to array toarray exceptions attribute exceptions thrown method exception table exceptiontable get exception table getexceptiontable constant pool gen constantpoolgen size vec size size size add class addclass string vec array index out of bounds exception arrayindexoutofboundsexception exception table exceptiontable add utf addutf exceptions size get constant pool getconstantpool add attribute code jvm line number table linenumbertable local variable table localvariabletable stack map stackmap attributes generated automatically midp attributes jvm harm param attribute add code attribute addcodeattribute attribute code attrs vec add add annotations as attribute addannotationsasattribute constant pool gen constantpoolgen attribute attrs utility get annotation attributes getannotationattributes annotation vec attrs attrs length add attribute addattribute attrs add parameter annotations as attribute addparameterannotationsasattribute constant pool gen constantpoolgen has parameter annotations hasparameterannotations attribute attrs utility get parameter annotation attributes getparameterannotationattributes param annotations attrs attrs length add attribute addattribute attrs remove code attribute remove code attribute removecodeattribute attribute code attrs vec remove remove code attributes remove code attributes removecodeattributes code attrs vec clear attributes method attribute get code attributes getcodeattributes attribute attributes attribute code attrs vec size code attrs vec to array toarray attributes attributes method object forget call set max stack setmaxstack set max stack setmaxstack max calling method applies max locals method object method get method getmethod string signature get signature getsignature add utf addutf signature add utf addutf signature updates positions instructions indices code code get byte code getbytecode line number table linenumbertable lnt local variable table localvariabletable lvt create local variable table localvariabletable line number table linenumbertable attributes debuggers variable vec size strip attributes add code attribute addcodeattribute lvt get local variable table getlocalvariabletable number vec size strip attributes add code attribute addcodeattribute lnt get line number table getlinenumbertable attribute code attrs get code attributes getcodeattributes attribute additional header bytes attrs len code attrs length attrs len code attrs get length getlength code exception codeexception exc get code exceptions getcodeexceptions entry takes bytes exc len exc length code code is abstract isabstract remove stale code attribute attribute attributes get attributes getattributes attributes length attribute attributes code remove attribute removeattribute code code add utf addutf code prologue code code length exceptions exc len attributes attrs len max stack max locals code exc code attrs get constant pool getconstantpool add attribute addattribute code add annotations as attribute addannotationsasattribute add parameter annotations as attribute addparameterannotationsasattribute exception table exceptiontable vec size add exceptions clauses add attribute addattribute get exception table getexceptiontable method method access flags signature get attributes getattributes get constant pool getconstantpool undo effects adding attributes lvt remove code attribute removecodeattribute lvt lnt remove code attribute removecodeattribute lnt code remove attribute removeattribute code remove attribute removeattribute todo remove annotation attributes remove nops instruction list update object refering branch instructions local variables exception handlers remove nops removenops instruction handle instructionhandle check branch instructions instruction handle instructionhandle get start getstart get instruction getinstruction nop delete target lost exception targetlostexception instruction handle instructionhandle targets get targets gettargets targets length instruction targeter instructiontargeter targeters targets get targeters gettargeters targeters length targeters update target updatetarget targets maximum number local variables set max locals setmaxlocals max locals get max locals getmaxlocals max locals maximum stack size method set max stack setmaxstack max stack get max stack getmaxstack max stack method string get class name getclassname set class name setclassname string set return type setreturntype type type set type settype type type get return type getreturntype get type gettype set argument types setargumenttypes type arg types arg types arg types type get argument types getargumenttypes type arg types clone set argument type setargumenttype type type arg types type type get argument type getargumenttype arg types set argument names setargumentnames string arg names arg names arg names string get argument names getargumentnames arg names string arg names clone string set argument name setargumentname string arg names string get argument name getargumentname arg names instruction list instructionlist get instruction list getinstructionlist set instruction list setinstructionlist instruction list instructionlist string get signature getsignature type get method signature getmethodsignature type arg types computes max stack size performing control flow analysis set max stack setmaxstack max stack get max stack getmaxstack get exception handlers getexceptionhandlers max stack compute maximum number local variables set max locals setmaxlocals max is static isstatic arg types arg types length max arg types get size getsize instruction handle instructionhandle get start getstart get next getnext instruction ins get instruction getinstruction ins local variable instruction localvariableinstruction ins ret ins iinc indexed instruction indexedinstruction ins get index getindex typed instruction typedinstruction ins get type gettype get size getsize max max max locals max max locals produce attributes code attributes line number table attributeslinenumbertable local variable table localvariabletable javac strip attributes stripattributes flag strip attributes flag branch target branchtarget instruction handle instructionhandle target stack depth stackdepth branch target branchtarget instruction handle instructionhandle target stack depth stackdepth target target stack depth stackdepth stack depth stackdepth branch stack branchstack stack branch targets branchtargets stack hashtable visited targets visitedtargets hashtable push instruction handle instructionhandle target stack depth stackdepth visited target branch targets branchtargets push visit target stack depth stackdepth branch target branchtarget pop branch targets branchtargets empty branch target branchtarget branch target branchtarget branch targets branchtargets pop branch target branchtarget visit instruction handle instructionhandle target stack depth stackdepth branch target branchtarget branch target branchtarget target stack depth stackdepth visited targets visitedtargets target visited instruction handle instructionhandle target visited targets visitedtargets target computes stack usage instruction list performing control flow analysis maximum stack depth method get max stack getmaxstack constant pool gen constantpoolgen instruction list instructionlist code exception gen codeexceptiongen branch stack branchstack branch targets branchtargets branch stack branchstack initially populate branch stack exception handlers branched explicitly stack depth exception object length instruction handle instructionhandle handler get handler pc gethandlerpc handler branch targets branchtargets push handler stack depth stackdepth max stack depth maxstackdepth instruction handle instructionhandle get start getstart instruction instruction get instruction getinstruction opcode instruction get opcode getopcode delta instruction produce stack producestack instruction consume stack consumestack stack depth stackdepth delta stack depth stackdepth max stack depth maxstackdepth max stack depth maxstackdepth stack depth stackdepth choose instruction based current branch instruction branch instruction branchinstruction branch instruction branchinstruction branch branch instruction branchinstruction instruction instruction select explore select targets target handled select select select branch instruction handle instructionhandle targets select get targets gettargets targets length branch targets branchtargets push targets stack depth stackdepth fall branch if instruction ifinstruction push instruction stack depth reduced opcode constants jsr opcode constants jsr branch targets branchtargets push get next getnext stack depth stackdepth branches target branch pushed branch stack conditional branches fall selects don jsr jsr instruction branch targets branchtargets push branch get target gettarget stack depth stackdepth check instructions terminate method opcode constants athrow opcode constants ret opcode constants ireturn opcode constants normal instruction get next getnext instructions deferred branches explore branch target branchtarget branch targets branchtargets pop target stack depth stackdepth stack depth stackdepth max stack depth maxstackdepth array list arraylist observers add observer object add observer addobserver method observer methodobserver observers observers array list arraylist observers add remove observer object remove observer removeobserver method observer methodobserver observers observers remove call notify method observers method called automatically changed called user finished editing object update observers iterator observers iterator has next hasnext method observer methodobserver notify string representation close declaration format main string ioexception string representation method string to string tostring string access utility access to string accesstostring access flags string signature type get method signature getmethodsignature type arg types signature utility method signature to string methodsignaturetostring signature access get local variable table getlocalvariabletable string buffer stringbuffer buf string buffer stringbuffer signature vec size iterator vec iterator has next hasnext buf append tthrows buf to string tostring deep copy method method gen methodgen copy string constant pool gen constantpoolgen method method gen methodgen clone get method getmethod method gen methodgen method gen methodgen set constant pool setconstantpool get instruction list getinstructionlist replace constant pool replaceconstantpool todo param annotations array arrays array lists caller readonly list list annotation gen annotationgen objects representing parameter annotations list get annotations on parameter getannotationsonparameter ensure existing parameter annotations unpacked ensureexistingparameterannotationsunpacked has parameter annotations hasparameterannotations arg types length param annotations attributes method identifies runtime parameter annotations runtimeparameterannotations extracting contents storing parameter annotations kinds parameter annotation visible invisible unpacked attributes deleted annotations rebuilt attributes builds method object method gen methodgen object ensure existing parameter annotations unpacked ensureexistingparameterannotationsunpacked have unpacked parameter annotations haveunpackedparameterannotations find attributes parameter annotation data attribute attrs get attributes getattributes runtime parameter annotations runtimeparameterannotations param ann vis attr paramannvisattr runtime parameter annotations runtimeparameterannotations param ann invis attr paramanninvisattr list accumulated annotations accumulatedannotations array list arraylist attrs length attribute attribute attrs attribute runtime parameter annotations runtimeparameterannotations initialize param annotations has parameter annotations hasparameterannotations param annotations list arg types length arg types length param annotations array list arraylist has parameter annotations hasparameterannotations runtime parameter annotations runtimeparameterannotations rpa runtime parameter annotations runtimeparameterannotations attribute rpa are visible arevisible param ann vis attr paramannvisattr rpa param ann invis attr paramanninvisattr rpa arg types length returns annotation annotation immutable array immutablearray rpa get annotations on parameter getannotationsonparameter transforming annotation gen annotationgen list mutable make mutable version makemutableversion immutable array immutablearray add param annotations add all addall mutable param ann vis attr paramannvisattr remove attribute removeattribute param ann vis attr paramannvisattr param ann invis attr paramanninvisattr remove attribute removeattribute param ann invis attr paramanninvisattr have unpacked parameter annotations haveunpackedparameterannotations list make mutable version makemutableversion annotation gen annotationgen annotation mutable array mutablearray list result array list arraylist mutable array mutablearray length result add annotation gen annotationgen mutable array mutablearray get constant pool getconstantpool result add parameter annotation addparameterannotation parameter index parameterindex annotation gen annotationgen annotation ensure existing parameter annotations unpacked ensureexistingparameterannotationsunpacked has parameter annotations hasparameterannotations param annotations list arg types length has parameter annotations hasparameterannotations list existing annotations existingannotations param annotations parameter index parameterindex existing annotations existingannotations existing annotations existingannotations add annotation list array list arraylist add annotation param annotations parameter index parameterindex