copyright xerox corporation palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation installer org aspectj java awt border layout borderlayout java awt component java awt dimension java awt flow layout flowlayout java awt font java awt grid bag constraints gridbagconstraints java awt grid bag layout gridbaglayout java awt toolkit java awt event action event actionevent java awt event action listener actionlistener java awt event window adapter windowadapter java awt event window event windowevent java awt event window listener windowlistener java buffered output stream bufferedoutputstream java buffered reader bufferedreader java buffered writer bufferedwriter java file java file input stream fileinputstream java file output stream fileoutputstream java file writer filewriter java ioexception java input stream inputstream java input stream reader inputstreamreader java output stream outputstream java print stream printstream java lang reflect invocation target exception invocationtargetexception java net url java util map java util properties java util zip zip entry zipentry java util zip zip input stream zipinputstream javax swing border factory borderfactory javax swing box layout boxlayout javax swing icon javax swing jbutton javax swing jeditor pane jeditorpane javax swing jfile chooser jfilechooser javax swing jframe javax swing jlabel javax swing joption pane joptionpane javax swing jpanel javax swing jprogress bar jprogressbar javax swing jtext area jtextarea javax swing jtext field jtextfield javax swing swing utilities swingutilities javax swing border border javax swing border compound border compoundborder javax swing border empty border emptyborder invoke installer gui ways gui passing parameters main pass code text path to properties file pathtopropertiesfile code text equals arg arg path properties file defines output dir path output dir context java path javapath path jdkdir pre output dir latest context java path javapath apps jdk pre output dir outputdir created empty overwriting invoked target pass code path to target dir pathtotargetdir code equals arg arg path writable install directory main main string args options load args loadargs args has gui hasgui properties properties properties input stream inputstream istream istream main get resource as stream getresourceasstream installer resource dir properties txt istream system err println unable load properties txt main exiting main exit properties load istream xxx indirection needed options text properties textproperties istream close istream file input stream fileinputstream options text properties textproperties properties load istream has gui hasgui options target dir targetdir string path path options target dir targetdir get canonical path getcanonicalpath ioexception path options target dir targetdir get absolute path getabsolutepath string java path javapath configure launcher pane configurelauncherpane get default java home location getdefaultjavahomelocation java path javapath system err println gui unable find java properties set property setproperty output dir path properties set property setproperty context java path javapath java path javapath has gui hasgui ioexception ioe handle exception handleexception ioe istream istream close ignore ioexception string class name classname string properties installer main uimanager set look and feel setlookandfeel uimanager get system look and feel class name getsystemlookandfeelclassname installer installer installer for name forname class name classname new instance newinstance install context installcontext installer context installercontext install context installcontext properties installer context installercontext set has gui sethasgui has gui hasgui installer set context setcontext installer context installercontext installer context installercontext has gui hasgui context force gui installer run gui rungui output dir java path context minimal validation string prop name propname output dir string prop value propvalue properties get property getproperty prop name propname prop value propvalue exception expecting property prop name propname string output dir name outputdirname prop value propvalue prop name propname context java path javapath prop value propvalue properties get property getproperty prop name propname prop value propvalue exception expecting property prop name propname string java path javapath prop value propvalue file output dir outputdir file output dir name outputdirname output dir outputdir is directory isdirectory exception dir output dir name outputdirname output dir name outputdirname dir output dir outputdir output dir outputdir can write canwrite exception write output dir name outputdirname output dir name outputdirname dir output dir outputdir todo installer context installercontext install context installcontext context installer get context getcontext context set output dir setoutputdir output dir outputdir context java path javapath file java path javapath todo check java path javapath bin java lib jar output dir outputdir is directory isdirectory output dir outputdir can read canread exception invalid java path javapath java path javapath context wizard pane wizardpane set context setcontext installer context installercontext installer exception handle exception handleexception handle exception handleexception throwable system println internal error to string tostring print stack trace printstacktrace main exit indirection system exit todo apply cleanup exit system exit options verbose string text properties textproperties file target dir targetdir force error forceerror force error forceerror force hand configure forcehandconfigure load args loadargs string args args args length string arg args arg arg equals verbose verbose arg equals force error forceerror force error forceerror arg equals force error forceerror force error forceerror arg equals force hand configure forcehandconfigure force hand configure forcehandconfigure arg equals text args length text properties textproperties args arg equals string argument args length args file targ dir targdir file targ dir targdir is directory isdirectory targ dir targdir can write canwrite target dir targetdir targ dir targdir target dir targetdir system err println invalid dir tools installer installs entire distribution tools installer toolsinstaller installer string get title gettitle installer aspect j aspectj string get prefix getprefix tools string get readme filename getreadmefilename readme aspect j aspectj html tools installer toolsinstaller install pane installpane install pane installpane install pane installpane set install pane setinstallpane install pane installpane panes wizard pane wizardpane intro pane intropane configure launcher pane configurelauncherpane location pane locationpane install pane installpane finish pane finishpane docs installer docsinstaller installer string get title gettitle aspect j aspectj documentation examples installer string get prefix getprefix docs docs installer docsinstaller install pane installpane install pane installpane install pane installpane set install pane setinstallpane install pane installpane panes wizard pane wizardpane intro pane intropane location pane locationpane install pane installpane finish pane finishpane ajdefor jbuilder installer ajdeforjbuilderinstaller installer string get title gettitle aspect j aspectj support jbuilder string get prefix getprefix ajde for jbuilder ajdeforjbuilder ajdefor jbuilder installer ajdeforjbuilderinstaller install pane installpane install pane installpane install pane installpane set install pane setinstallpane install pane installpane panes wizard pane wizardpane intro pane intropane location pane locationpane string get default location getdefaultlocation context on windows onwindows check locations string paths jbuilder lib ext apps jbuilder lib ext program files jbuilder lib ext path index pathindex path index pathindex paths length path index pathindex file paths path index pathindex exists paths path index pathindex jbuilder lib ext usr jbuilder lib ext jar file removed verify file jbuilder file location get text gettext lib jbuilder jar jbuilder exists has gui hasgui ret joption pane joptionpane show confirm dialog showconfirmdialog frame location valid jbuilder install directory confirm install joption pane joptionpane option joption pane joptionpane question message ret joption pane joptionpane option main exit file old file oldfile file location get text gettext ajbuilder jar old file oldfile exists has gui hasgui ret joption pane joptionpane show confirm dialog showconfirmdialog frame version ajde jbuilder ajbuilder jar exists removed install directory delete confirm delete joption pane joptionpane option joption pane joptionpane question message ret joption pane joptionpane option main exit old file oldfile delete install pane installpane finish pane finishpane ajdefor forte installer ajdeforforteinstaller installer string get title gettitle aspect j aspectj support forte string get prefix getprefix ajde for forte ajdeforforte string install loc installloc ajdefor forte installer ajdeforforteinstaller install pane installpane install pane installpane install pane installpane set install pane setinstallpane install pane installpane panes wizard pane wizardpane intro pane intropane location pane locationpane string get default location getdefaultlocation context on windows onwindows check locations string paths forte modules apps forte modules program files forte modules path index pathindex path index pathindex paths length path index pathindex file paths path index pathindex exists paths path index pathindex forte modules usr forte modules verify file forte file location get text gettext lib openide jar install loc installloc location get text gettext forte exists has gui hasgui ret joption pane joptionpane show confirm dialog showconfirmdialog frame location valid forte install directory confirm install joption pane joptionpane option joption pane joptionpane question message ret joption pane joptionpane option main exit install pane installpane finish pane finishpane final actions finalactions todo verify dir lib ext exists install locations moving file file install loc installloc lib ext aspectjrt jar delete file install loc installloc aspectjrt jar rename to renameto file install loc installloc lib ext aspectjrt jar file install loc installloc aspectjrt jar delete src installer srcinstaller installer string get title gettitle aspect j aspectj compiler core tools sources installer string get prefix getprefix sources src installer srcinstaller install pane installpane install pane installpane install pane installpane set install pane setinstallpane install pane installpane panes wizard pane wizardpane intro pane intropane location pane locationpane install pane installpane finish pane finishpane installer string exit message cancel installation string exit title exiting installer relative directory jar installer org aspectj loading resources todo tracked build string resource dir resources jframe frame install context installcontext context special pane installation install pane installpane install pane installpane installer set install pane setinstallpane install pane installpane install pane installpane install pane installpane install pane installpane install pane installpane get install pane getinstallpane install pane installpane install pane install pane installpane install pane installpane string get prefix getprefix string get readme filename getreadmefilename readme get prefix getprefix to upper case touppercase html set context setcontext install context installcontext context context context context installer install context installcontext get context getcontext context string get title gettitle aspect j aspectj installer get width getwidth get height getheight wizard pane wizardpane panes wizard pane wizardpane wizard pane wizardpane get panes getpanes panes find pane index findpaneindex wizard pane wizardpane pane panes length panes pane component header footer body run gui rungui frame jframe get title gettitle window listener windowlistener window adapter windowadapter window closing windowclosing window event windowevent arg exiting button main exit frame add window listener addwindowlistener options force error forceerror runtime exception runtimeexception forced error testing purposes dimension size toolkit get default toolkit getdefaulttoolkit get screen size getscreensize size get width getwidth get width getwidth size get height getheight get height getheight include sanity checks starting position frame set location setlocation frame set size setsize get width getwidth get height getheight move to pane movetopane get panes getpanes frame set visible setvisible move to pane movetopane wizard pane wizardpane pane wizard pane wizardpane set context setcontext context dimension size frame get content pane getcontentpane get size getsize jpanel contents jpanel contents set layout setlayout border layout borderlayout header make header makeheader contents add header border layout borderlayout north body pane get panel getpanel contents add body border layout borderlayout center footer pane get buttons getbuttons contents add footer border layout borderlayout south contents revalidate contents set size setsize size frame set content pane setcontentpane contents xxx deal threading pane icon load image loadimage string javax swing image icon imageicon get class getclass get resource getresource component make header makeheader jlabel load image loadimage installer resource dir aspectj banner aspectjbanner gif action listener actionlistener make next action makenextaction wizard pane wizardpane pane next pane index nextpaneindex find pane index findpaneindex pane next pane index nextpaneindex get panes getpanes length wizard pane wizardpane next pane nextpane get panes getpanes next pane index nextpaneindex action listener actionlistener action performed actionperformed action event actionevent pane finish move to pane movetopane next pane nextpane action listener actionlistener make back action makebackaction wizard pane wizardpane pane next pane index nextpaneindex find pane index findpaneindex pane next pane index nextpaneindex wizard pane wizardpane next pane nextpane get panes getpanes next pane index nextpaneindex action listener actionlistener action performed actionperformed action event actionevent move to pane movetopane next pane nextpane action listener actionlistener make cancel action makecancelaction wizard pane wizardpane pane action listener actionlistener action performed actionperformed action event actionevent ret joption pane joptionpane show confirm dialog showconfirmdialog frame exit message exit title joption pane joptionpane option joption pane joptionpane question message ret joption pane joptionpane option main exit action listener actionlistener make finish action makefinishaction wizard pane wizardpane pane action listener actionlistener action performed actionperformed action event actionevent main exit install context installcontext install context installcontext map properties properties properties properties user system get property getproperty user system println install context file output dir outputdir set output dir setoutputdir file output dir outputdir output dir outputdir output dir outputdir properties installer output dir output dir outputdir get absolute path getabsolutepath properties installer output dir bin file output dir outputdir bin get absolute path getabsolutepath properties installer output dir doc file output dir outputdir doc get absolute path getabsolutepath properties installer output aspectjrt file file output dir outputdir lib aspectjrt jar get absolute path getabsolutepath properties installer output readme file output dir outputdir installer get readme filename getreadmefilename get absolute path getabsolutepath file get output dir getoutputdir output dir outputdir has gui hasgui file java path javapath file tools jar path toolsjarpath installer installer map properties has gui hasgui has gui hasgui set has gui sethasgui has gui hasgui has gui hasgui has gui hasgui has gui hasgui has gui hasgui font get font getfont font serif font plain string get os getos system get property getproperty on os onos get os getos equals get os getos equals on windows onwindows get os getos starts with startswith windows on os onos on windows pro onwindowspro get os getos equals windows get os getos equals windows get os getos equals windows on macintosh onmacintosh get os getos starts with startswith mac on unix onunix on windows onwindows string text extensions txt text htm html java ajava readme lst is text file istextfile file file string file get name getname text extensions length ends with endswith text extensions handle exception handleexception throwable system println internal error to string tostring print stack trace printstacktrace has gui hasgui joption pane joptionpane show message dialog showmessagedialog installer frame to string tostring unexpected exception joption pane joptionpane error message string overwrite message overwrite file string overwrite title overwrite string overwrite options overwrite overwrite overwrite overwrite overwrite state overwritestate overwrite should overwrite shouldoverwrite file file system println overwrite file overwrite state overwritestate overwrite state overwritestate overwrite swing utilities swingutilities invoke and wait invokeandwait runnable ret joption pane joptionpane show option dialog showoptiondialog installer frame overwrite message file get path getpath overwrite title joption pane joptionpane cancel option joption pane joptionpane question message overwrite options overwrite options overwrite overwrite state overwritestate ret invocation target exception invocationtargetexception ite handle exception handleexception ite get target exception gettargetexception interrupted exception interruptedexception overwrite state overwritestate overwrite overwrite state overwritestate overwrite map get properties getproperties properties wizard pane wizardpane install context installcontext context jbutton back button backbutton jbutton next button nextbutton jbutton cancel button cancelbutton set context setcontext install context installcontext con context con jpanel make panel makepanel jtext area jtextarea make text area maketextarea string data jtext area jtextarea text jtext area jtextarea data text set opaque setopaque text set font setfont context get font getfont text set editable seteditable text install context installcontext gui has gui hasgui install context installcontext icontext context icontext icontext has gui hasgui string string from stream stringfromstream input stream inputstream stream ioexception buffered reader bufferedreader reader buffered reader bufferedreader input stream reader inputstreamreader stream ascii string buffer stringbuffer ret string buffer stringbuffer data data reader read ret append data ret to string tostring string remove head removehead string text start index startindex text index of indexof head stop index stopindex text index of indexof head start index startindex stop index stopindex text stop index stopindex text substring start index startindex text substring stop index stopindex string style header styleheader head head style type text css font size large font family serif font weight normal font family serif font weight normal color black head string apply properties applyproperties string text map map map to string tostring last index lastindex string buffer stringbuffer buf string buffer stringbuffer start index startindex start index startindex text index of indexof last index lastindex end index endindex text index of indexof start index startindex xxx internal error end index endindex buf append text substring last index lastindex start index startindex string key text substring start index startindex end index endindex last index lastindex end index endindex object replace text replacetext map key system println key key replace text replacetext replace text replacetext replace text replacetext buf append replace text replacetext to string tostring buf append text substring last index lastindex buf to string tostring string apply properties applyproperties string text apply properties applyproperties text context get properties getproperties string load text loadtext string filename string fullname installer resource dir filename string text string from stream stringfromstream get class getclass get resource as stream getresourceasstream fullname text style header styleheader remove head removehead text text apply properties applyproperties text system println text text ioexception context handle exception handleexception jeditor pane jeditorpane make htmlarea makehtmlarea string filename jeditor pane jeditorpane editor pane editorpane jeditor pane jeditorpane text html load text loadtext filename paint graphics graphics graphics set rendering hint setrenderinghint rendering hints renderinghints key antialiasing rendering hints renderinghints antialias paint editor pane editorpane set editable seteditable editor pane editorpane set opaque setopaque editor pane editorpane set htmlarea sethtmlarea jeditor pane jeditorpane pane string filename pane set text settext load text loadtext filename jpanel make location box makelocationbox string label jtext field jtextfield text field textfield jbutton browse button browsebutton jpanel box jpanel box set layout setlayout box layout boxlayout box box layout boxlayout axis text field textfield set font setfont context get font getfont text field textfield select all selectall box add text field textfield box add browse button browsebutton border border border factory borderfactory create titled border createtitledborder label inset border compound border compoundborder border empty border emptyborder inset inset inset box set border setborder border box jpanel panel jpanel get panel getpanel panel panel make panel makepanel panel set border setborder border factory borderfactory create empty border createemptyborder panel set listener setlistener jbutton button action listener actionlistener listener listener button set enabled setenabled button add action listener addactionlistener listener component make buttons makebuttons installer installer jpanel panel jpanel flow layout flowlayout flow layout flowlayout back button backbutton jbutton set listener setlistener back button backbutton installer make back action makebackaction panel add back button backbutton next button nextbutton jbutton set listener setlistener next button nextbutton installer make next action makenextaction set default capable setdefaultcapable panel add next button nextbutton jlabel space jlabel space set preferred size setpreferredsize dimension panel add space cancel button cancelbutton jbutton cancel set listener setlistener cancel button cancelbutton installer make cancel action makecancelaction panel add cancel button cancelbutton panel component buttons component get buttons getbuttons buttons buttons make buttons makebuttons context installer buttons set border setborder border factory borderfactory create empty border createemptyborder context installer frame get root pane getrootpane set default button setdefaultbutton next button nextbutton buttons finish options force error forceerror runtime exception runtimeexception forced error testing purposes intro pane intropane wizard pane wizardpane jpanel make panel makepanel component text make htmlarea makehtmlarea intro html jpanel panel jpanel border layout borderlayout panel add text panel finish pane finishpane wizard pane wizardpane jpanel make panel makepanel component text make htmlarea makehtmlarea finish html jpanel panel jpanel border layout borderlayout panel add text final actions finalactions panel component make buttons makebuttons installer installer component ret make buttons makebuttons installer next button nextbutton set text settext finish next button nextbutton set enabled setenabled next button nextbutton add action listener addactionlistener installer make finish action makefinishaction back button backbutton set enabled setenabled cancel button cancelbutton set enabled setenabled ret final actions finalactions location pane locationpane wizard pane wizardpane action listener actionlistener xxx sophisticated location finding xxx find place chose string get default location getdefaultlocation context on windows onwindows xxx hard coded majorminor version fixed release aspectj file system get property getproperty user aspectj get absolute path getabsolutepath jtext field jtextfield location jpanel make panel makepanel component text make htmlarea makehtmlarea location html location jtext field jtextfield get default location getdefaultlocation jbutton browse jbutton browse browse add action listener addactionlistener jpanel location box locationbox make location box makelocationbox installation directory location browse grid bag layout gridbaglayout bag grid bag layout gridbaglayout grid bag constraints gridbagconstraints grid bag constraints gridbagconstraints jpanel panel jpanel bag fill grid bag constraints gridbagconstraints weightx gridwidth grid bag constraints gridbagconstraints remainder bag set constraints setconstraints text panel add text weighty fill grid bag constraints gridbagconstraints horizontal gridwidth grid bag constraints gridbagconstraints remainder bag set constraints setconstraints location box locationbox panel add location box locationbox panel component make buttons makebuttons installer installer component ret make buttons makebuttons installer next button nextbutton set text settext install ret action performed actionperformed action event actionevent jfile chooser jfilechooser chooser jfile chooser jfilechooser approve selection approveselection system println approved selection field get text gettext chooser set file selection mode setfileselectionmode jfile chooser jfilechooser files directories return val returnval chooser show dialog showdialog location select return val returnval jfile chooser jfilechooser approve option file file chooser get selected file getselectedfile file is directory isdirectory file file get parent file getparentfile string file get path getpath location set text settext location select all selectall override additional checks verify finish verify context set output dir setoutputdir file location get text gettext configure launcher pane configurelauncherpane wizard pane wizardpane xxx check returned file valid string get default java location getdefaultjavalocation string java context on windows onwindows exe options verbose system println java system get property getproperty java system println java file file system get property getproperty java bin system println java file file system get property getproperty java bin get path getpath file file system get property getproperty java bin get path getpath string get default java home location getdefaultjavahomelocation options force hand configure forcehandconfigure file java home javahome find java home findjavahome java home javahome java home javahome get path getpath choose file choosefile jtext field jtextfield field field get text gettext jfile chooser jfilechooser chooser jfile chooser jfilechooser chooser set file selection mode setfileselectionmode jfile chooser jfilechooser directories return val returnval chooser show dialog showdialog field select return val returnval jfile chooser jfilechooser approve option string chooser get selected file getselectedfile get path getpath field set text settext field select all selectall action listener actionlistener make java location browse listener makejavalocationbrowselistener action listener actionlistener action performed actionperformed action event actionevent choose file choosefile java location javalocation action listener actionlistener make tools jar location browse listener maketoolsjarlocationbrowselistener action listener actionlistener action performed actionperformed action event actionevent choose file choosefile tools jar location toolsjarlocation jtext field jtextfield java location javalocation jtext field jtextfield tools jar location toolsjarlocation jpanel make panel makepanel string java path javapath get default java home location getdefaultjavahomelocation string tools jar path toolsjarpath get default tools jar location getdefaulttoolsjarlocation component text java path javapath java path javapath java text make htmlarea makehtmlarea configure hand html text make htmlarea makehtmlarea configure auto html java location javalocation jtext field jtextfield java path javapath jbutton java location browse javalocationbrowse jbutton browse java location browse javalocationbrowse add action listener addactionlistener make java location browse listener makejavalocationbrowselistener jpanel java location box javalocationbox make location box makelocationbox java directory java location javalocation java location browse javalocationbrowse tools jar location toolsjarlocation jtext field jtextfield tools jar path toolsjarpath jbutton tools jar location browse toolsjarlocationbrowse jbutton browse tools jar location browse toolsjarlocationbrowse add action listener addactionlistener make tools jar location browse listener maketoolsjarlocationbrowselistener jpanel tools jar location box toolsjarlocationbox make location box makelocationbox full path tools jar tools jar location toolsjarlocation tools jar location browse toolsjarlocationbrowse grid bag layout gridbaglayout bag grid bag layout gridbaglayout grid bag constraints gridbagconstraints grid bag constraints gridbagconstraints jpanel panel jpanel bag fill grid bag constraints gridbagconstraints weightx weighty ipady gridwidth grid bag constraints gridbagconstraints remainder bag set constraints setconstraints text panel add text weighty fill grid bag constraints gridbagconstraints vertical bag set constraints setconstraints java location box javalocationbox panel add java location box javalocationbox weighty jlabel space jlabel bag set constraints setconstraints space panel add space weighty bag set constraints setconstraints tools jar location box toolsjarlocationbox panel add tools jar location box toolsjarlocationbox weighty jlabel space jlabel bag set constraints setconstraints space panel add space panel finish context java path javapath file java location javalocation get text gettext context tools jar path toolsjarpath file tools jar location toolsjarlocation get text gettext xxx work helping user paths context java path javapath is directory isdirectory context java path javapath file context java path javapath java context tools jar path toolsjarpath is directory isdirectory context tools jar path toolsjarpath file context tools jar path toolsjarpath tools jar xxx add user prefixes rational string windows paths windowspaths jdk apps jdk user jdk string unix paths unixpaths usr local bin jdk usr bin jdk usr bin jdk user jdk string suffixes windows is legal java home islegaljavahome file file bin file bin file bin java is file isfile file bin java exe is file isfile is legal jdkhome islegaljdkhome file file lib file lib file lib tools jar is file isfile file find java home findjavahome string system get property getproperty java file java home javahome java home javahome file is legal jdkhome islegaljdkhome java home javahome java home javahome is legal java home islegaljavahome java home javahome file parent java home javahome get parent file getparentfile parent is legal jdkhome islegaljdkhome parent parent string paths windows paths windows paths windowspaths paths unix paths unixpaths suffix index suffixindex suffix index suffixindex suffixes length suffix index suffixindex string suffix suffixes suffix index suffixindex prefix index prefixindex prefix index prefixindex paths length prefix index prefixindex string prefix paths prefix index prefixindex prefix apply properties applyproperties prefix file test file prefix suffix is legal java home islegaljavahome test is legal jdkhome islegaljdkhome test test java home javahome java home javahome test java home javahome install pane installpane wizard pane wizardpane jprogress bar jprogressbar progress bar progressbar jtext field jtextfield progress item progressitem jeditor pane jeditorpane message make launch scripts makelaunchscripts install pane installpane make launch scripts makelaunchscripts make launch scripts makelaunchscripts make launch scripts makelaunchscripts jpanel make panel makepanel message make htmlarea makehtmlarea install start html progress bar progressbar jprogress bar jprogressbar progress item progressitem jtext field jtextfield progress item progressitem set opaque setopaque progress item progressitem set font setfont context get font getfont progress item progressitem set editable seteditable grid bag layout gridbaglayout bag grid bag layout gridbaglayout grid bag constraints gridbagconstraints grid bag constraints gridbagconstraints jpanel panel jpanel bag fill grid bag constraints gridbagconstraints weightx weighty ipady gridwidth grid bag constraints gridbagconstraints remainder bag set constraints setconstraints message panel add message weighty fill grid bag constraints gridbagconstraints vertical bag set constraints setconstraints progress bar progressbar panel add progress bar progressbar weighty jlabel space jlabel bag set constraints setconstraints space panel add space weighty bag set constraints setconstraints progress item progressitem panel add progress item progressitem weighty space jlabel bag set constraints setconstraints space panel add space panel install runner installrunner runnable install runner installrunner current jar unpacker currentjarunpacker context install pane installpane unpack installer resource dir contents txt context get output dir getoutputdir make launch scripts makelaunchscripts launch script maker launchscriptmaker lsm launch script maker launchscriptmaker context lsm write script writescript ajc lsm write script writescript ajdoc lsm write script writescript ajdb lsm write script writescript ajbrowser moved bin dir generation script uniform lsm write ajlaunch script writeajlaunchscript lsm write ajlaunch script writeajlaunchscript has gui hasgui progress bar progressbar set value setvalue set htmlarea sethtmlarea message install finish html ioexception ioe context handle exception handleexception ioe has gui hasgui cancel button cancelbutton set enabled setenabled next button nextbutton set enabled setenabled component make buttons makebuttons installer installer component ret make buttons makebuttons installer next button nextbutton set text settext finish next button nextbutton set enabled setenabled next button nextbutton add action listener addactionlistener installer make finish action makefinishaction back button backbutton set enabled setenabled ret thread thread thread install runner installrunner thread start progress message progressmessage string message has gui hasgui xxx performance tradeoff invoke and wait invokeandwait invoke later invokelater swing utilities swingutilities invoke and wait invokeandwait runnable progress item progressitem set text settext message invocation target exception invocationtargetexception ite context handle exception handleexception ite get target exception gettargetexception interrupted exception interruptedexception n bytes nbytes bytes written byteswritten progress bytes written progressbyteswritten bytes has gui hasgui bytes written byteswritten bytes pct bytes written byteswritten n bytes nbytes system println bytes written byteswritten bytes written byteswritten xxx performance tradeoff invoke and wait invokeandwait invoke later invokelater swing utilities swingutilities invoke and wait invokeandwait runnable progress bar progressbar set value setvalue pct invocation target exception invocationtargetexception ite context handle exception handleexception ite get target exception gettargetexception interrupted exception interruptedexception current jar unpacker currentjarunpacker install context installcontext context install pane installpane install pane installpane current jar unpacker currentjarunpacker install context installcontext context install pane installpane install pane installpane context context install pane installpane install pane installpane file make output file makeoutputfile string file output file outputfile last index lastindex index of indexof last index lastindex output file outputfile file output file outputfile substring last index lastindex last index lastindex file output file outputfile substring last index lastindex buf size write stream writestream input stream inputstream zis file output file outputfile ioexception output file outputfile exists context should overwrite shouldoverwrite output file outputfile install pane installpane progress message progressmessage writing output file outputfile get absolute path getabsolutepath output file outputfile get parent file getparentfile mkdirs context is text file istextfile output file outputfile write text stream writetextstream zis output file outputfile write binary stream writebinarystream zis output file outputfile write binary stream writebinarystream input stream inputstream zis file output file outputfile ioexception buffer buf size n read nread output stream outputstream buffered output stream bufferedoutputstream file output stream fileoutputstream output file outputfile n read nread zis read buffer write buffer n read nread install pane installpane progress bytes written progressbyteswritten n read nread close write text stream writetextstream input stream inputstream zis file output file outputfile ioexception buffered writer bufferedwriter buffered writer bufferedwriter file writer filewriter output file outputfile buffered reader bufferedreader buffered reader bufferedreader input stream reader inputstreamreader zis ascii string read line readline write new line newline install pane installpane progress bytes written progressbyteswritten length close write resource writeresource string file output dir outputdir ioexception file output file outputfile make output file makeoutputfile output dir outputdir system println finding write stream writestream get class getclass get resource as stream getresourceasstream output file outputfile unpack string contents name contentsname file output dir outputdir ioexception url url get class getclass get resource getresource contents name contentsname input stream inputstream stream url open stream openstream buffered reader bufferedreader reader buffered reader bufferedreader input stream reader inputstreamreader stream ascii string reader read line readline install pane installpane n bytes nbytes integer parse int parseint reader read line readline write resource writeresource output dir outputdir install pane installpane progress message progressmessage writing launch script maker launchscriptmaker string tools package toolspackage org aspectj tools install context installcontext context launch script maker launchscriptmaker install context installcontext context context context write ajlaunch script writeajlaunchscript string is java isjava ioexception context on unix onunix context on os onos cmd context on windows onwindows bat file dest dir destdir file context get output dir getoutputdir bin dest dir destdir mkdirs file file file dest dir destdir print stream printstream get print stream getprintstream file write ajlaunch script content writeajlaunchscriptcontent is java isjava close context on unix onunix make executable makeexecutable file param write ajlaunch script content writeajlaunchscriptcontent print stream printstream is java isjava context on unix onunix write unix header writeunixheader is java isjava write aj writeaj unix launch line unixlaunchline write ajunix launch line writeajunixlaunchline write windows header writewindowsheader is java isjava write aj writeaj windows launch line windowslaunchline write ajwindows launch line writeajwindowslaunchline param write ajwindows launch line writeajwindowslaunchline print stream printstream println java bin java classpath aspectj lib aspectjweaver jar djava system loader org aspectj weaver loadtime weaving urlclass loader weavingurlclassloader daj path aspectpath classpath daj aspect path aspectpath make script args makescriptargs param write aj writeaj windows launch line windowslaunchline print stream printstream println java bin java classpath aspectj lib aspectjweaver jar classpath javaagent aspectj lib aspectjweaver jar make script args makescriptargs param write ajunix launch line writeajunixlaunchline print stream printstream println java bin java classpath aspectj lib aspectjweaver jar djava system loader org aspectj weaver loadtime weaving urlclass loader weavingurlclassloader daj path aspectpath classpath daj aspect path aspectpath make script args makescriptargs param write aj writeaj unix launch line unixlaunchline print stream printstream println java bin java classpath aspectj lib aspectjweaver jar classpath javaagent aspectj lib aspectjweaver jar make script args makescriptargs write windows header writewindowsheader print stream printstream println echo println rem file generated aspect j aspectj installer println rem created java util system get property getproperty user println println java java context java path javapath get absolute path getabsolutepath println aspectj aspectj context get output dir getoutputdir get absolute path getabsolutepath println println exist java bin java exe have java havejava println exist java bin java bat have java havejava println exist java bin java have java havejava println echo java exist java bin java println echo java environment variable println have java havejava write windows launch line writewindowslaunchline string class name classname print stream printstream println java bin java classpath aspectj lib aspectjtools jar classpath aspectj lib aspectjtools jar java lib tools jar classpath xmx class name classname default classpath defaultclasspath classpath make script args makescriptargs write unix header writeunixheader print stream printstream file binsh file file separator bin binsh can read canread println binsh get path getpath println file generated aspect j aspectj installer println created java util system get property getproperty user println println java java quote context java path javapath get absolute path getabsolutepath println println aspectj aspectj quote context get output dir getoutputdir println println write unix launch line writeunixlaunchline string class name classname print stream printstream string sep file path separator pathseparator println java bin java classpath aspectj lib aspectjtools jar sep java lib tools jar sep classpath xmx class name classname make script args makescriptargs make executable makeexecutable file file runtime cur runtime curruntime runtime get runtime getruntime cur runtime curruntime exec chmod quote file throwable string make script args makescriptargs unix style unixstyle unix style unixstyle context on windows pro onwindowspro string quote unix style unixstyle force quotes forcequotes file file quote unix style unixstyle force quotes forcequotes file get absolute path getabsolutepath string quote unix style unixstyle force quotes forcequotes string context on windows onwindows unix style unixstyle replace force quotes forcequotes index of indexof file make script file makescriptfile string unix style unixstyle ioexception unix style unixstyle context on os onos cmd context on windows onwindows bat file bindir file context get output dir getoutputdir bin bindir mkdirs file file file bindir file print stream printstream get print stream getprintstream file file ioexception print stream printstream buffered output stream bufferedoutputstream file output stream fileoutputstream file string make class path var makeclasspathvar unix style unixstyle unix style unixstyle classpath classpath string make class path makeclasspath unix style unixstyle ioexception context tools jar path toolsjarpath get absolute path getabsolutepath file path separator pathseparator file file context get output dir getoutputdir lib aspectjtools jar get absolute path getabsolutepath file path separator pathseparator make class path var makeclasspathvar unix style unixstyle write script writescript string class name classname print stream printstream unix style unixstyle ioexception unix style unixstyle write unix header writeunixheader write unix launch line writeunixlaunchline class name classname write windows header writewindowsheader write windows launch line writewindowslaunchline class name classname write script writescript string class name classname unix style unixstyle ioexception file file make script file makescriptfile class name classname unix style unixstyle check existing file checkexistingfile file print stream printstream get print stream getprintstream file write script writescript tools package toolspackage class name classname main unix style unixstyle close context on unix onunix make executable makeexecutable file check existing file checkexistingfile file file file exists context should overwrite shouldoverwrite file write script writescript string class name classname ioexception write script writescript class name classname context on windows onwindows write script writescript class name classname jar unpacker jarunpacker install context installcontext context install pane installpane install pane installpane jar unpacker jarunpacker install context installcontext context install pane installpane install pane installpane context context install pane installpane install pane installpane file make output file makeoutputfile string file output file outputfile last index lastindex index of indexof last index lastindex output file outputfile file output file outputfile substring last index lastindex last index lastindex file output file outputfile substring last index lastindex buf size write stream writestream zip input stream zipinputstream zis file output file outputfile ioexception output file outputfile exists context should overwrite shouldoverwrite output file outputfile install pane installpane progress message progressmessage writing output file outputfile get absolute path getabsolutepath output file outputfile get parent file getparentfile mkdirs context is text file istextfile output file outputfile write text stream writetextstream zis output file outputfile write binary stream writebinarystream zis output file outputfile write binary stream writebinarystream zip input stream zipinputstream zis file output file outputfile ioexception buffer buf size n read nread output stream outputstream buffered output stream bufferedoutputstream file output stream fileoutputstream output file outputfile n read nread zis read buffer write buffer n read nread install pane installpane progress bytes written progressbyteswritten n read nread close write text stream writetextstream zip input stream zipinputstream zis file output file outputfile ioexception buffered writer bufferedwriter buffered writer bufferedwriter file writer filewriter output file outputfile buffered reader bufferedreader buffered reader bufferedreader input stream reader inputstreamreader zis ascii string read line readline write new line newline install pane installpane progress bytes written progressbyteswritten length close write entry writeentry zip input stream zipinputstream zis zip entry zipentry entry file output dir outputdir ioexception entry is directory isdirectory string entry get name getname file output file outputfile make output file makeoutputfile output dir outputdir write stream writestream zis output file outputfile unpack string jar name jarname file output dir outputdir ioexception url url get class getclass get resource getresource jar name jarname input stream inputstream stream url open stream openstream zip input stream zipinputstream zis zip input stream zipinputstream stream zip entry zipentry entry entry zis get next entry getnextentry write entry writeentry zis entry output dir outputdir install pane installpane progress message progressmessage writing