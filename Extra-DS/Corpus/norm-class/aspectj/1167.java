copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation org aspectj ajdt internal compiler java ioexception java util array list arraylist java util collection java util collections java util enumeration java util hashtable java util iterator java util list java util map org aspectj ajdt internal compiler lookup eclipse factory eclipsefactory org aspectj ajdt internal compiler lookup eclipse source location eclipsesourcelocation org aspectj bridge abort exception abortexception org aspectj bridge imessage org aspectj bridge imessage handler imessagehandler org aspectj bridge isource location isourcelocation org aspectj bridge imessage kind org aspectj weaver iclass file provider iclassfileprovider org aspectj weaver iweave requestor iweaverequestor org aspectj weaver bcel bcel weaver bcelweaver org aspectj weaver bcel bcel world bcelworld org aspectj weaver bcel pause org aspectj weaver bcel unwoven class file unwovenclassfile org aspectj weaver bcel unwoven class file with third party managed bytecode unwovenclassfilewiththirdpartymanagedbytecode org eclipse jdt core compiler iproblem org eclipse jdt internal compiler class file classfile org eclipse jdt internal compiler compilation result compilationresult org eclipse jdt internal compiler compiler org eclipse jdt internal compiler icompiler requestor icompilerrequestor org eclipse jdt internal compiler ierror handling policy ierrorhandlingpolicy org eclipse jdt internal compiler iproblem factory iproblemfactory org eclipse jdt internal compiler ast compilation unit declaration compilationunitdeclaration org eclipse jdt internal compiler env icompilation unit icompilationunit org eclipse jdt internal compiler env iname environment inameenvironment org eclipse jdt internal compiler impl reference context referencecontext org eclipse jdt internal compiler problem default problem defaultproblem org eclipse jdt internal compiler problem problem severities problemseverities aj compiler ajcompiler compiler list interim result interimresult results pending weave resultspendingweave array list arraylist bcel world bcelworld bcel world bcelworld bcel weaver bcelweaver bcel weaver bcelweaver iintermediate results requestor iintermediateresultsrequestor intermediate result requestor intermediateresultrequestor ioutput class file name provider ioutputclassfilenameprovider name provider nameprovider list interim result interimresult binary sources binarysources array list arraylist skip the weave phase skiptheweavephase reported errors reportederrors weaver message handler weavermessagehandler wm handler wmhandler is batch compile isbatchcompile collection interim result interimresult result set for full weave resultsetforfullweave collections empty list iintermediate results requestor iintermediateresultsrequestor accept result acceptresult interim result interimresult int res intres ioutput class file name provider ioutputclassfilenameprovider string get output class file name getoutputclassfilename eclipse class file name eclipseclassfilename compilation result compilationresult result aj compiler ajcompiler iname environment inameenvironment environment ierror handling policy ierrorhandlingpolicy policy map settings icompiler requestor icompilerrequestor requestor iproblem factory iproblemfactory problem factory problemfactory environment policy settings requestor problem factory problemfactory aj compiler ajcompiler iname environment inameenvironment environment ierror handling policy ierrorhandlingpolicy policy map settings icompiler requestor icompilerrequestor requestor iproblem factory iproblemfactory problem factory problemfactory parse literal expressions as constants parseliteralexpressionsasconstants environment policy settings requestor problem factory problemfactory parse literal expressions as constants parseliteralexpressionsasconstants set weaver setweaver bcel weaver bcelweaver weaver bcel weaver bcelweaver weaver set world setworld bcel world bcelworld bcel world bcelworld imessage handler imessagehandler msg handler msghandler get message handler getmessagehandler wm handler wmhandler weaver message handler weavermessagehandler msg handler msghandler set message handler setmessagehandler wm handler wmhandler prepare for batch compilation prepareforbatchcompilation is batch compile isbatchcompile set intermediate results requestor setintermediateresultsrequestor iintermediate results requestor iintermediateresultsrequestor int req intreq intermediate result requestor intermediateresultrequestor int req intreq set no weave setnoweave no weave noweave skip the weave phase skiptheweavephase no weave noweave set full weave results setfullweaveresults collection compilation results compilationresults result set for full weave resultsetforfullweave compilation results compilationresults set output file name provider setoutputfilenameprovider ioutput class file name provider ioutputclassfilenameprovider name provider nameprovider add binary source files addbinarysourcefiles map binary source entries binarysourceentries map file name filename list unwoven class file unwovenclassfile iterator bin iter biniter binary source entries binarysourceentries key set keyset iterator bin iter biniter has next hasnext string source file name sourcefilename string bin iter biniter list unwoven class files unwovenclassfiles list binary source entries binarysourceentries source file name sourcefilename compilation result compilationresult result compilation result compilationresult source file name sourcefilename to char array tochararray result no source available nosourceavailable interim result interimresult binary source binarysource interim result interimresult result name provider nameprovider binary source binarysource unwoven class files unwovenclassfiles unwoven class file unwovenclassfile unwoven class files unwovenclassfiles size iterator iter unwoven class files unwovenclassfiles iterator iter has next hasnext unwoven class file unwovenclassfile element unwoven class file unwovenclassfile iter binary source binarysource unwoven class files unwovenclassfiles element aj class file ajclassfile ajcf aj class file ajclassfile element get class name getclassname replace to char array tochararray element get bytes getbytes result record ajcf file name filename ajcf binary sources binarysources add binary source binarysource addition processing compilation unit normal ways weaving inter type declarations signatures types binding process compilation unit declaration compilationunitdeclaration unit eclipse factory eclipsefactory eclipse factory eclipsefactory from lookup environment fromlookupenvironment lookup environment lookupenvironment show message showmessage imessage info compiling string unit get file name getfilename process unit finished compilation unit finishedcompilationunit unit javadoc org eclipse jdt internal compiler compiler compile org eclipse jdt internal compiler env icompilation unit icompilationunit override method defer handing caller weave phase completed files form error messages relating compilation unit reported contract jdt expects method compile icompilation unit icompilationunit source units sourceunits results pending weave resultspendingweave array list arraylist reported errors reportederrors compile source units sourceunits pause pause compile skip the weave phase skiptheweavephase reported errors reportederrors weave results weaveresults pause pause weave notify requestor notifyrequestor weaver notifies ioexception todo print stack trace printstacktrace cleanup javadoc org eclipse jdt internal compiler compiler register compilation result registercompilationresult org eclipse jdt internal compiler compilation result compilationresult register compilation result registercompilationresult compilation result compilationresult result interim result interimresult int res intres interim result interimresult result name provider nameprovider results pending weave resultspendingweave add int res intres result has errors haserrors reported errors reportederrors intermediate result requestor intermediateresultrequestor intermediate result requestor intermediateresultrequestor accept result acceptresult int res intres javadoc org eclipse jdt internal compiler compiler reset early reset calls early javadoc org eclipse jdt internal compiler compiler resolve org eclipse jdt internal compiler ast compilation unit declaration compilationunitdeclaration org eclipse jdt internal compiler env icompilation unit icompilationunit compilation unit declaration compilationunitdeclaration resolve compilation unit declaration compilationunitdeclaration unit icompilation unit icompilationunit source unit sourceunit verify methods verifymethods analyze code analyzecode generate code generatecode todo include weave phase resolution resolve unit source unit sourceunit verify methods verifymethods analyze code analyzecode generate code generatecode aspect j aspectj helper methods called compile weave results weaveresults ioexception ensure weaver correctly iterator iter results pending weave resultspendingweave iterator iter has next hasnext interim result interimresult iresult interim result interimresult iter iresult unwoven class files unwovenclassfiles length bcel weaver bcelweaver add class file addclassfile iresult unwoven class files unwovenclassfiles pause pause adding files weaver bcel weaver bcelweaver prepare for weave prepareforweave pause pause preparing weave is batch compile isbatchcompile results pending weave resultspendingweave add all addall binary sources binarysources passed compiler classes injars inpath bcel weaver bcelweaver need to reweave world needtoreweaveworld add all known classes to weave list addallknownclassestoweavelist pause pause adding binary sources weaver bcel weaver bcelweaver weave weaver adaptor weaveradaptor notify requestor notifyrequestor iterator iter results pending weave resultspendingweave iterator iter has next hasnext interim result interimresult iresult interim result interimresult iter requestor accept result acceptresult iresult result tag as accepted tagasaccepted cleanup results pending weave resultspendingweave is batch compile isbatchcompile binary sources binarysources array list arraylist result set for full weave resultsetforfullweave collections empty list reset pause pause notify cleanup add all known classes to weave list addallknownclassestoweavelist pending weave incremental compile add source iterator iter result set for full weave resultsetforfullweave iterator iter has next hasnext interim result interimresult interim result interimresult iter results pending weave resultspendingweave equality based source file result has been accepted hasbeenaccepted accepted start results pending weave resultspendingweave add helper feeds input weaver accepts weaver adaptor weaveradaptor iclass file provider iclassfileprovider iweave requestor iweaverequestor iterator aj compiler ajcompiler compiler iterator result iterator resultiterator class file index classfileindex interim result interimresult now processing nowprocessing interim result interimresult last returned result lastreturnedresult compilation result compilationresult last accepted result lastacceptedresult final phase finalphase weaver adaptor weaveradaptor aj compiler ajcompiler for compiler forcompiler compiler for compiler forcompiler javadoc org aspectj weaver iclass file provider iclassfileprovider get class file iterator getclassfileiterator iterator get class file iterator getclassfileiterator class file index classfileindex now processing nowprocessing last returned result lastreturnedresult result iterator resultiterator compiler results pending weave resultspendingweave iterator javadoc org aspectj weaver iclass file provider iclassfileprovider get requestor getrequestor iweave requestor iweaverequestor get requestor getrequestor javadoc org aspectj weaver iweave requestor iweaverequestor accept result acceptresult org aspectj weaver bcel unwoven class file unwovenclassfile accept result acceptresult unwoven class file unwovenclassfile result key result get class name getclassname replace to char array tochararray remove from hashtable removefromhashtable last returned result lastreturnedresult result compiled types compiledtypes key string class name classname result get class name getclassname replace aj class file ajclassfile ajcf aj class file ajclassfile class name classname to char array tochararray result get bytes getbytes last returned result lastreturnedresult result record ajcf file name filename ajcf last accepted result lastacceptedresult last returned result lastreturnedresult result last accepted result lastacceptedresult last accepted result lastacceptedresult push result free memory finished with finishedwith last accepted result lastacceptedresult last accepted result lastacceptedresult last returned result lastreturnedresult result finished with finishedwith interim result interimresult result compiler requestor accept result acceptresult result result tag as accepted tagasaccepted compiler units to process unitstoprocess length compiler units to process unitstoprocess compiler units to process unitstoprocess compilation result compilationresult result result compiler units to process unitstoprocess javadoc java util iterator has next hasnext has next hasnext now processing nowprocessing result iterator resultiterator has next hasnext now processing nowprocessing interim result interimresult result iterator resultiterator class file index classfileindex now processing nowprocessing unwoven class files unwovenclassfiles length result iterator resultiterator has next hasnext now processing nowprocessing interim result interimresult result iterator resultiterator class file index classfileindex now processing nowprocessing unwoven class files unwovenclassfiles length class file index classfileindex result iterator resultiterator has next hasnext now processing nowprocessing interim result interimresult result iterator resultiterator now processing nowprocessing unwoven class files unwovenclassfiles length result iterator resultiterator has next hasnext now processing nowprocessing interim result interimresult result iterator resultiterator javadoc java util iterator object has next hasnext sets indices correctly final phase finalphase last returned result lastreturnedresult last returned result lastreturnedresult now processing nowprocessing last returned result lastreturnedresult finished with finishedwith last returned result lastreturnedresult last returned result lastreturnedresult now processing nowprocessing compiler wm handler wmhandler set current result setcurrentresult now processing nowprocessing result now processing nowprocessing unwoven class files unwovenclassfiles class file index classfileindex javadoc java util iterator remove remove unsupported operation exception unsupportedoperationexception processing reweavable state processingreweavablestate adding type mungers addingtypemungers weaving aspects weavingaspects weaving classes weavingclasses final phase finalphase weave completed weavecompleted last returned result lastreturnedresult last returned result lastreturnedresult result has been accepted hasbeenaccepted finished with finishedwith last returned result lastreturnedresult remove from hashtable removefromhashtable hashtable table key jdt key hashtable equality based array content string skey string key victim enumeration iter table iter has more elements hasmoreelements this key thiskey iter next element nextelement skey equals string this key thiskey victim this key thiskey victim table remove victim holder intermediate form files interim result interimresult compilation result compilationresult result unwoven class file unwovenclassfile unwoven class files unwovenclassfiles longer term nice copies codes result class files classfiles unwoven class files unwovenclassfiles aj compiler ajcompiler ioutput class file name provider ioutputclassfilenameprovider name gen namegen string class names classnames entry unwoven class files unwovenclassfiles bcel object type bcelobjecttype class types classtypes entry resolved type unwoven class files unwovenclassfiles interim result interimresult compilation result compilationresult aj compiler ajcompiler ioutput class file name provider ioutputclassfilenameprovider result name gen namegen unwoven class files unwovenclassfiles class file based byte code provider classfilebasedbytecodeprovider unwoven class files for unwovenclassfilesfor result name gen namegen string file name filename string result file name filename equals object interim result interimresult interim result interimresult interim result interimresult file name filename equals file name filename hash code hashcode file name filename hash code hashcode xxx lightweight subclass class file classfile genuinely supports file name filename get bytes getbytes operations aj class file ajclassfile class file classfile filename bytes aj class file ajclassfile file name filename byte codes bytecodes filename file name filename bytes byte codes bytecodes file name filename filename get bytes getbytes bytes adaptor class files classfiles bytecode repository unwoven class files unwovenclassfiles class file classfile bytes copy class file based byte code provider classfilebasedbytecodeprovider unwoven class file with third party managed bytecode unwovenclassfilewiththirdpartymanagedbytecode ibyte code provider ibytecodeprovider class file classfile class file based byte code provider classfilebasedbytecodeprovider class file classfile get bytes getbytes get bytes getbytes unwoven class file unwovenclassfile unwoven class files for unwovenclassfilesfor compilation result compilationresult result aj compiler ajcompiler ioutput class file name provider ioutputclassfilenameprovider name provider nameprovider class file classfile cfs result get class files getclassfiles unwoven class file unwovenclassfile ret unwoven class file unwovenclassfile cfs length ret length class file based byte code provider classfilebasedbytecodeprovider class file based byte code provider classfilebasedbytecodeprovider cfs string file name filename name provider nameprovider get output class file name getoutputclassfilename cfs file name filename result ret unwoven class file with third party managed bytecode unwovenclassfilewiththirdpartymanagedbytecode file name filename ret handling messages produced weaver weaver message handler weavermessagehandler imessage handler imessagehandler imessage handler imessagehandler sink compilation result compilationresult currently weaving currentlyweaving weaver message handler weavermessagehandler imessage handler imessagehandler handler sink handler set current result setcurrentresult compilation result compilationresult result currently weaving currentlyweaving result handle message handlemessage imessage message abort exception abortexception message is error iserror message is warning iswarning sink handle message handlemessage message care warnings errors isource location isourcelocation s loc sloc message get source location getsourcelocation compilation result compilationresult problem source problemsource currently weaving currentlyweaving problem source problemsource problem complete type bindings completetypebindings phase compile s loc sloc eclipse source location eclipsesourcelocation problem source problemsource eclipse source location eclipsesourcelocation s loc sloc get compilation result getcompilationresult problem source problemsource xxx ajc ajdt time sink handle message handlemessage message start pos startpos get start pos getstartpos s loc sloc problem source problemsource end pos endpos get end pos getendpos s loc sloc problem source problemsource severity message is error iserror problem severities problemseverities error problem severities problemseverities warning filename problem source problemsource file name filename used binary source file name usedbinarysourcefilename problem source problemsource is from binary source isfrombinarysource s loc sloc filename s loc sloc get source file getsourcefile get path getpath to char array tochararray used binary source file name usedbinarysourcefilename reference context referencecontext reference context referencecontext find reference context for findreferencecontextfor problem source problemsource iproblem problem problem reporter problemreporter create problem createproblem filename iproblem unclassified string string message get message getmessage severity start pos startpos end pos endpos s loc sloc s loc sloc get line getline reference context referencecontext problem source problemsource iproblem see also seealso build see also problems buildseealsoproblems message get extra source locations getextrasourcelocations problem source problemsource used binary source file name usedbinarysourcefilename problem set see also problems setseealsoproblems see also seealso message get details getdetails problem set supplementary message info setsupplementarymessageinfo message get details getdetails problem reporter problemreporter record problem problem source problemsource reference context referencecontext weaving phase weavingphase sink handle message handlemessage message message reported compilation result is ignoring isignoring kind kind sink is ignoring isignoring kind get start pos getstartpos isource location isourcelocation s loc sloc compilation result compilationresult result pos s loc sloc s loc sloc get line getline s loc sloc eclipse source location eclipsesourcelocation pos eclipse source location eclipsesourcelocation s loc sloc get start pos getstartpos result result line separator positions lineseparatorpositions result line separator positions lineseparatorpositions length pos result line separator positions lineseparatorpositions pos get end pos getendpos isource location isourcelocation s loc sloc compilation result compilationresult result pos s loc sloc s loc sloc get line getline s loc sloc eclipse source location eclipsesourcelocation pos eclipse source location eclipsesourcelocation s loc sloc get end pos getendpos result result line separator positions lineseparatorpositions result line separator positions lineseparatorpositions length pos result line separator positions lineseparatorpositions pos reference context referencecontext find reference context for findreferencecontextfor compilation result compilationresult result reference context referencecontext context units to process unitstoprocess units to process unitstoprocess length units to process unitstoprocess units to process unitstoprocess compilation result compilationresult result context units to process unitstoprocess context iproblem build see also problems buildseealsoproblems list source locations sourcelocations compilation result compilationresult problem source problemsource used binary source file name usedbinarysourcefilename prob length problength source locations sourcelocations size used binary source file name usedbinarysourcefilename prob length problength iproblem ret iproblem prob length problength source locations sourcelocations size isource location isourcelocation loc isource location isourcelocation source locations sourcelocations ret default problem defaultproblem loc get source file getsourcefile get path getpath to char array tochararray string problem severities problemseverities ignore get start pos getstartpos loc get end pos getendpos loc loc get line getline used binary source file name usedbinarysourcefilename ret ret length default problem defaultproblem problem source problemsource file name filename string problem severities problemseverities ignore ret