copyright xerox corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation org aspectj testing org aspectj bridge imessage org aspectj bridge imessage handler imessagehandler org aspectj bridge message org aspectj util lang util langutil java util java xxx creating exception api throw failure throwfailure string tester delegate reporting imessage handler imessagehandler message handler messagehandler base directory calculating relative paths event files file basedir collection notes submitted notes code list code hold events submitted list actual events actualevents array list arraylist code list code hold events expect list expected events expectedevents array list arraylist set basedir setbasedir file set message handler setmessagehandler imessage handler imessagehandler system err clear directory calculating relative paths events file param base dir basedir file existing directory set basedir setbasedir file base dir basedir base dir basedir illegal argument exception illegalargumentexception base dir basedir base dir basedir is directory isdirectory illegal argument exception illegalargumentexception directory base dir basedir basedir base dir basedir file get basedir getbasedir basedir message handler tester message kind fail handler complete abruptly handled completely tester abort exception abortexception check failed checkfailed set message handler setmessagehandler imessage handler imessagehandler handler handler illegal argument exception illegalargumentexception handler message handler messagehandler handler message handler messagehandler handler clear clear notes clearnotes clear events clearevents xxx deprecated clear clear notes clearnotes notes hash set hashset xxx deprecated clear clear events clearevents actual events actualevents array list arraylist expected events expectedevents array list arraylist add actual event event string actual events actualevents add add note link notes param note message add xxx deprecated event string note object note notes add note checks code note code link note fails code note to string tostring code wasn param note message link note xxx deprecated check event checkevent string check object note check note expected note note to string tostring checks code note code link note fails code message code wasn param note message link note param message message fail code node code wasn check object note string message check notes note message reports code code shouldn thrown code code message param thrown exception throwable throwable string throwable throwable throwable reports code code shouldn thrown code msg code message param thrown thrown exception param msg message report error throwable throwable thrown string msg handle msg thrown report error code message code unconditionally param message error report check failed checkfailed string message handle message check code expected notes expectednotes code equal link notes fail code msg code create instance link notes note code expected notes expectednotes code code string code match link java util hash set hashset to string tostring param expected notes expectednotes code string code expect link notes match param msg message fail check and clear checkandclear string expected notes expectednotes string msg check equal checkequal notes expected notes expectednotes msg clear notes clearnotes reports error code message code code test code param test determines call link check failed checkfailed param message message pass link check failed checkfailed code test code check test string message test check failed checkfailed message checks values code code code expected value expectedvalue code equal calls link check failed checkfailed code message code arrays equal param test param expected value expectedvalue test param message message fail check equal checkequal object object expected value expectedvalue string message expected value expectedvalue check failed checkfailed message array length expected value expectedvalue length check failed checkfailed message expected array length expected value expectedvalue length equals expected value expectedvalue check failed checkfailed message expected value expectedvalue fails code code param param check not equal checknotequal check not equal checknotequal shouldn equal fails message code msg code code code param param param msg failure message check not equal checknotequal string msg check failed checkfailed msg fails code code param param check not equal checknotequal check not equal checknotequal shouldn equal fails message code msg code code code param param param msg failure message check not equal checknotequal string msg check failed checkfailed msg fails code code param param check not equal checknotequal check not equal checknotequal shouldn equal fails message code msg code code code param param param msg failure message check not equal checknotequal string msg check failed checkfailed msg fails code code param param check not equal checknotequal check not equal checknotequal shouldn equal fails message code msg code code code param param param msg failure message check not equal checknotequal string msg check failed checkfailed msg fails code code param param check not equal checknotequal check not equal checknotequal shouldn equal fails message code msg code code code param param param msg failure message check not equal checknotequal string msg check failed checkfailed msg fails code code param param check not equal checknotequal check not equal checknotequal shouldn equal fails message code msg code code code param param param msg failure message check not equal checknotequal string msg check failed checkfailed msg fails code code param param check not equal checknotequal check not equal checknotequal shouldn equal fails message code msg code code code param param param msg failure message check not equal checknotequal string msg check failed checkfailed msg fails code code param param check not equal checknotequal check not equal checknotequal shouldn equal fails message code msg code code code param param param msg failure message check not equal checknotequal string msg check failed checkfailed msg fails code code param param check not equal checknotequal object object check not equal checknotequal shouldn equal fails message code msg code code code code code code code code code param param param msg failure message check not equal checknotequal object object string msg equals equals check failed checkfailed msg compares code code code expected value expectedvalue code failing message code compare code param unkown param expected value expectedvalue expected check equal checkequal string check equal checkequal expected value expectedvalue check equal checkequal expected value expectedvalue compare fails passed code code param expected param code code check non null checknonnull object string check failed checkfailed shouldn compared code code code expected value expectedvalue code fails code message code equal param unkown param expected value expectedvalue expected param msg message fail check equal checkequal expected value expectedvalue string message expected value expectedvalue expected value expectedvalue message message expected value expectedvalue message message expected value expectedvalue check failed checkfailed message compares code code code expected value expectedvalue code failing message code compare code param unkown param expected value expectedvalue expected check equal checkequal string check equal checkequal expected value expectedvalue check equal checkequal expected value expectedvalue compare compared code code code expected value expectedvalue code fails code message code equal param unkown param expected value expectedvalue expected param msg message fail check equal checkequal expected value expectedvalue string msg is na n isnan is na n isnan expected value expectedvalue expected value expectedvalue expected value expectedvalue msg msg expected value expectedvalue msg msg expected value expectedvalue check failed checkfailed msg compares code code code expected value expectedvalue code failing message code compare code param unkown param expected value expectedvalue expected check equal checkequal string check equal checkequal expected value expectedvalue check equal checkequal expected value expectedvalue compare compared code code code expected value expectedvalue code fails code message code equal param unkown param expected value expectedvalue expected param msg message fail check equal checkequal expected value expectedvalue string msg expected value expectedvalue expected value expectedvalue msg msg expected value expectedvalue msg msg expected value expectedvalue check failed checkfailed msg compares code code code expected value expectedvalue code failing message code compare code param unkown param expected value expectedvalue expected check equal checkequal string check equal checkequal expected value expectedvalue check equal checkequal expected value expectedvalue compare compared code code code expected value expectedvalue code fails code message code equal param unkown param expected value expectedvalue expected param msg message fail check equal checkequal expected value expectedvalue string msg is na n isnan is na n isnan expected value expectedvalue expected value expectedvalue expected value expectedvalue msg msg expected value expectedvalue msg msg expected value expectedvalue check failed checkfailed msg compares code code code expected value expectedvalue code failing message code compare code param unkown param expected value expectedvalue expected check equal checkequal string check equal checkequal expected value expectedvalue check equal checkequal expected value expectedvalue compare compared code code code expected value expectedvalue code fails code message code equal param unkown param expected value expectedvalue expected param msg message fail check equal checkequal expected value expectedvalue string msg expected value expectedvalue expected value expectedvalue msg msg expected value expectedvalue msg msg expected value expectedvalue check failed checkfailed msg compares code code code expected value expectedvalue code failing message code compare code param unkown param expected value expectedvalue expected check equal checkequal string check equal checkequal expected value expectedvalue check equal checkequal expected value expectedvalue compare compares code code code expected value expectedvalue code failing message code msg code param unkown param expected value expectedvalue expected param msg message fail check equal checkequal expected value expectedvalue string msg expected value expectedvalue expected value expectedvalue msg msg expected value expectedvalue msg msg expected value expectedvalue check failed checkfailed msg compares code code code expected value expectedvalue code failing message code compare code param unkown param expected value expectedvalue expected check equal checkequal string check equal checkequal expected value expectedvalue check equal checkequal expected value expectedvalue compare compares code code code expected value expectedvalue code failing message code msg code param unkown param expected value expectedvalue expected param msg message fail check equal checkequal expected value expectedvalue string msg expected value expectedvalue expected value expectedvalue msg msg expected value expectedvalue msg msg expected value expectedvalue check failed checkfailed msg compares code code code expected value expectedvalue code failing message code compare code param unkown param expected value expectedvalue expected check equal checkequal string check equal checkequal expected value expectedvalue check equal checkequal expected value expectedvalue compare compares code code code expected value expectedvalue code failing message code msg code param unkown param expected value expectedvalue expected param msg message fail check equal checkequal expected value expectedvalue string msg expected value expectedvalue msg msg expected value expectedvalue check failed checkfailed msg checks entries code code equal code equals code string code expected set expectedset code fails message code msg code param unkown values param expected set expectedset expected code string code values param msg message fail check equal checkequal collection string expected set expectedset string msg check equal checkequal lang util langutil split expected set expectedset msg checks entries code code equal code equals code entry code expected set expectedset code fails message code msg code duplicate actual entries issues fail messages failure aborting failure reported param unkown values param expected set expectedset expected code string code values param msg message fail check equal ignore dups checkequalignoredups collection string expected string msg ignore dups ignoredups string diffs diff ignore dups diffignoredups expected msg ignore dups ignoredups diffs length check arrays as list aslist diffs diffs length check diffs string differences expected msg string diff ignore dups diffignoredups collection string expected string msg ignore dups ignoredups array list arraylist result array list arraylist array list arraylist actual array list arraylist bit set bitset hits bit set bitset expected length actual remove expected result add expected msg expected hits ignore dups ignoredups remove instances actual remove expected iterator iter actual iterator iter has next hasnext string string iter result add unexpected msg string result to array toarray string checks entries code code equal code equals code entry code expected set expectedset code fails message code msg code param unkown values param expected set expectedset expected code string code values param msg message fail check equal checkequal collection string expected string msg check equal ignore dups checkequalignoredups expected msg compares code code code expected value expectedvalue code failing message code compare code param unkown param expected value expectedvalue expected check equal checkequal object object string check equal checkequal object object expected value expectedvalue check equal checkequal expected value expectedvalue compare checks entries code code equal code equals code string code expected set expectedset code fails message code msg code param unkown values param expected set expectedset expected code string code values param msg message fail check equal checkequal object object expected value expectedvalue string msg expected value expectedvalue equals expected value expectedvalue msg msg equals expected value expectedvalue check failed checkfailed msg checks entries code code equal code equals code string code expected set expectedset code fails message code msg code param unkown values param expected set expectedset expected code string code values param msg message fail check eq checkeq object object expected value expectedvalue string msg expected value expectedvalue msg msg expected value expectedvalue check failed checkfailed msg add expected events expect event expectevent string expected events expectedevents add add expected events expect event expectevent object expect event expectevent to string tostring add expected events parse string expect messages code code separated code code param string containg delimited expected messages expect events in string expecteventsinstring string string tokenizer stringtokenizer tok string tokenizer stringtokenizer tok has more tokens hasmoretokens expect event expectevent tok next token nexttoken expect events in string expecteventsinstring string expect events expectevents object add expected events expect events expectevents object events events events length events expect event expectevent events to string tostring add expected events expect events expectevents string events events events length events expect event expectevent events to string tostring check actual expected members check all events checkallevents check and clear events checkandclearevents string expected events expectedevents to array toarray string ignore duplicate actual entries expected check all events ignore dups checkalleventsignoredups ignore dups ignoredups string exp string expected events expectedevents to array toarray string check equal ignore dups checkequalignoredups actual events actualevents exp event ignore dups ignoredups clear events clearevents check events file delimited match signalls single error event match event file equivalence link check equal lists checkequallists blank lines lines start check events from file checkeventsfromfile string events file eventsfile xxx bug reads current expected checks separate read check xxx test driver testdriver file file file get basedir getbasedir events file eventsfile buffered reader bufferedreader buffered reader bufferedreader file reader filereader file file parent dir parentdir file file get parent file getparentfile string list exp events expevents array list arraylist read line readline trim length starts with startswith exp events expevents add check equal lists checkequallists actual events actualevents exp events expevents events file eventsfile ioexception ioe throwable ioe check lists strings order trimmable whitespace param actual list check param expected list param message context string error message test fails check equal lists checkequallists list string actual list expected string message iterator actual iterator iterator expected iterator has next hasnext has next hasnext check failed checkfailed unexpected message string string trim string string trim equals check failed checkfailed expected message has next hasnext check failed checkfailed expected message check events exp events expevents space delimited check events checkevents string exp events expevents check equal checkequal actual events actualevents exp events expevents event check events exp events expevents array check events checkevents string exp events expevents check equal checkequal actual events actualevents exp events expevents event check events clear check check and clear events checkandclearevents string exp events expevents check events checkevents exp events expevents clear events clearevents check events clear check check and clear events checkandclearevents string exp events expevents check events checkevents exp events expevents clear events clearevents xxx deprecated print events printevents xxx clients iterator actual events actualevents iterator has next hasnext xxx system system println report uncaught exeption error param thrown code throwable code print max stack trace maxstacktrace unexpected exception failure unexpectedexceptionfailure throwable thrown handle unexpected exception failure unexpectedexceptionfailure thrown handle message delegation message handler imessage fail fail thrown imessage info handle string message throwable thrown fail failed fail thrown imessage kind kind failed imessage fail imessage info imessage message message kind thrown handled message handler messagehandler handle message handlemessage resofhandle string message throwable thrown fail fail message handler returns preserves abort semantics throwing abort exception failed handled string tester expecting handler complete abruptly passed fail message imessage debug message handler messagehandler handle message handlemessage abort exception abortexception borrow porter borrowporter