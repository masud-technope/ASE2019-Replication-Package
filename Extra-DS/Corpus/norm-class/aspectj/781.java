copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation org aspectj tools ajc java file java file output stream fileoutputstream java ioexception java print stream printstream java util arrays java util list java util org aspectj bridge abort exception abortexception org aspectj bridge icommand org aspectj bridge imessage org aspectj bridge imessage handler imessagehandler org aspectj bridge imessage holder imessageholder org aspectj bridge isource location isourcelocation org aspectj bridge message org aspectj bridge message handler messagehandler org aspectj bridge message util messageutil org aspectj bridge reflection factory reflectionfactory org aspectj bridge version org aspectj bridge context compilation and weaving context compilationandweavingcontext org aspectj util file util fileutil org aspectj util lang util langutil org aspectj weaver dump programmatic command aspect j aspectj compiler compiler icommand reflection thread safe messages printed emitted info messages output stream warnings errors error stream clients handle messages registering holder pre main main main imessage holder imessageholder holder message handler messagehandler main set holder setholder holder pre clients control command completes installing runnable pre main set completion runner setcompletionrunner runnable pre main header rendering exceptions users string thrown prefix exception thrown aspect j aspectj version text lang util langutil eol lang util langutil eol logged bug find current bugs lang util langutil eol http bugs eclipse org bugs buglist cgi product aspect j aspectj component compiler lang util langutil eol lang util langutil eol bugs exceptions thrown titles file top stack lang util langutil eol some file somefile java lang util langutil eol lang util langutil eol don find exception bug add bug lang util langutil eol http bugs eclipse org bugs enter bug cgi product aspect j aspectj lang util langutil eol bug priority include test program lang util langutil eol reproduce exception lang util langutil eol string memory msg aspect j aspectj version text memory compilation lang util langutil eol lang util langutil eol increase memory ajc editing ajc script lang util langutil eol aspect j aspectj installation directory xmx parameter lang util langutil eol increased lang util langutil eol lang util langutil eol aspect j aspectj faq documentation link lang util langutil eol aspect j aspectj http eclipse org aspectj string message holder option message holder messageholder param args string command arguments main string args ioexception main run main runmain args convenience method ajc collect string lists messages reflectively invoked list collecting parameters supplied parent loader string messages form command messages param args string args pass compiler param use system exit usesystemexit errors system exit errs param fails list sink string failure worse messages param errors list sink string error messages param warnings list sink string warning messages param info list sink string info messages number messages reported level error unchecked exceptions compiler bare main baremain string args use system exit usesystemexit list fails list errors list warnings list infos main main main message handler messagehandler holder message handler messagehandler main set holder setholder holder main run main runmain args use system exit usesystemexit read messages readmessages holder imessage fail fails read messages readmessages holder imessage error errors read messages readmessages holder imessage warning warnings read messages readmessages holder imessage info infos holder num messages nummessages imessage error read messages kind list string read messages readmessages imessage holder imessageholder holder imessage kind kind or greater orgreater list sink sink holder imessage messages holder get messages getmessages kind or greater orgreater lang util langutil is empty isempty messages messages length sink add message printer messageprinter render messages string rendering throwable compiler error user console including report bug null pointer exception nullpointerexception thrown string render exception for user renderexceptionforuser throwable thrown string thrown get message getmessage thrown prefix compilation and weaving context compilationandweavingcontext get current context getcurrentcontext lang util langutil render exception renderexception thrown string parm in args parminargs string flag string args loc args arrays as list aslist args index of indexof flag loc args length loc args loc flag in args flaginargs string flag string args args arrays as list aslist args index of indexof flag append num items numitems num items numitems label num items numitems prefixing sink content append nlabel appendnlabel string buffer stringbuffer sink string label num items numitems num items numitems sink length sink append sink append num items numitems lang util langutil is empty isempty label sink append label num items numitems sink append control iteration continuation command compiler command controller commandcontroller controller reflection factory reflectionfactory identifier command compiler string command name commandname client message sink imessage holder imessageholder client holder clientholder internally message sink message handler messagehandler our handler ourhandler last fails lastfails last errors lasterrors synchronously compile completes runnable completion runner completionrunner main controller command controller commandcontroller command name commandname reflection factory reflectionfactory eclipse our handler ourhandler message handler messagehandler message handler messagehandler get message handler getmessagehandler our handler ourhandler unit testing set controller setcontroller command controller commandcontroller controller controller controller throwing exceptions optionally system exit sets message handler emits messages report imessage handler imessagehandler reports total number errors warnings param args string command compiler param use system exit usesystemexit system exit complete args no exit noexit signal result exceptions error exceptions compiler errors run main runmain string args use system exit usesystemexit verbose flag in args flaginargs verbose args client holder clientholder client holder clientholder check for custom message holder checkforcustommessageholder args imessage holder imessageholder holder client holder clientholder holder holder our handler ourhandler verbose our handler ourhandler set interceptor setinterceptor message printer messageprinter verbose our handler ourhandler ignore imessage info our handler ourhandler set interceptor setinterceptor message printer messageprinter terse handle memory gracefully testing oo me oome args holder out of memory error outofmemoryerror out of memory outofmemory imessage out of memory message outofmemorymessage message memory msg holder handle message handlemessage out of memory message outofmemorymessage system exit systemexit holder compilation and weaving context compilationandweavingcontext reset dump reset skip exit skipexit use system exit usesystemexit lang util langutil is empty isempty args sigh pluck no exit noexit args length no exit noexit equals args skip exit skipexit use system exit usesystemexit skip exit skipexit system exit systemexit holder calls call allowing connecting jconsole pause system err println pausing system thread sleep system system err println continuing exception param args imessage holder imessageholder check for custom message holder checkforcustommessageholder string args imessage holder imessageholder holder string custom message holder custommessageholder parm in args parminargs message holder option args custom message holder custommessageholder holder imessage holder imessageholder for name forname custom message holder custommessageholder new instance newinstance exception holder our handler ourhandler abort exception abortexception failed create custom message holder custom message holder custommessageholder holder system exit putting messages holder error compiler error warning compiler warning fail command error bad arguments exception thrown handles incremental behavior args include incremental repeat input entered args include incremental tag file incrementaltagfile file repeat time detect file modification time changed list files recompiled time args includes verbose exit commmand compiler throwable complete messages command fail messages produced running command including throwable thrown command param args string command compiler param holder message handler messagehandler sink messages string args imessage holder imessageholder holder print stream printstream log stream logstream file output stream fileoutputstream fos string log file name logfilename parm in args parminargs log args log file name logfilename file log file logfile file log file name logfilename log file logfile create new file createnewfile fos file output stream fileoutputstream log file name logfilename log stream logstream print stream printstream fos exception fail holder couldn open log file log file name logfilename log stream logstream println to string tostring flag in args flaginargs verbose args our handler ourhandler set interceptor setinterceptor log mode message printer logmodemessageprinter log stream logstream our handler ourhandler ignore imessage info our handler ourhandler set interceptor setinterceptor log mode message printer logmodemessageprinter log stream logstream holder our handler ourhandler lang util langutil is empty isempty args args string controller running fail holder running controller controller args controller init args holder holder num messages nummessages imessage error icommand command reflection factory reflectionfactory make command makecommand command name commandname holder holder num messages nummessages imessage error passed command run command runcommand args holder report passed holder controller incremental controller do repeat command dorepeatcommand command holder clear messages clearmessages controller build fresh buildfresh passed command repeat command repeatcommand holder report passed holder abort exception abortexception is silent issilent quit imessage message get imessage getimessage throwable thrown get thrown getthrown thrown message holder handle message handlemessage message fail holder abort message message fail holder aborted thrown string mssg message util messageutil message render to string rendertostring message fail holder mssg thrown throwable fail holder unexpected exception log stream logstream log stream logstream close log stream logstream fos fos close ioexception fail holder unexpected exception fos call iteration incremental compile quit controller quit holder passed messages holder messages printed param holder imessage holder imessageholder sink messages restore behavior set holder setholder imessage holder imessageholder holder client holder clientholder holder imessage holder imessageholder get holder getholder client holder clientholder install runnable invoked synchronously compile completes param runner runnable invoke disable set completion runner setcompletionrunner runnable runner completion runner completionrunner runner call system exit values derived number failures aborts errors messages param messages imessage holder imessageholder interrogate param messages system exit systemexit imessage holder imessageholder messages messages num messages nummessages imessage fail num last fails lastfails num system exit num messages num messages nummessages imessage error num last errors lasterrors num system exit num system exit messages user out message outmessage string message xxx coordinate message printer messageprinter system print message system flush report incremental compile delegates report handler reporthandler prints summary counts errors warnings system err errors system warnings warning silently ignores messages fail clears handler messages returning xxx implementation ignores pass parameter clears holder reporting assumption messages handled printed ignoring unsupported operation exception unsupportedoperationexception holder clear messages clearmessages param pass result command param holder imessage holder imessageholder messages command report command results reportcommandresults imessage holder imessageholder process abort report pass imessage holder imessageholder holder last fails lastfails holder num messages nummessages imessage fail result last fails lastfails runnable runner completion runner completionrunner runner runner holder our handler ourhandler last errors lasterrors holder num messages nummessages imessage error warnings holder num messages nummessages imessage warning string buffer stringbuffer string buffer stringbuffer append nlabel appendnlabel fail abort last fails lastfails append nlabel appendnlabel error last errors lasterrors append nlabel appendnlabel warning warnings length print stream printstream last errors lasterrors last fails lastfails system err system xxx wrote file messages eol println println to string tostring result convenience api fail messages message utils messageutils fail prefix fail imessage handler imessagehandler handler string message throwable thrown handler handle message handlemessage message message imessage fail thrown interceptor imessage handler imessagehandler print formats messages user message printer messageprinter imessage handler imessagehandler imessage handler imessagehandler verbose message printer messageprinter imessage handler imessagehandler terse message printer messageprinter verbose message printer messageprinter verbose verbose verbose print errors warnings system err optionally info system rendering message string handle message handlemessage imessage message message print stream printstream get stream for getstreamfor message get kind getkind println render message render message differently abort prefix stack trace feedback request actual message empty to string tostring prefix message file context suffix message context param message imessage render string rendering imessage string render imessage message imessage kind kind message get kind getkind string buffer stringbuffer string buffer stringbuffer string text message get message getmessage text equals abort exception abortexception message text text to string tostring lang util langutil is empty isempty text to string tostring text message to string tostring isource location isourcelocation loc message get source location getsourcelocation string context loc file file loc get source file getsourcefile file string file get name getname to string tostring text index of indexof append file util fileutil get best path getbestpath file loc get line getline append loc get line getline col loc get column getcolumn col append col append context loc get context getcontext wes suggestion dev message get kind getkind imessage error append error message get kind getkind imessage warning append warning append text context append lang util langutil eol append context string details message get details getdetails details append lang util langutil eol append append details throwable thrown message get thrown getthrown thrown append lang util langutil eol append main render exception for user renderexceptionforuser thrown message get extra source locations getextrasourcelocations is empty isempty to string tostring message util messageutil add extra source locations addextrasourcelocations message to string tostring is ignoring isignoring imessage kind kind get stream for getstreamfor kind org aspectj bridge imessage handler imessagehandler is ignoring isignoring org aspectj bridge imessage kind param kind dont ignore dontignore imessage kind kind system err fail abort error warning system info verbose weaveinfo show weave info showweaveinfo print stream printstream get stream for getstreamfor imessage kind kind imessage warning is same or less than issameorlessthan kind system err verbose imessage info equals kind system imessage weaveinfo equals kind system log mode message printer logmodemessageprinter message printer messageprinter print stream printstream log stream logstream log mode message printer logmodemessageprinter verbose print stream printstream log stream logstream verbose log stream logstream log stream logstream print stream printstream get stream for getstreamfor imessage kind kind imessage warning is same or less than issameorlessthan kind log stream logstream verbose imessage info equals kind log stream logstream imessage weaveinfo equals kind log stream logstream controller repeatable command delays input file changed removed command controller commandcontroller string tag file option xincremental file xincrementalfile string incremental option incremental maximum minute delay filesystem checks max delay delay filesystem checks delay init string string options string string incremental option string tag file option init string do repeat command dorepeatcommand returns running quit called quit incremental mode waiting input incremental incremental mode waiting file change repeat disappear quit file tag file tagfile modification time tag file tagfile command start file mod time filemodtime delay filesystem checks tag file tagfile modification time delay user types rebuild build fresh buildfresh command controller commandcontroller delay delay param arg list arglist read strip incremental args param sink imessage handler imessagehandler error messages string remainder args string init string args imessage handler imessagehandler sink running string unused lang util langutil is empty isempty args string options lang util langutil copy strings copystrings options unused lang util langutil extract options extractoptions args options incremental options options file file file options file exists message util messageutil abort sink tag file exist file tag file tagfile file file mod time filemodtime tag file tagfile last modified lastmodified args init string called do repeat command dorepeatcommand returned running running param delay milliseconds filesystem checks set delay setdelay delay delay delay max delay delay delay incremental option tag file option args incremental incremental tag file tagfile incremental option args command line incremental commandlineincremental incremental quit quit quit user typed build fresh buildfresh build fresh buildfresh quit command do repeat command dorepeatcommand icommand command running result quit result incremental build fresh buildfresh reset input request build fresh buildfresh system println press enter recompile rebuild quit system flush seek series input system read input result input build fresh buildfresh result input input result eat result system skip integer max ioexception xxx silence error result tag file tagfile cur mod time curmodtime tag file tagfile exists result file mod time filemodtime cur mod time curmodtime tag file tagfile last modified lastmodified file check delay filecheckdelay file mod time filemodtime cur mod time curmodtime result incremental result running running result delay filesystem checks returning quit file check delay filecheckdelay thread thread thread current thread currentthread target time targettime system current time millis currenttimemillis delay cur time curtime target time targettime system current time millis currenttimemillis quit delta quit check thread sleep interrupted exception interruptedexception