copyright xerox corporation palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation org aspectj testing compare java util tree pairwise traversal comparison purposes implement tree delegation traversal method comparing trees guarantees initialization node comparator nodecomparator node children assignable child class childclass initialization list obeys generic tree node generictreenode contract equals error initialization completes generic tree node generictreenode comparable underlying node object node node children type safe list children node parent tree root generic tree node generictreenode parent compare underlying node comparator node comparator nodecomparator verify children child class childclass track initialized ready cache heavy to string tostring string to string cache tostringcache singleton visitor match trees stopping failure generic tree nodes visitor i generictreenodesvisitori exact match exact matchexact singleton visitor print matching nodes system err generic tree nodes visitor i generictreenodesvisitori printerr print non matches printnonmatches singleton visitor print nodes system err generic tree nodes visitor i generictreenodesvisitori printall print all pairs printallpairs singleton comparator comparator comparator gtn comparator gtncomparator visit trees order visit parents recursively visit children children visited order determined ordering factory invoked produce ordered pair children lists visiting children visited paired list children smaller remainder visited complements parents visit children parent parent visits visitor returns visitor decide visiting nodes parent children encountered tree visited objection visitor simple determine trees strictly equal visitor returned visit error children generic tree node generictreenode illegal argument exception illegalargumentexception visitor parents traverse generic tree node generictreenode lhs parent lhsparent generic tree node generictreenode rhs parent rhsparent generic tree node list orderer factory i generictreenodelistordererfactoryi children prep factory childrenprepfactory generic tree nodes visitor i generictreenodesvisitori visitor visitor illegal argument exception illegalargumentexception visitor lhs parent lhsparent rhs parent rhsparent illegal argument exception illegalargumentexception parents visitor visit lhs parent lhsparent rhs parent rhsparent list lhs list lhslist lhs parent lhsparent lhs parent lhsparent get children getchildren list rhs list rhslist rhs parent rhsparent rhs parent rhsparent get children getchildren children prep factory childrenprepfactory generic tree node list orderer i generictreenodelistordereri factory children prep factory childrenprepfactory produce lhs parent lhsparent rhs parent rhsparent visitor factory list prep kids prepkids factory produce lists producelists lhs list lhslist rhs list rhslist prep kids prepkids lhs list lhslist prep kids prepkids rhs list rhslist prep kids prepkids list iterator listiterator lhs iterator lhsiterator lhs list lhslist lhs list lhslist list iterator listiterator list iterator listiterator rhs iterator rhsiterator rhs list rhslist rhs list rhslist list iterator listiterator object lhs object rhs lhs rhs child pair lhs iterator lhsiterator lhs iterator lhsiterator has next hasnext lhs lhs iterator lhsiterator rhs iterator rhsiterator rhs iterator rhsiterator has next hasnext rhs rhs iterator rhsiterator rhs lhs lhs lhs generic tree node generictreenode error generic tree node generictreenode expected lhs lhs rhs rhs generic tree node generictreenode error generic tree node generictreenode expected rhs rhs traverse child pair traverse generic tree node generictreenode lhs generic tree node generictreenode rhs children prep factory childrenprepfactory visitor statements constructors generic tree node generictreenode ready init generic tree node generictreenode parent comparator node comparator nodecomparator object node list children child class childclass weak sync ready ready node illegal argument exception illegalargumentexception node node comparator nodecomparator illegal argument exception illegalargumentexception node comparator nodecomparator node comparator nodecomparator node comparator nodecomparator node node children children parent parent child class childclass list iterator listiterator iter children list iterator listiterator iter has next hasnext object kid iter child class childclass is assignable from isassignablefrom kid get class getclass string err child kid child class childclass illegal argument exception illegalargumentexception err child class childclass child class childclass ready object ambiguous equal input input generic tree node generictreenode underlying nodes equal underlying nodes equal comparators compare param input object compare equals input equals object input input input generic tree node generictreenode generic tree node generictreenode generic tree node generictreenode input node equals get node getnode assumes nodes unique flyweights comparator in comp incomp get node comparator getnodecomparator node comparator nodecomparator in comp incomp node comparator nodecomparator in comp incomp node comparator nodecomparator equals in comp incomp node comparator nodecomparator compare delegate underlying node object hashcode underlying node object hash code hashcode todo correct delegate node node hash code hashcode to string tostring delegates long string longstring string to string tostring to string cache tostringcache to string cache tostringcache long string longstring to string cache tostringcache rendition delegates this string thisstring prefixing tab parent string short string shortstring string buffer stringbuffer string buffer stringbuffer add tab parent generic tree node generictreenode par parent par append par par get parent getparent append this string thisstring to string tostring rendition delegates parent string parentstring this string thisstring child string childstring pre generic tree node generictreenode parent parent string parentstring children size node this string thisstring pre string long string longstring string buffer stringbuffer string buffer stringbuffer append generic tree node generictreenode append parent append parent string parentstring append children children append append children size append node append this string thisstring append to string tostring render root parent string this string thisstring node to string tostring render parent hierarchy root parent string parent string parentstring parent vector parents vector generic tree node generictreenode par parent parents add element addelement par par par get parent getparent par size parents size string buffer stringbuffer string buffer stringbuffer size par generic tree node generictreenode parents remove size append append par to string tostring par size generic tree node generictreenode parents remove size par append par append to string tostring parent string parentstring comparable comparable delegates comparator code compare rhs code param rhs object compare class cast exception classcastexception generic tree node generictreenode equal greater rhs compare to compareto object rhs comparator compare rhs generic tree node generictreenode actual underlying node object get node getnode assert ready assertready node actual underlying node generic tree node generictreenode get parent getparent assert ready assertready parent list children list get children getchildren assert ready assertready children comparator comparing node children comparator get node comparator getnodecomparator assert ready assertready node comparator nodecomparator children assigned get child class getchildclass assert ready assertready child class childclass misc assert ready assertready ready error ready relies generic tree node generictreenode implementation equals delegates underlying node equals comparator match exact matchexact generic tree nodes visitor i generictreenodesvisitori visit generic tree node generictreenode lhs generic tree node generictreenode rhs lhs rhs lhs equals rhs prints matching pairs system err returning print non matches printnonmatches generic tree nodes visitor i generictreenodesvisitori visit generic tree node generictreenode lhs generic tree node generictreenode rhs lhs rhs lhs equals rhs system err println lhs lhs rhs rhs prints pairs system err returning print all pairs printallpairs generic tree nodes visitor i generictreenodesvisitori visit generic tree node generictreenode lhs generic tree node generictreenode rhs system err println lhs lhs rhs rhs separate distinguish gtn equals gtn comparator gtncomparator equals gtn comparator gtncomparator comparator equals object gtn comparator gtncomparator hash code hashcode gtn comparator gtncomparator hash code hashcode comparator shallow compare generic tree nodes generictreenodes component translates component comparators equal code comparator equals comparator code underlying nodes equal code comparator compare object lhs object rhs code comparators equal arbitrary ordering node to string tostring compare to compareto underlying objects children nodes equal children param lhs object compare left param rhs object compare class cast exception classcastexception generic tree node generictreenode compare object lhs object rhs result compare util compareutil compare lhs rhs integer max result generic tree node generictreenode lhs node lhsnode generic tree node generictreenode lhs generic tree node generictreenode rhs node rhsnode generic tree node generictreenode rhs object lh object lhobject lhs node lhsnode get node getnode object rh object rhobject rhs node rhsnode get node getnode result compare util compareutil compare lh object lhobject rh object rhobject integer max result comparator lh comp lhcomp lhs node lhsnode get node comparator getnodecomparator comparator rh comp rhcomp rhs node rhsnode get node comparator getnodecomparator result compare util compareutil compare lh comp lhcomp rh comp rhcomp integer max result result lh comp lhcomp tricky comparators equal todo unable determine standard ordering impose consistent arbitrary ordering underlying objects system err println result result lh comp lhcomp lh comp lhcomp result lh object lhobject to string tostring compare to compareto rh object rhobject to string tostring result comparator result lh comp lhcomp compare lhs node lhsnode get node getnode rhs node rhsnode get node getnode string err program error result result lh comp lhcomp lh comp lhcomp rh comp rhcomp rh comp rhcomp error err result compare generic tree node generictreenode