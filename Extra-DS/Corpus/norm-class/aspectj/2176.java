copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation org aspectj ajdt internal compiler ast java lang reflect modifier org aspectj ajdt internal compiler lookup eclipse factory eclipsefactory org aspectj ajdt internal compiler lookup eclipse type munger eclipsetypemunger org aspectj ajdt internal compiler problem aj problem reporter ajproblemreporter org aspectj org eclipse jdt internal compiler class file classfile org aspectj org eclipse jdt internal compiler compilation result compilationresult org aspectj org eclipse jdt internal compiler ast compilation unit declaration compilationunitdeclaration org aspectj org eclipse jdt internal compiler ast type reference typereference org aspectj org eclipse jdt internal compiler codegen code stream codestream org aspectj org eclipse jdt internal compiler flow flow info flowinfo org aspectj org eclipse jdt internal compiler flow initialization flow context initializationflowcontext org aspectj org eclipse jdt internal compiler lookup class scope classscope org aspectj org eclipse jdt internal compiler lookup method binding methodbinding org aspectj org eclipse jdt internal compiler lookup reference binding referencebinding org aspectj org eclipse jdt internal compiler lookup source type binding sourcetypebinding org aspectj org eclipse jdt internal compiler lookup tag bits tagbits org aspectj org eclipse jdt internal compiler lookup type binding typebinding org aspectj org eclipse jdt internal compiler parser parser org aspectj org eclipse jdt internal compiler problem abort compilation unit abortcompilationunit org aspectj weaver aj attribute ajattribute org aspectj weaver ajc member maker ajcmembermaker org aspectj weaver constants org aspectj weaver name mangler namemangler org aspectj weaver new method type munger newmethodtypemunger org aspectj weaver resolved member resolvedmember org aspectj weaver resolved type resolvedtype org aspectj weaver shadow org aspectj weaver unresolved type unresolvedtype inter type method declaration author jim hugunin inter type method declaration intertypemethoddeclaration inter type declaration intertypedeclaration inter type method declaration intertypemethoddeclaration compilation result compilationresult result type reference typereference on type ontype result on type ontype parse statements parsestatements parser parser compilation unit declaration compilationunitdeclaration unit ignore further investigation ignorefurtherinvestigation modifier is abstract isabstract declared modifiers declaredmodifiers parser parse unit get prefix getprefix name mangler namemangler prefix inter method intermethod to char array tochararray is final isfinal declared modifiers declaredmodifiers acc final accfinal analyse code analysecode class scope classscope current scope currentscope initialization flow context initializationflowcontext flow context flowcontext flow info flowinfo flow info flowinfo modifier is abstract isabstract declared modifiers declaredmodifiers analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo resolve class scope classscope upper scope upperscope munger ignore further investigation ignorefurtherinvestigation ignore further investigation ignorefurtherinvestigation modifier is static isstatic declared modifiers declaredmodifiers arguments ast util astutil insert ast util astutil make final argument makefinalargument ajc to char array tochararray on type binding ontypebinding arguments binding parameters ast util astutil insert on type binding ontypebinding binding parameters resolve upper scope upperscope resolve statements resolvestatements check and set modifiers for method checkandsetmodifiersformethod modifiers acc semicolon body accsemicolonbody declared modifiers declaredmodifiers acc abstract accabstract scope problem reporter problemreporter method need body methodneedbody method body modifiers forbiden declared modifiers declaredmodifiers acc abstract accabstract scope problem reporter problemreporter method needing no body methodneedingnobody args munger get signature getsignature get return type getreturntype is raw type israwtype binding return type returntype is raw type israwtype eclipse factory eclipsefactory eclipse factory eclipsefactory from scope lookup environment fromscopelookupenvironment scope binding return type returntype make type binding maketypebinding munger get signature getsignature get return type getreturntype check override annotation based method declaration methoddeclaration resolve statements resolvestatements override processing check override checkoverride binding check override checkoverride scope compiler options compileroptions source level sourcelevel jdk check override checkoverride has override annotation hasoverrideannotation binding tag bits tagbits tag bits tagbits annotation override annotationoverride verify has override annotation hasoverrideannotation work real method binding comparison eclipse factory eclipsefactory eclipse factory eclipsefactory from scope lookup environment fromscopelookupenvironment scope method binding methodbinding realthing make method binding makemethodbinding munger get signature getsignature munger get type variable aliases gettypevariablealiases report error reporterror hierarchy override reference binding referencebinding supertype on type binding ontypebinding superclass supertype report error reporterror method binding methodbinding possibles supertype get methods getmethods declared selector declaredselector possibles length method binding methodbinding possibles could be match couldbematch parameters length realthing parameters length could be match couldbematch parameters length could be match couldbematch parameters equals realthing parameters could be match couldbematch types compatible covariance could be match couldbematch return type returntype resolved type resolvedtype is compatible with iscompatiblewith return type returntype could be match couldbematch could be match couldbematch report error reporterror superclass object supertype supertype superclass couldn find override report error report error reporterror aj problem reporter ajproblemreporter scope problem reporter problemreporter itd method must override itdmethodmustoverride realthing modifier is abstract isabstract declared modifiers declaredmodifiers resolve statements resolvestatements modifier is static isstatic declared modifiers declaredmodifiers check target on type binding ontypebinding is interface isinterface scope problem reporter problemreporter signal error signalerror source start sourcestart source end sourceend methods interfaces declared eclipse type munger eclipsetypemunger build class scope classscope class scope classscope eclipse factory eclipsefactory factory eclipse factory eclipsefactory from scope lookup environment fromscopelookupenvironment class scope classscope resolve on type resolveontype class scope classscope ignore further investigation ignorefurtherinvestigation binding class scope classscope reference context referencecontext binding resolve types for resolvetypesfor binding binding binding failed find type method params error reported ignore further investigation ignorefurtherinvestigation abort compilation unit abortcompilationunit compilation result compilationresult error message output is target annotation istargetannotation is target annotation istargetannotation class scope classscope method error message output is target enum istargetenum is target enum istargetenum class scope classscope method encountered problem building scope don error reported inter type scope intertypescope signature represents consumers targetted type factory method build typevariables binding referred parameters returntype resolved member resolvedmember sig factory make resolved member for itd makeresolvedmemberforitd binding on type binding ontypebinding inter type scope intertypescope get recovery aliases getrecoveryaliases sig reset name resetname string declared selector declaredselector reset modifiers resetmodifiers declared modifiers declaredmodifiers binding is varargs isvarargs reset modifiers resetmodifiers reset modifiers resetmodifiers constants acc varargs sig reset modifiers resetmodifiers reset modifiers resetmodifiers new method type munger newmethodtypemunger my munger mymunger new method type munger newmethodtypemunger sig type variable aliases typevariablealiases set munger setmunger my munger mymunger resolved type resolvedtype aspect type aspecttype factory from eclipse fromeclipse class scope classscope reference context referencecontext binding resolved member resolvedmember my munger mymunger get inter method body getintermethodbody aspect type aspecttype selector binding selector get name getname to char array tochararray eclipse type munger eclipsetypemunger factory my munger mymunger aspect type aspecttype aj attribute ajattribute make attribute makeattribute aj attribute ajattribute type munger typemunger munger generate code generatecode class scope classscope class scope classscope class file classfile class file classfile ignore further investigation ignorefurtherinvestigation system err println code class file classfile extra attributes extraattributes add eclipse attribute adapter eclipseattributeadapter make attribute makeattribute modifier is abstract isabstract declared modifiers declaredmodifiers inter method body intermethodbody generate code generatecode class scope classscope class file classfile annotations declaration method generate dispatch method generatedispatchmethod class scope classscope class file classfile generate dispatch method generatedispatchmethod class scope classscope class scope classscope class file classfile class file classfile eclipse factory eclipsefactory eclipse factory eclipsefactory from scope lookup environment fromscopelookupenvironment class scope classscope unresolved type unresolvedtype aspect type aspecttype from binding frombinding class scope classscope reference context referencecontext binding resolved member resolvedmember signature munger get signature getsignature resolved member resolvedmember dispatch member dispatchmember ajc member maker ajcmembermaker inter method dispatcher intermethoddispatcher signature aspect type aspecttype method binding methodbinding dispatch binding dispatchbinding make method binding makemethodbinding dispatch member dispatchmember munger get type variable aliases gettypevariablealiases munger get signature getsignature get declaring type getdeclaringtype method binding methodbinding introduced method introducedmethod make method binding makemethodbinding ajc member maker ajcmembermaker inter method intermethod signature aspect type aspecttype on type binding ontypebinding is interface isinterface munger get type variable aliases gettypevariablealiases class file classfile generate method info header generatemethodinfoheader dispatch binding dispatchbinding method attribute offset methodattributeoffset class file classfile contents offset contentsoffset watch passing binding dispatch binding dispatchbinding dispatch binding attributes include annotations binding chance binding clause damage attributes generated dispatch binding attribute number attributenumber class file classfile generate method info attribute generatemethodinfoattribute binding make effective signature attribute makeeffectivesignatureattribute signature shadow method call methodcall code attribute offset codeattributeoffset class file classfile contents offset contentsoffset class file classfile generate code attribute header generatecodeattributeheader code stream codestream code stream codestream class file classfile code stream codestream code stream codestream reset class file classfile code stream codestream initialize max locals initializemaxlocals dispatch binding dispatchbinding method binding methodbinding method binding methodbinding introduced method introducedmethod type binding typebinding parameters method binding methodbinding parameters length parameters length resolved position resolvedposition method binding methodbinding is static isstatic resolved position resolvedposition code stream codestream aload resolved position resolvedposition length code stream codestream load parameters resolved position resolvedposition parameters double binding doublebinding parameters long binding longbinding resolved position resolvedposition resolved position resolvedposition type binding typebinding type method binding methodbinding is static isstatic code stream codestream invokestatic method binding methodbinding method binding methodbinding declaring class declaringclass is interface isinterface code stream codestream invokeinterface method binding methodbinding code stream codestream invokevirtual method binding methodbinding ast util astutil generate return generatereturn dispatch binding dispatchbinding return type returntype code stream codestream class file classfile complete code attribute completecodeattribute code attribute offset codeattributeoffset attribute number attributenumber class file classfile complete method info completemethodinfo method attribute offset methodattributeoffset attribute number attributenumber shadow kind get shadow kind for body getshadowkindforbody shadow method execution methodexecution xxx code copied method scope methodscope adjustments itds check and set modifiers for method checkandsetmodifiersformethod reported problems user declared selector real selector realselector selector selector declared selector declaredselector reference binding referencebinding declaring class declaringclass binding declaring class declaringclass declared modifiers declaredmodifiers acc alternate modifier problem accalternatemodifierproblem scope problem reporter problemreporter duplicate modifier for method duplicatemodifierformethod on type binding ontypebinding point tests bits reserved real modifiers realmodifiers declared modifiers declaredmodifiers acc just flag accjustflag check abnormal modifiers unexpected modifiers unexpectedmodifiers acc public accpublic acc private accprivate acc protected accprotected acc abstract accabstract acc static accstatic acc final accfinal acc synchronized accsynchronized acc native accnative acc strictfp accstrictfp real modifiers realmodifiers unexpected modifiers unexpectedmodifiers scope problem reporter problemreporter illegal modifier for method illegalmodifierformethod declared modifiers declaredmodifiers acc just flag accjustflag unexpected modifiers unexpectedmodifiers check incompatible modifiers visibility bits isolate visibility bits accessor bits accessorbits real modifiers realmodifiers acc public accpublic acc protected accprotected acc private accprivate accessor bits accessorbits accessor bits accessorbits scope problem reporter problemreporter illegal visibility modifier combination for method illegalvisibilitymodifiercombinationformethod on type binding ontypebinding restrictive disable accessor bits accessorbits acc public accpublic accessor bits accessorbits acc protected accprotected declared modifiers declaredmodifiers acc protected accprotected accessor bits accessorbits acc private accprivate declared modifiers declaredmodifiers acc private accprivate accessor bits accessorbits acc protected accprotected accessor bits accessorbits acc private accprivate declared modifiers declaredmodifiers acc private accprivate check modifiers incompatible modifier declared modifiers declaredmodifiers acc abstract accabstract incompatible with abstract incompatiblewithabstract acc static accstatic acc final accfinal acc synchronized accsynchronized acc native accnative acc strictfp accstrictfp declared modifiers declaredmodifiers incompatible with abstract incompatiblewithabstract scope problem reporter problemreporter illegal abstract modifier combination for method illegalabstractmodifiercombinationformethod on type binding ontypebinding on type binding ontypebinding is abstract isabstract scope problem reporter problemreporter abstract method in abstract class abstractmethodinabstractclass source type binding sourcetypebinding on type binding ontypebinding methods tagged declared modifiers declaredmodifiers acc native accnative declared modifiers declaredmodifiers acc strictfp accstrictfp scope problem reporter problemreporter native methods cannot be strictfp nativemethodscannotbestrictfp on type binding ontypebinding members authorized member top level type real modifiers realmodifiers acc static accstatic declaring class declaringclass is nested type isnestedtype declaring class declaringclass is static isstatic scope problem reporter problemreporter unexpected static modifier for method unexpectedstaticmodifierformethod on type binding ontypebinding restore selector problems reported selector real selector realselector