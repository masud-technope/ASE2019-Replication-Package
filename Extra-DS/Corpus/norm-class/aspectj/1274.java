copyright contributors rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors wes isberg initial implementation org aspectj testing drivers java file java util arrays java util collections java util hash map hashmap java util map junit framework test junit framework test case testcase junit framework test result testresult junit framework test suite testsuite org aspectj ajdt internal core builder aj state ajstate org aspectj bridge imessage org aspectj bridge imessage holder imessageholder org aspectj bridge message handler messagehandler org aspectj bridge message util messageutil org aspectj testing harness bridge ajc test ajctest org aspectj testing harness bridge run spec iterator runspeciterator org aspectj testing harness bridge sandbox org aspectj testing harness bridge validator org aspectj testing irun iterator iruniterator org aspectj testing run status runstatus org aspectj testing runner adapt harness tests junit driver renders suite files test suite testsuite ajc test ajctest test case testcase aborts reported error fails failures messages stuffed junit exception message test options supported harness options test suite testsuite implementation prevents running tests eclipse junit test runner tests display hierarchically annotations messages tests traverse source test ajctests adapter ajctestsadapter test suite testsuite string verbose ajctests adapter ajctestsadapter get name getname verbose verbose harness junit util harnessjunitutil read boolean system property readbooleansystemproperty verbose factory populate suite options param suite path suitepath string path harness suite file ajctest junit suite ajctestjunitsuite populated tests ajctests adapter ajctestsadapter string suite path suitepath suite path suitepath factory populate suite param suite path suitepath string path harness suite file param options string options creating tests ajctest junit suite ajctestjunitsuite populated tests ajctests adapter ajctestsadapter string suite path suitepath string options ajctests adapter ajctestsadapter result ajctests adapter ajctestsadapter suite path suitepath options ajc test ajctest spec tests ajc test ajctest suite get tests gettests result get spec getspec verbose log loading tests length tests suite path suitepath tests length ajc test ajctest spec ajc test ajctest ajc test ajctest spec tests result add test addtest ajc test spec as test ajctestspecastest ajc test ajctest result result log string message system err println message system err flush string suite path suitepath string options ajc test ajctest suite spec spec runner runner validator validator imessage holder imessageholder holder sandbox sandbox file suite dir suitedir string ajctests adapter ajctestsadapter string suite path suitepath string options suite path suitepath suite path suitepath string opts string harness junit util harnessjunitutil is empty isempty options opts string options length system arraycopy options opts opts length options opts add test addtest test test test ajc test spec as test ajctestspecastest string expecting ajc test spec as test ajctestspecastest test test test get class getclass get name getname test illegal argument exception illegalargumentexception add test addtest test add test suite addtestsuite test class testclass error unimplemented string get name getname harness junit util harnessjunitutil clean test name cleantestname suite path suitepath arrays as list aslist options callback test suite wide holder caller responsible calling result start test starttest test result end test endtest test param test ajc test spec as test ajctestspecastest param result test result testresult result messages run test runtest ajc test spec as test ajctestspecastest test test result testresult result runner runner get runner getrunner sandbox sandbox get sandbox getsandbox validator validator get validator getvalidator num incomplete numincomplete run status runstatus status run status runstatus message handler messagehandler runner status set identifier setidentifier test to string tostring imessage holder imessageholder holder get holder getholder holder clear messages clearmessages irun iterator iruniterator steps test spec make run iterator makeruniterator sandbox validator holder num messages nummessages imessage error message util messageutil handle all handleall status holder imessage info runner run iterator runiterator steps status steps run spec iterator runspeciterator num incomplete numincomplete run spec iterator runspeciterator steps get num incomplete getnumincomplete report result reportresult handles test result testresult harness junit util harnessjunitutil report result reportresult status test num incomplete numincomplete validator delete temp files deletetempfiles file get suite dir getsuitedir suite dir suitedir file file file suite path suitepath file file get parent file getparentfile file file file suite dir suitedir file suite dir suitedir validator get validator getvalidator validator validator validator get holder getholder xxx lock keep temp keeptemp validator runner get runner getrunner runner runner runner runner imessage holder imessageholder get holder getholder holder holder message handler messagehandler holder ajc test ajctest suite spec get spec getspec spec imessage holder imessageholder holder get holder getholder spec harness junit util harnessjunitutil get suite spec getsuitespec suite path suitepath options get holder getholder verbose holder has any message hasanymessage message util messageutil print system err holder skip message util messageutil message holder clear messages clearmessages spec sandbox get sandbox getsandbox sandbox sandbox sandbox spec get suite dir file getsuitedirfile get validator getvalidator sandbox wrap ajc test ajctest spec lookup description author wes spec tests spectests hash map hashmap tests hash map hashmap put spec tests for putspectestsfor string spec tests spectests tests tests tests spec tests spectests get spec tests for getspectestsfor string spec tests spectests result spec tests spectests tests result error tests result string safe name safename string harness junit util harnessjunitutil clean test name cleantestname string filename string path path illegal argument exception illegalargumentexception path loc path last index of lastindexof file path separator pathseparator loc path path substring loc loc path last index of lastindexof loc path path substring loc loc path last index of lastindexof loc path path substring loc path string classname to path classnametopath string classname classname replace file separator char separatorchar ajctests adapter ajctestsadapter m ajctests adapter majctestsadapter map m description to ajc test spec mdescriptiontoajctestspec spec tests spectests ajctests adapter ajctestsadapter ajctests adapter ajctestsadapter ajc test ajctest spec tests m ajctests adapter majctestsadapter ajctests adapter ajctestsadapter map map hash map hashmap tests length map tests get description getdescription tests m description to ajc test spec mdescriptiontoajctestspec collections unmodifiable map unmodifiablemap map param description string description test illegal argument exception illegalargumentexception test name testname run test runtest string description ajc test ajctest spec spec get spec getspec description ajctests adapter ajctestsadapter ajc test spec as test ajctestspecastest ajc test as spec ajctestasspec ajctests adapter ajctestsadapter ajc test spec as test ajctestspecastest spec m ajctests adapter majctestsadapter run test runtest handles test result testresult m ajctests adapter majctestsadapter run test runtest ajc test as spec ajctestasspec param description string description test illegal argument exception illegalargumentexception test name testname ajc test ajctest spec get spec getspec string description ajc test ajctest spec spec ajc test ajctest spec m description to ajc test spec mdescriptiontoajctestspec description spec illegal argument exception illegalargumentexception test description spec make using test class makeusingtestclass create test case testcase test test test class testclass test case testcase test class testclass spec tests spectests m tests mtests called code generated make using test class makeusingtestclass param description string identifier test stored spec tests spectests m tests mtests error get tests for gettestsfor returns run test runtest string description m tests mtests string classname get class getclass get name getname m tests mtests get spec tests for getspectestsfor classname m tests mtests run test runtest description wrap ajc test ajctest spec test case testcase delegation suite ajc test spec as test ajctestspecastest test case testcase harness junit util harnessjunitutil ihas ajc spec ihasajcspec implement test ant batchtest fails pull string ajc test ajctest spec spec ajctests adapter ajctestsadapter suite ajc test spec as test ajctestspecastest ajc test ajctest spec spec ajctests adapter ajctestsadapter suite harness junit util harnessjunitutil clean test name cleantestname spec get description getdescription harness junit util harnessjunitutil clean test name cleantestname spec get description getdescription suite suite spec spec spec set suite dir setsuitedir suite get suite dir getsuitedir count test cases counttestcases ajc test ajctest spec get ajc test spec getajctestspec spec test result testresult result suite error init aj state ajstate force incremental testing result start test starttest suite run test runtest result result end test endtest suite aj state ajstate force incremental testing string get name getname string to string tostring