java buffered output stream bufferedoutputstream java file java file output stream fileoutputstream java ioexception author noel markham weave tests weavetests string output weave fast weave med weave slow string execution slow execution string execution med args output execution string execution fast output execution string slow string med target output string fast output defaults changed command args numclasses iterations methodlines nummethods include test classes test test execution pointcut tests test test search test echo compile times compiletimes iterations execution slow times executionslowtimes iterations execution med times executionmedtimes iterations execution fast times executionfasttimes iterations get slow times getslowtimes iterations get med times getmedtimes iterations get fast times getfasttimes iterations string system get property getproperty separator file output dir outputdir file system get property getproperty user dir file separator char separatorchar output output dir outputdir mkdirs main string args ioexception args length parse args parseargs args parse args parseargs args echo system println weave time test echo system println echo system println number classes numclasses echo system println number methods nummethods echo system println number method lines methodlines echo system println number test iterations iterations echo include test classes system println including advice test classes echo test test execution system println weaving advice echo test execution test system println weaving execution advice echo pointcut tests test system println weaving poinctcut test search system println weaving pointcut searching test system println weaving echo system println create classes createclasses compile classes compileclasses warm test execution string advice execution create aspects createaspects advice warm weaver weave all aspects weaveallaspects advice weave fast warm weave aspects weaveaspects advice test string advice create aspects createaspects advice warm weave all aspects weaveallaspects advice weave fast weave aspects weaveaspects advice parse args parseargs string args args args length error args length string arg args number classes arg equals args length numclasses integer parse int parseint args error number methods arg equals args length nummethods integer parse int parseint args error number method lines arg equals args length methodlines integer parse int parseint args error number iterations arg equals args length iterations integer parse int parseint args error arg equals include tests args length arg args arg equals ignore case equalsignorecase include test classes arg equals ignore case equalsignorecase include test classes error arg equals advice string advice args advice equals test test execution advice equals execution test execution test error arg equals pointcut pointcut tests string advice args advice equals fast test advice equals meduim test search advice equals slow test error arg equals echo echo arg equals usage error number format exception numberformatexception usage error usage compile times compiletimes iterations execution slow times executionslowtimes iterations execution med times executionmedtimes iterations execution fast times executionfasttimes iterations get slow times getslowtimes iterations get med times getmedtimes iterations get fast times getfasttimes iterations usage system err println usage system err println tjava weave tests weavetests num classes num methods num method lines num iterations include tests advice execution pointcut fast medium slow echo system exit create number classes form arg arg create classes createclasses ioexception echo system println creating classes classcounter classcounter numclasses classcounter string buffer stringbuffer classfile string buffer stringbuffer classfile append auto generated classfile append output classfile append classcounter intdeclaration intdeclaration methodlines intdeclaration classfile append tint intdeclaration classfile append tint getter classfile append methodcounter methodcounter nummethods methodcounter classfile append tvoid methodcounter classcounter arg methodbody methodbody methodlines methodbody classfile append methodbody classfile append classfile append file file output dir outputdir classcounter java file output stream fileoutputstream fos file output stream fileoutputstream buffered output stream bufferedoutputstream bos buffered output stream bufferedoutputstream fos bos write string classfile get bytes getbytes bos close fos close ioexception print stack trace printstacktrace system exit include test classes string buffer stringbuffer test files testfiles string buffer stringbuffer test files testfiles append auto generated test files testfiles append output test files testfiles append test get testget test files testfiles append tpublic main string args test files testfiles append tester test files testfiles append tint tester test files testfiles append test files testfiles append file file output dir outputdir test get testget java file output stream fileoutputstream fos file output stream fileoutputstream buffered output stream bufferedoutputstream bos buffered output stream bufferedoutputstream fos bos write string test files testfiles get bytes getbytes bos close fos close ioexception print stack trace printstacktrace system exit test files testfiles string buffer stringbuffer test files testfiles append auto generated test files testfiles append output test files testfiles append test execution testexecution test files testfiles append tpublic main string args test files testfiles append tester test files testfiles append ttester tester test files testfiles append test files testfiles append file file output dir outputdir test execution testexecution java file output stream fileoutputstream fos file output stream fileoutputstream buffered output stream bufferedoutputstream bos buffered output stream bufferedoutputstream fos bos write string test files testfiles get bytes getbytes bos close fos close ioexception print stack trace printstacktrace system exit string buffer stringbuffer build list buildlist string buffer stringbuffer numclasses build list buildlist append java include test classes build list buildlist append test get testget java build list buildlist append test execution testexecution java file file output dir outputdir build lst file output stream fileoutputstream fos file output stream fileoutputstream buffered output stream bufferedoutputstream bos buffered output stream bufferedoutputstream fos bos write string build list buildlist get bytes getbytes bos close fos close ioexception print stack trace printstacktrace system exit param advice type advicetype execution depending test create aspect aspect get advice weave one getadviceweaveone output getter system println aspect create aspects createaspects string advice type advicetype advice type advicetype advice type advicetype to lower case tolowercase advice type advicetype equals advice type advicetype equals execution system err println execution advice supported system exit echo system println creating aspects pointcut tests test create all aspects createallaspects advice type advicetype weave fast pointcut tests test search create all aspects createallaspects advice type advicetype weave med pointcut tests test create all aspects createallaspects advice type advicetype weave slow create all aspects createallaspects string advice type advicetype pointcut string buffer stringbuffer aspect file aspectfile string buffer stringbuffer capitalises advice type advicetype string adds advice string advice name advicename advice type advicetype char at charat advice type advicetype substring advice pointcut weave fast advice name advicename weave fast weavefast weave med advice name advicename weave medium weavemedium weave slow advice name advicename weave slow weaveslow aspect file aspectfile append auto generated aspect file aspectfile append aspect advice name advicename aspect file aspectfile append tbefore advice type advicetype equals execution pointcut weave fast aspect file aspectfile append execution fast weave med aspect file aspectfile append execution med weave slow aspect file aspectfile append execution slow pointcut weave fast aspect file aspectfile append fast weave med aspect file aspectfile append med weave slow aspect file aspectfile append slow aspect file aspectfile append aspect file aspectfile append t system tsystem println aspect aspect file aspectfile append aspect file aspectfile append create file file file output dir outputdir advice name advicename file output stream fileoutputstream fos file output stream fileoutputstream buffered output stream bufferedoutputstream bos buffered output stream bufferedoutputstream fos bos write string aspect file aspectfile get bytes getbytes bos close fos close ioexception print stack trace printstacktrace system exit compile classes compileclasses ioexception echo system print compiling average iterations time perform compile performcompile compile times compiletimes time average time echo system println average iterations millis perform compile performcompile ioexception string ajcargs no exit noexit outjar output file separator char separatorchar classes jar argfile output file separator char separatorchar build lst split method creates string array delimited space string parsed args parsedargs run weave tests runweavetests split ajcargs start system current time millis currenttimemillis org aspectj tools ajc main main parsed args parsedargs system current time millis currenttimemillis start weave aspects weaveaspects string advice type advicetype ioexception advice type advicetype advice type advicetype to lower case tolowercase advice type advicetype equals advice type advicetype equals execution system err println execution advice supported system exit average echo system println advice type advicetype char at charat advice type advicetype substring pointcut tests test echo system print weave fast iterations time weave all aspects weaveallaspects advice type advicetype weave fast advice type advicetype equals execution execution fast times executionfasttimes time get fast times getfasttimes time average time echo system print echo system println average iterations millis average pointcut tests test search echo system print weave medium iterations time weave all aspects weaveallaspects advice type advicetype weave med advice type advicetype equals execution execution med times executionmedtimes time get med times getmedtimes time average time echo system print echo system println average iterations millis average pointcut tests test echo system print weave slow iterations time weave all aspects weaveallaspects advice type advicetype weave slow advice type advicetype equals execution execution slow times executionslowtimes time get slow times getslowtimes time average time echo system print echo system println average iterations millis echo system println weave all aspects weaveallaspects string advice type advicetype pointcut ioexception capitalises advice type advicetype string java naming convention string advice name advicename advice type advicetype char at charat advice type advicetype substring advice pointcut weave fast advice name advicename weave fast weavefast weave med advice name advicename weave medium weavemedium weave slow advice name advicename weave slow weaveslow string ajcargs no exit noexit injars output file separator char separatorchar classes jar outjar output file separator char separatorchar advice name advicename jar output file separator char separatorchar advice name advicename string parsed args parsedargs run weave tests runweavetests split ajcargs start system current time millis currenttimemillis org aspectj tools ajc main main parsed args parsedargs system current time millis currenttimemillis start