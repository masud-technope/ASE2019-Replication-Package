copyright contributors rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation andy clement upgrade support fields targetting types org aspectj ajdt internal compiler lookup java lang reflect modifier java util array list arraylist java util arrays java util iterator java util list org aspectj org eclipse jdt core compiler char operation charoperation org aspectj org eclipse jdt internal compiler lookup compilation unit scope compilationunitscope org aspectj org eclipse jdt internal compiler lookup field binding fieldbinding org aspectj org eclipse jdt internal compiler lookup imember finder imemberfinder org aspectj org eclipse jdt internal compiler lookup invocation site invocationsite org aspectj org eclipse jdt internal compiler lookup method binding methodbinding org aspectj org eclipse jdt internal compiler lookup problem field binding problemfieldbinding org aspectj org eclipse jdt internal compiler lookup reference binding referencebinding org aspectj org eclipse jdt internal compiler lookup scope org aspectj org eclipse jdt internal compiler lookup source type binding sourcetypebinding org aspectj org eclipse jdt internal compiler lookup type binding typebinding org aspectj org eclipse jdt internal compiler problem problem reporter problemreporter member finder intertype declared members type member finder type hit inter type member finder intertypememberfinder imember finder imemberfinder list inter type fields intertypefields array list arraylist list inter type methods intertypemethods array list arraylist source type binding sourcetypebinding source type binding sourcetypebinding field binding fieldbinding get field getfield source type binding sourcetypebinding source type binding sourcetypebinding field name fieldname invocation site invocationsite site scope scope xxx correct parameter field binding fieldbinding ret field retfield source type binding sourcetypebinding get field base getfieldbase field name fieldname inter type fields intertypefields is empty isempty ret field retfield field length fieldlength field name fieldname length len inter type fields intertypefields size len field binding fieldbinding field field binding fieldbinding inter type fields intertypefields field length field length fieldlength char operation charoperation prefix equals prefixequals field field name fieldname ret field retfield resolve conflicts resolveconflicts source type binding sourcetypebinding ret field retfield field site scope ret field retfield field binding fieldbinding resolve conflicts resolveconflicts source type binding sourcetypebinding source type binding sourcetypebinding field binding fieldbinding ret field retfield field binding fieldbinding field invocation site invocationsite site scope scope ret field retfield field site field can be seen by canbeseenby source type binding sourcetypebinding site scope ret field retfield ret field retfield can be seen by canbeseenby source type binding sourcetypebinding site scope field xxx dominates check aspects problem field binding problemfieldbinding ret field retfield declaring class declaringclass ret field retfield problem reporter problemreporter ambiguous report conflicts reportconflicts source type binding sourcetypebinding source type binding sourcetypebinding method binding methodbinding method binding methodbinding system err println odd ecomparing are parameters equal areparametersequal inter type method binding intertypemethodbinding inter type method binding intertypemethodbinding report conflicts both reportconflictsboth source type binding sourcetypebinding inter type method binding intertypemethodbinding inter type method binding intertypemethodbinding report conflicts one reportconflictsone source type binding sourcetypebinding inter type method binding intertypemethodbinding inter type method binding intertypemethodbinding report conflicts one reportconflictsone source type binding sourcetypebinding inter type method binding intertypemethodbinding report conflicts none reportconflictsnone source type binding sourcetypebinding report conflicts reportconflicts source type binding sourcetypebinding source type binding sourcetypebinding method binding methodbinding method binding methodbinding system err println compare system err println odd ecomparing are parameters equal areparametersequal system err println get target type gettargettype get target type gettargettype get target type gettargettype get target type gettargettype declaring class declaringclass declaring class declaringclass duplicate method binding duplicatemethodbinding is public ispublic is public ispublic duplicate method binding duplicatemethodbinding handle wierd aspect subtype target is protected isprotected declaring class declaringclass is superclass of issuperclassof declaring class declaringclass duplicate method binding duplicatemethodbinding don test is private isprivate is private isprivate visible declaring class declaringclass get package getpackage declaring class declaringclass get package getpackage duplicate method binding duplicatemethodbinding xxx types day is visible isvisible method binding methodbinding reference binding referencebinding declaring class declaringclass is public ispublic is private isprivate visible declaring class declaringclass get package getpackage get package getpackage duplicate method binding duplicatemethodbinding method binding methodbinding method binding methodbinding reference binding referencebinding declaring class declaringclass reference binding referencebinding declaring class declaringclass source type binding sourcetypebinding source type binding sourcetypebinding runtime exception runtimeexception unimplemented source type binding sourcetypebinding source type binding sourcetypebinding source type binding sourcetypebinding source type binding sourcetypebinding source method sourcemethod scope problem reporter problemreporter duplicate method in type duplicatemethodintype source method sourcemethod source method sourcemethod scope problem reporter problemreporter duplicate method in type duplicatemethodintype source method sourcemethod report conflicts none reportconflictsnone source type binding sourcetypebinding source type binding sourcetypebinding method binding methodbinding method binding methodbinding runtime exception runtimeexception reference binding referencebinding get declaring class getdeclaringclass declaring class declaringclass reference binding referencebinding get declaring class getdeclaringclass declaring class declaringclass abstract method declaration abstractmethoddeclaration method decl methoddecl source method sourcemethod retrieved binding lost system err println duplicate source type binding sourcetypebinding scope problem reporter problemreporter duplicate method in type duplicatemethodintype source type binding sourcetypebinding method decl methoddecl method decl methoddecl binding methods xxx duplicate problem reports source type binding sourcetypebinding source type binding sourcetypebinding runtime exception runtimeexception unimplemented source type binding sourcetypebinding source type binding sourcetypebinding source type binding sourcetypebinding source type binding sourcetypebinding can be seen by canbeseenby scope can be seen by canbeseenby scope scope problem reporter problemreporter duplicate method in type duplicatemethodintype source method sourcemethod scope problem reporter problemreporter duplicate method in type duplicatemethodintype source method sourcemethod reference binding referencebinding get target type gettargettype method binding methodbinding inter type method binding intertypemethodbinding inter type method binding intertypemethodbinding get target type gettargettype declaring class declaringclass find methods including itds itds interfaces implement method binding methodbinding methods source type binding sourcetypebinding source type binding sourcetypebinding method binding methodbinding orig source type binding sourcetypebinding methods inter type methods intertypemethods is empty isempty orig list ret array list arraylist arrays as list aslist orig len inter type methods intertypemethods size len method binding methodbinding method method binding methodbinding inter type methods intertypemethods ret add method reference binding referencebinding interfaces source type binding sourcetypebinding super interfaces superinterfaces interfaces length interfaces source type binding sourcetypebinding source type binding sourcetypebinding int stb intstb source type binding sourcetypebinding interfaces add public itdsfrom addpublicitdsfrom int stb intstb ret ret is empty isempty source type binding sourcetypebinding no methods nomethods method binding methodbinding ret to array toarray method binding methodbinding ret size add public itdsfrom addpublicitdsfrom source type binding sourcetypebinding an interface aninterface list to alist toalist an interface aninterface member finder memberfinder inter type member finder intertypememberfinder finder inter type member finder intertypememberfinder an interface aninterface member finder memberfinder iterator iter finder inter type methods intertypemethods iterator iter has next hasnext method binding methodbinding a binding abinding method binding methodbinding iter modifier is public ispublic a binding abinding modifiers to alist toalist add a binding abinding reference binding referencebinding super type supertype an interface aninterface superclass super type supertype source type binding sourcetypebinding super type supertype is interface isinterface add public itdsfrom addpublicitdsfrom source type binding sourcetypebinding super type supertype to alist toalist xxx conflicts method binding methodbinding get methods getmethods source type binding sourcetypebinding source type binding sourcetypebinding selector system err println get methods getmethods string source type binding sourcetypebinding signature string selector method binding methodbinding orig source type binding sourcetypebinding get methods base getmethodsbase selector inter type methods intertypemethods is empty isempty orig list ret array list arraylist arrays as list aslist orig len inter type methods intertypemethods size len method binding methodbinding method method binding methodbinding inter type methods intertypemethods char operation charoperation equals selector method selector ret add method ret is empty isempty source type binding sourcetypebinding no methods nomethods method binding methodbinding ret to array toarray method binding methodbinding ret size method binding methodbinding get exact method getexactmethod source type binding sourcetypebinding source type binding sourcetypebinding selector type binding typebinding argument types argumenttypes compilation unit scope compilationunitscope ref scope refscope method binding methodbinding ret source type binding sourcetypebinding get exact method base getexactmethodbase selector argument types argumenttypes ref scope refscope intertype declaration override inherited member bug len inter type methods intertypemethods size len method binding methodbinding method binding methodbinding inter type methods intertypemethods matches selector argument types argumenttypes ret is visible isvisible source type binding sourcetypebinding ret ret ret resolve override resolveoverride ret ret method binding methodbinding resolve override resolveoverride method binding methodbinding method binding methodbinding reference binding referencebinding get target type gettargettype reference binding referencebinding get target type gettargettype xxx test completely matching sigs is abstract isabstract is abstract isabstract inter type method binding intertypemethodbinding xxx handle dominates eclipse world eclipseworld eclipse world eclipseworld from scope lookup environment fromscopelookupenvironment source type binding sourcetypebinding scope cmp compare aspect precedence compareaspectprecedence from eclipse fromeclipse declaring class declaringclass from eclipse fromeclipse declaring class declaringclass cmp cmp duplicate method binding duplicatemethodbinding is superclass of issuperclassof is superclass of issuperclassof duplicate method binding duplicatemethodbinding compare aspect precedence compareaspectprecedence resolved type resolvedtype resolved type resolvedtype get world getworld ret compare by dominates comparebydominates ret is assignable from isassignablefrom is assignable from isassignablefrom ret matches method binding methodbinding method binding methodbinding matches selector parameters is visible isvisible declaring class declaringclass is visible isvisible declaring class declaringclass matches method binding methodbinding method selector type binding typebinding argument types argumenttypes char operation charoperation equals selector method selector arg count argcount argument types argumenttypes length method parameters length arg count argcount type binding typebinding to match tomatch method parameters arg count argcount to match tomatch argument types argumenttypes add inter type field addintertypefield field binding fieldbinding binding system err println adding binding inter type fields intertypefields add binding add inter type method addintertypemethod method binding methodbinding binding system err println adding binding source type binding sourcetypebinding is visible isvisible binding source type binding sourcetypebinding method binding methodbinding base methods basemethods source type binding sourcetypebinding methods len base methods basemethods length len method binding methodbinding base methods basemethods fast source type binding sourcetypebinding resolve types for resolvetypesfor matches binding remove existing method source method sourcemethod source method sourcemethod binding source type binding sourcetypebinding remove method removemethod system err println left arrays as list aslist source type binding sourcetypebinding methods inter type methods intertypemethods add binding