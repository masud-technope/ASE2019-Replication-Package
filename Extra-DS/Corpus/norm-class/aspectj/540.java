copyright ibm rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors andy clement initial implementation org aspectj systemtest ajc java file java util list junit framework test org aspectj asm asm manager asmmanager org aspectj asm ihierarchy org aspectj asm iprogram element iprogramelement org aspectj testing xmlbased ajc test case xmlbasedajctestcase declare annotation tests declareannotationtests xmlbased ajc test case xmlbasedajctestcase test suite xmlbased ajc test case xmlbasedajctestcase load suite loadsuite declare annotation tests declareannotationtests file get spec file getspecfile file tests src org aspectj systemtest ajc ajc xml parsing forms declare test declare annotation parsing testdeclareannotationparsing run test runtest basic declare annotation parse test declare type declare type simple annotation specific type test at type testattype one annotation hitting one type oneannotationhittingonetype src run test runtest declare type declare type simple annotation multiple types test at type testattype one annotation hitting multiple types oneannotationhittingmultipletypes src run test runtest declare type declare type simple annotation pointcut matches test at type testattype pointcut matching on declared annotation pointcutmatchingondeclaredannotation run test runtest declare type matching pointcut binary weaving declare type annotation type test at type testattype one annotation hitting one type oneannotationhittingonetype bin run test runtest declare type binary weaving annotation multiple values primitives string declared single type test at type testattype complex annotation complexannotation bin weaving binweaving run test runtest declare type complex annotation binary weaving test at type testattype complex annotation complexannotation src weaving srcweaving run test runtest declare type complex annotation source weaving annotations declared type test at type testattype two annotations on one type twoannotationsononetype bin weaving binweaving run test runtest declare type annotations hit type binary weaving test at type testattype two annotations on one type twoannotationsononetype src weaving srcweaving run test runtest declare type annotations hit type source weaving decp deca interact variants result test at type testattype interacting with declare parents interactingwithdeclareparents bin weaving binweaving run test runtest declare type declare parents interactions order binary weaving test at type testattype interacting with declare parents interactingwithdeclareparents src weaving srcweaving run test runtest declare type declare parents interactions order source weaving test at type testattype interacting with declare parents interactingwithdeclareparents bin weaving binweaving run test runtest declare type declare parents interactions order binary weaving test at type testattype interacting with declare parents interactingwithdeclareparents src weaving srcweaving run test runtest declare type declare parents interactions order source weaving test at type testattype interacting with declare parents interactingwithdeclareparents bin weaving binweaving run test runtest declare type declare parents interactions order binary weaving test at type testattype interacting with declare parents interactingwithdeclareparents src weaving srcweaving run test runtest declare type declare parents interactions order source weaving test at type testattype interacting with declare parents interactingwithdeclareparents bin weaving binweaving run test runtest declare type declare parents interactions order binary weaving test at type testattype interacting with declare parents interactingwithdeclareparents src weaving srcweaving run test runtest declare type declare parents interactions order source weaving test at type testattype annotating already annotated type annotatingalreadyannotatedtype bin weaving binweaving run test runtest declare type annotating annotated type binary weaving test at type testattype annotating already annotated type annotatingalreadyannotatedtype src weaving srcweaving run test runtest declare type annotating annotated type source weaving testing error messages exact type patterns test at type testattype using wrong annotation on atype usingwrongannotationonatype bin weaving binweaving run test runtest declare type annotations targets binary weaving test at type testattype using wrong annotation on atype usingwrongannotationonatype src weaving srcweaving run test runtest declare type annotations targets source weaving testing lint message exact patterns test at type testattype using wrong annotation on atype usingwrongannotationonatype type specified by pattern typespecifiedbypattern bin weaving binweaving run test runtest declare type annotations targets type patterns binary weaving test at type testattype using wrong annotation on atype usingwrongannotationonatype type specified by pattern typespecifiedbypattern src weaving srcweaving run test runtest declare type annotations targets type patterns source weaving testing multiple dec at type decattype decps interact rely test at type testattype complex decp dec at type interactions complexdecpdecattypeinteractions bin weaving binweaving run test runtest declare type complex decp dec at type decattype interactions binary weaving test at type testattype complex decp dec at type interactions complexdecpdecattypeinteractions src weaving srcweaving run test runtest declare type complex decp dec at type decattype interactions source weaving test at type testattype putting incorrect annos on types puttingincorrectannosontypes src weaving srcweaving run test runtest declare type annotation targetting annos normal types source weaving test at type testattype putting incorrect annos on types puttingincorrectannosontypes bin weaving binweaving run test runtest declare type annotation targetting annos normal types binary weaving test at type testattype putting incorrect annos on types with patterns puttingincorrectannosontypeswithpatterns src weaving srcweaving run test runtest declare type annotation targetting annos normal types pattern source weaving test at type testattype putting incorrect annos on types with patterns puttingincorrectannosontypeswithpatterns bin weaving binweaving run test runtest declare type annotation targetting annos normal types pattern binary weaving fails freaky jdt compiler bug test at type testattype using class or enum element values in annotations usingclassorenumelementvaluesinannotations src weaving srcweaving run test runtest declare type covering enum element values source weaving test at type testattype using class or enum element values in annotations usingclassorenumelementvaluesinannotations bin weaving binweaving run test runtest declare type covering enum element values binary weaving declare field test at field testatfield simple source simplesource run test runtest declare field simple source weaving test at field testatfield simple binary simplebinary run test runtest declare field simple binary weaving lint warning test at field testatfield two the same on one source twothesameononesource run test runtest declare field source weaving lint warning test at field testatfield two the same on one binary twothesameononebinary run test runtest declare field binary weaving test at field testatfield two different on one source twodifferentononesource run test runtest declare field source weaving test at field testatfield two different on one binary twodifferentononebinary run test runtest declare field binary weaving test at field testatfield wrong target source wrongtargetsource run test runtest declare field wrong target source weaving test verification declare aspect compiled test at field testatfield wrong target binary wrongtargetbinary run test runtest declare field wrong target binary weaving test at field testatfield right target source righttargetsource run test runtest declare field target source weaving test at field testatfield right target binary righttargetbinary run test runtest declare field target binary weaving test at field testatfield recursive source recursivesource run test runtest declare field recursive application source weaving test at field testatfield recursive binary recursivebinary run test runtest declare field recursive application binary weaving test at field testatfield recursive other order source recursiveotherordersource run test runtest declare field recursive application order source weaving test at field testatfield recursive other order binary recursiveotherorderbinary run test runtest declare field recursive application order binary weaving declare method test at method testatmethod simple source simplesource run test runtest declare method simple source weaving test at method testatmethod simple binary simplebinary run test runtest declare method simple binary weaving declare constructor test at ctor testatctor simple source simplesource run test runtest declare constructor simple source weaving test at ctor testatctor simple binary simplebinary run test runtest declare constructor simple binary weaving declare method constructor test at method ctor testatmethodctor wrong target source wrongtargetsource run test runtest declare method ctor wrong target source weaving test at method ctor testatmethodctor right target source righttargetsource run test runtest declare method ctor target source weaving test at method ctor testatmethodctor right target binary righttargetbinary run test runtest declare method ctor target binary weaving lint warning test at method ctor testatmethodctor two the same on one source twothesameononesource run test runtest declare method ctor source weaving lint warning test at method ctor testatmethodctor two the same on one binary twothesameononebinary run test runtest declare method ctor binary weaving test at method ctor testatmethodctor two different on one source twodifferentononesource run test runtest declare method ctor source weaving test at method ctor testatmethodctor two different on one binary twodifferentononebinary run test runtest declare method ctor binary weaving debug test uncomment nice dump structure model debug txt test structure model teststructuremodel asm manager asmmanager set reporting setreporting debug txt run test runtest declare annotations source weaving get current test getcurrenttest can run on this vm canrunonthisvm ihierarchy top asm manager asmmanager get default getdefault get hierarchy gethierarchy iprogram element iprogramelement ipe top find element for label findelementforlabel top get root getroot iprogram element iprogramelement kind declare annotation type declare type death by annotations deathbyannotations colored red assert true asserttrue couldn find declare type element tree ipe list asm manager asmmanager get default getdefault get relationship map getrelationshipmap ipe assert true asserttrue relationship size ipe top find element for label findelementforlabel top get root getroot iprogram element iprogramelement kind declare annotation method declare method fruit tomato assert true asserttrue couldn find declare method element tree ipe asm manager asmmanager get default getdefault get relationship map getrelationshipmap ipe assert true asserttrue relationship size ipe top find element for label findelementforlabel top get root getroot iprogram element iprogramelement kind declare annotation constructor declare constructor death by annotations deathbyannotations fruit tomato assert true asserttrue couldn find declare constructor element tree ipe asm manager asmmanager get default getdefault get relationship map getrelationshipmap ipe assert true asserttrue relationship size ipe top find element for label findelementforlabel top get root getroot iprogram element iprogramelement kind declare annotation field declare field death by annotations deathbyannotations material wood assert true asserttrue couldn find declare field element tree ipe asm manager asmmanager get default getdefault get relationship map getrelationshipmap ipe assert true asserttrue relationship size test declare type misspelled testdeclaretypemisspelled run test runtest declare type type