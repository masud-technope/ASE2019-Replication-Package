copyright contributors rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors wes isberg initial implementation org aspectj internal tools build java file java util array list arraylist java util arrays java util collections java util hash map hashmap java util iterator java util list java util list iterator listiterator represents prospective build result requirements testing normal jar assembled jar classes dir classesdir result normal assemble kind release kind release normal assemble kind release kind release normal assemble kind test kind test normal assemble kind test kind test normal assemble kind kinds release test release test hash map hashmap name to result nametoresult hash map hashmap is testing jar istestingjar string to lower case tolowercase junit jar equals is testing dir istestingdir string to lower case tolowercase util constants testsrc equals util constants java testsrc equals is testing module istestingmodule module module string module to lower case tolowercase starts with startswith testing tests equals result get result getresult string illegal argument exception illegalargumentexception result name to result nametoresult result get results getresults string names names result result result names length length string names string arrays as list aslist names illegal argument exception illegalargumentexception result result get result getresult string result arrays as list aslist names illegal argument exception illegalargumentexception kind kinds kind result kind kinds length system arraycopy kinds result result length result iax unless normal iaxunlessnormal result result result result get kind getkind normal illegal argument exception illegalargumentexception normal result iax unless assembly iaxunlessassembly result result result result get kind getkind assemble illegal argument exception illegalargumentexception assembly result kind kind normal assemble normal normal assemble assemble release release assemble assemble test test kind string normal assemble kind string normal assemble normal normal assemble assemble is assembly isassembly assemble is normal isnormal normal string to string tostring path output jar exist file output file outputfile list required result list required results requiredresults file list library jars list lib jars libjars string list classpath variables list classpath variables classpathvariables string to long string tolongstring file list library jars exported clients duplicates lib jars libjars entries list exported lib jars exportedlibjars file list source directories list src dirs srcdirs calculated list fields required done requireddone out of date outofdate calculated out of date set outofdateset kind kind module module string result kind kind module module file jar dir jardir kind kind module module lib jars libjars array list arraylist exported lib jars exportedlibjars array list arraylist src dirs srcdirs array list arraylist classpath variables classpathvariables array list arraylist required results requiredresults array list arraylist string module kind normal test kind assemble output file outputfile file jar dir jardir jar name to result nametoresult string get name getname file get output file getoutputfile output file outputfile clear out of date clearoutofdate out of date set outofdateset out of date outofdate out of date outofdate out of date set outofdateset out of date outofdate module out of date outofdate out of date set outofdateset out of date outofdate list file jar required list find jar requirements findjarrequirements array list arraylist result array list arraylist module do find jar requirements dofindjarrequirements result result unmodifiable list string classpath variables list get classpath variables getclasspathvariables safe list safelist classpath variables classpathvariables unmodifiable list required modules string names result get required getrequired safe results saferesults required results requiredresults unmodifiable list exported library files guaranteed readable list get exported lib jars getexportedlibjars safe list safelist exported lib jars exportedlibjars unmodifiable list required library files guaranteed readable list get lib jars getlibjars required done requireddone safe list safelist lib jars libjars list get merges getmerges required done requireddone safe list safelist merges unmodifiable list source directories guaranteed readable list get src dirs getsrcdirs safe list safelist src dirs srcdirs module get module getmodule module kind get kind getkind kind string to long string tolongstring to long string tolongstring to long string tolongstring output file outputfile output file outputfile required results requiredresults required results requiredresults src dirs srcdirs src dirs srcdirs lib jars libjars lib jars libjars to long string tolongstring string to string tostring list safe list safelist list required done requireddone collections unmodifiable list unmodifiablelist result safe results saferesults list list required done requireddone list result result list to array toarray result init src dirs initsrcdirs src dirs srcdirs add all addall get module getmodule src dirs srcdirs get kind getkind normal trim testing source directories list iterator listiterator iter src dirs srcdirs list iterator listiterator iter has next hasnext file src dir srcdir file iter is testing dir istestingdir src dir srcdir get name getname iter remove init lib jars initlibjars lib jars libjars add all addall get module getmodule lib jars libjars get kind getkind normal is testing module istestingmodule get module getmodule trim testing libraries list iterator listiterator iter lib jars libjars list iterator listiterator iter has next hasnext file lib jar libjar file iter is testing jar istestingjar lib jar libjar get name getname iter remove assert kind assertkind kind kind kind get kind getkind illegal argument exception illegalargumentexception expected get kind getkind kind init required results initrequiredresults module module get module getmodule kind kind get kind getkind kind assemble kind normal assert kind assertkind release required results requiredresults add module get result getresult release assert kind assertkind test required results requiredresults add module get result getresult test required results requiredresults add module get result getresult release kind normal assert kind assertkind test required results requiredresults add module get result getresult release assert kind assertkind release externally required list modules module required modules requiredmodules adopt tests adopttests kind normal is testing module istestingmodule module iterator iter modules iterator iter has next hasnext module required module iter adopt tests adopttests testing builds rely release test required results requiredresults add required get result getresult test required results requiredresults add required get result getresult release is testing module istestingmodule required release builds rely testing testing modules required results requiredresults add required get result getresult release skip release dependencies testing testing util init classpath variables initclasspathvariables difference classpath variables classpathvariables add all addall get module getmodule classpath variables classpathvariables init exported lib jars initexportedlibjars difference exported lib jars exportedlibjars add all addall get module getmodule exported lib jars exportedlibjars required done requireddone required done requireddone init src dirs initsrcdirs init lib jars initlibjars init required results initrequiredresults init classpath variables initclasspathvariables init exported lib jars initexportedlibjars required done requireddone