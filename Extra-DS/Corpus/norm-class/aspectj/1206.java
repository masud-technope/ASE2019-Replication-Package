copyright contributors rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors andy clement initial version org aspectj ajde java file java util hash set hashset java util iterator java util list java util org aspectj ajde internal compiler adapter compileradapter org aspectj util file util fileutil reweavable test case reweavabletestcase ajde test case ajdetestcase compiler adapter compileradapter compiler adapter compileradapter string project dir reweavable test reweavabletest debug tests debugtests string bin dir bindir bin string indir indir string indir indir string injar name injarname injar jar string outjar name outjarname bin output jar constructor jar resource copy test case jarresourcecopytestcase param arg reweavable test case reweavabletestcase string arg arg ensure output directpry clean set up setup exception set up setup project dir file util fileutil delete contents deletecontents open file openfile bin dir bindir aim check haven damaged normal compilation supplying xreweavable determines baseline sizes compiled files comparison inputs compiler non reweavable nonreweavable lst calculate pi calculatepi java logger verbose no exit noexit expected result compile successful types reweavable weaver report running reweavable mode test non reweavable compile testnonreweavablecompile debug tests debugtests system println test non reweavable compile testnonreweavablecompile building non reweavable nonreweavable lst compiler adapter compileradapter compiler adapter compileradapter compiler adapter compileradapter show info messages showinfomessages compiler adapter compileradapter compile string open file openfile non reweavable nonreweavable lst get absolute path getabsolutepath bpm assert false assertfalse expect find message weaver operating reweavable mode check for checkfor weaver operating reweavable mode file f calc fcalc open file openfile bin calculate pi calculatepi file f log flog open file openfile bin logger assert true asserttrue bin calculate pi calculatepi exist f calc fcalc exists assert true asserttrue bin logger exist f log flog exists debug tests debugtests system println calculate pi calculatepi size f calc fcalc length debug tests debugtests system println logger size f log flog length debug tests debugtests system println nonreweavesize calculate pi calculatepi f calc fcalc length nonreweavesize logger f log flog length aim basic call xreweavable weaver report reweavable mode classes produced larger normal classes produced test inputs compiler reweavable lst calculate pi calculatepi java logger xreweavable verbose no exit noexit expected result compile successful types reweavable weaver report running reweavable mode files produced larger created test test reweavable compile testreweavablecompile debug tests debugtests system println test reweavable compile testreweavablecompile building reweavable lst compiler adapter compileradapter compiler adapter compileradapter compiler adapter compileradapter show info messages showinfomessages compiler adapter compileradapter compile string open file openfile reweavable lst get absolute path getabsolutepath bpm assert true asserttrue expected message operating reweavable mode didn check for checkfor weaver operating reweavable mode file f calc fcalc open file openfile bin calculate pi calculatepi file f log flog open file openfile bin logger assert true asserttrue bin calculate pi calculatepi exist f calc fcalc exists assert true asserttrue bin logger exist f log flog exists debug tests debugtests system println calculate pi calculatepi size f calc fcalc length debug tests debugtests system println logger size f log flog length temporarily remove tests order test xxx testxxx methods relied reweavablesize xxx fields assert true asserttrue reweavable version larger reweavable version calculate pi calculatepi f calc fcalc length nonreweavesize calculate pi calculatepi assert true asserttrue reweavable version larger reweavable version logger f log flog length nonreweavesize logger reweavablesize calculate pi calculatepi f calc fcalc length reweavablesize logger f log flog length debug tests debugtests system println aim optional compress modifier xreweavable meta data reweaving compressed succeed produce files smaller straight xreweavable larger xreweavable inputs compiler reweavable compress reweavablecompress lst calculate pi calculatepi java logger xreweavable compress verbose no exit noexit expected result compile successful types reweavable weaver report running reweavable mode files created size reweavable versions reweavable compression versions test reweavable compress compile testreweavablecompresscompile debug tests debugtests system println test reweavable compress compile testreweavablecompresscompile building reweavable compress reweavablecompress lst compiler adapter compileradapter compiler adapter compileradapter compiler adapter compileradapter show info messages showinfomessages compiler adapter compileradapter compile string open file openfile reweavable compress reweavablecompress lst get absolute path getabsolutepath bpm assert true asserttrue expected message operating reweavable mode didn check for checkfor weaver operating reweavable mode file f calc fcalc open file openfile bin calculate pi calculatepi file f log flog open file openfile bin logger assert true asserttrue bin calculate pi calculatepi exist f calc fcalc exists assert true asserttrue bin logger exist f log flog exists calclen f calc fcalc length loglen f log flog length debug tests debugtests system println calculate pi calculatepi size calclen debug tests debugtests system println logger size loglen debug tests debugtests system println aim tests determined reweaving appears behaving terms files creating attempt reweave build files reweavable build single file inpath files compile succeed inputs compile reweavable lst calculate pi calculatepi java logger xreweavable verbose no exit noexit input compile reweavable lst second aspect secondaspect xreweavable verbose no exit noexit inpath bin expected result compiles succeed test reweavable simple compile testreweavablesimplecompile debug tests debugtests system println test reweavable simple compile testreweavablesimplecompile building reweavable lst compiler adapter compileradapter compiler adapter compileradapter compiler adapter compileradapter show info messages showinfomessages compiler adapter compileradapter compile string open file openfile reweavable lst get absolute path getabsolutepath bpm assert true asserttrue expected message operating reweavable mode didn check for checkfor weaver operating reweavable mode debug tests debugtests system println ntest reweavable simple compile ntestreweavablesimplecompile building reweavable lst paths hash set hashset paths add open file openfile bin dir bindir ide manager idemanager get project properties getprojectproperties set inpath setinpath paths compiler adapter compileradapter compile string open file openfile reweavable lst get absolute path getabsolutepath bpm string exp message expmessage verified type logger exists assert true asserttrue expected message exp message expmessage find check for checkfor exp message expmessage file f calc fcalc open file openfile bin calculate pi calculatepi file f log flog open file openfile bin logger file f sec fsec open file openfile bin second aspect secondaspect assert true asserttrue bin calculate pi calculatepi exist f calc fcalc exists assert true asserttrue bin logger exist f log flog exists assert true asserttrue bin second aspect secondaspect exist f sec fsec exists debug tests debugtests system println aim based test delete logger compiles compile fail reweave calculate pi calculatepi inputs compile reweavable lst calculate pi calculatepi java logger xreweavable verbose no exit noexit input compile reweavable lst second aspect secondaspect xreweavable verbose no exit noexit inpath bin expected result compile fail reporting logger missing touched compile calculate pi calculatepi test for reweavable simple error compile testforreweavablesimpleerrorcompile debug tests debugtests system println test for reweavable simple error compile testforreweavablesimpleerrorcompile building reweavable lst compiler adapter compileradapter compiler adapter compileradapter compiler adapter compileradapter show info messages showinfomessages compiler adapter compileradapter compile string open file openfile reweavable lst get absolute path getabsolutepath bpm assert true asserttrue expected message operating reweavable mode didn check for checkfor weaver operating reweavable mode assert true asserttrue delete bin logger open file openfile bin logger delete debug tests debugtests system println ntest for reweavable simple error compile ntestforreweavablesimpleerrorcompile building reweavable lst paths hash set hashset paths add open file openfile bin dir bindir ide manager idemanager get project properties getprojectproperties set inpath setinpath paths compiler adapter compileradapter compile string open file openfile reweavable lst get absolute path getabsolutepath bpm string exp message expmessage type logger needed reweavable type calculate pi calculatepi assert true asserttrue expected message exp message expmessage find check for checkfor exp message expmessage file f calc fcalc open file openfile bin calculate pi calculatepi file f log flog open file openfile bin logger file f sec fsec open file openfile bin second aspect secondaspect assert true asserttrue bin calculate pi calculatepi exist f calc fcalc exists assert true asserttrue bin logger exist f log flog exists assert true asserttrue bin second aspect secondaspect exist f sec fsec exists debug tests debugtests system println aim based test delete logger compiles compile fail reweave calculate pi calculatepi inputs compile tjp lst tjp demo java tjp get info getinfo java xreweavable verbose no exit noexit delete bin tjp get info getinfo compile tjp lst xreweavable verbose no exit noexit inpath bin expected result compile fail reporting tjp get info getinfo missing touched compile tjp demo test error scenario testerrorscenario compile debug tests debugtests system println test error scenario testerrorscenario building tjp lst compiler adapter compileradapter compiler adapter compileradapter compiler adapter compileradapter show info messages showinfomessages compiler adapter compileradapter compile string open file openfile tjp lst get absolute path getabsolutepath bpm assert true asserttrue expected message operating reweavable mode didn check for checkfor weaver operating reweavable mode assert true asserttrue delete bin tjp get info getinfo open file openfile bin tjp get info getinfo delete debug tests debugtests system println ntest error scenario ntesterrorscenario building tjp lst paths hash set hashset paths add open file openfile bin dir bindir ide manager idemanager get project properties getprojectproperties set inpath setinpath paths compiler adapter compileradapter compile string open file openfile tjp lst get absolute path getabsolutepath bpm string exp message expmessage type tjp get info getinfo needed reweavable type tjp demo assert true asserttrue expected message exp message expmessage find check for checkfor exp message expmessage file f demo fdemo open file openfile bin tjp demo file f get info fgetinfo open file openfile bin tjp get info getinfo assert true asserttrue bin tjp demo exist f demo fdemo exists assert true asserttrue bin tjp get info getinfo exist f get info fgetinfo exists debug tests debugtests system println test working scenario testworkingscenario compile debug tests debugtests system println test working scenario testworkingscenario building tjp lst compiler adapter compileradapter compiler adapter compileradapter compiler adapter compileradapter show info messages showinfomessages compiler adapter compileradapter compile string open file openfile tjp lst get absolute path getabsolutepath bpm assert true asserttrue expected message operating reweavable mode didn check for checkfor weaver operating reweavable mode debug tests debugtests system println ntest working scenario ntestworkingscenario building tjp lst paths hash set hashset paths add open file openfile bin dir bindir ide manager idemanager get project properties getprojectproperties set inpath setinpath paths compiler adapter compileradapter compile string open file openfile tjp lst get absolute path getabsolutepath bpm string exp message expmessage verified type tjp get info getinfo exists assert true asserttrue expected message exp message expmessage find check for checkfor exp message expmessage file f get info fgetinfo open file openfile bin tjp get info getinfo file f demo fdemo open file openfile bin tjp demo assert true asserttrue bin tjp get info getinfo exist f get info fgetinfo exists assert true asserttrue bin tjp demo exist f demo fdemo exists debug tests debugtests system println bpm build progress monitor buildprogressmonitor start string config file configfile set progress text setprogresstext string text set progress bar val setprogressbarval new val newval increment progress bar val incrementprogressbarval set progress bar max setprogressbarmax max val maxval get progress bar max getprogressbarmax finish check for checkfor string list ide manager idemanager get compilation source line tasks getcompilationsourcelinetasks iterator iter iterator iter has next hasnext object element object iter element to string tostring index of indexof