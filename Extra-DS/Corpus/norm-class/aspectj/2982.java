copyright contributors rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors wes isberg initial implementation org aspectj testing taskdefs java awt frame java java lang reflect java util org apache tools ant org apache tools ant project org aspectj bridge org aspectj tools ant taskdefs ajc task ajctask org aspectj util org aspectj util file util fileutil drive tests ant taskdef incremental easy implement incremental compiles require running compiler thread incremental tag file imprecise assumes incremental compiles complete messages coming compiler client call quit compiling halt process xxx build icommand quit invocation avoid kludge workarounds ajc task compile command ajctaskcompilecommand icommand seconds quiet message holder assume incremental compile compile seconds messages minutes maximum time wait compile complete compile max seconds wait holder changed number messages secs seconds weak form determining compile completed xxx implement compile complete message param holder imessage holder imessageholder wait param seconds number seconds messages param timeout seconds timeoutseconds number seconds time messages quiesced timeout parameters negative seconds timeout seconds timeoutseconds wait until messages quiet waituntilmessagesquiet imessage holder imessageholder holder seconds timeout seconds timeoutseconds lang util langutil throw iax if null throwiaxifnull holder holder timeout seconds timeoutseconds seconds timeout seconds timeoutseconds seconds cur time curtime system current time millis currenttimemillis timeout cur time curtime timeout seconds timeoutseconds thread thread thread current thread currentthread target quiet time targetquiettime seconds num messages nummessages holder num messages nummessages num messages time nummessagestime cur time curtime check messages seconds check interval checkinterval interval seconds interval interval interval interval check interval checkinterval interval cur time curtime timeout cur time curtime num messages time nummessagestime target quiet time targetquiettime delay check next check nextcheck cur time curtime check interval checkinterval next check nextcheck cur time curtime thread sleep next check nextcheck cur time curtime interrupted exception interruptedexception cur time curtime system current time millis currenttimemillis new num messages newnummessages holder num messages nummessages new num messages newnummessages num messages nummessages num messages nummessages new num messages newnummessages num messages time nummessagestime cur time curtime cur time curtime num messages time nummessagestime target quiet time targetquiettime single threaded driver message handler messagehandler messages message handler messagehandler ajc task ajctask ajc task ajctask file incremental file incrementalfile thread incremental compile thread incrementalcompilethread waiting incremental compiles safe call incremental modes quit xxx requires downcast icommand validator imessage handler imessagehandler ajc task ajctask task ajc task ajctask task signal task quit thread die task quit xxx cleanup ajc task ajctask update incremental file updateincrementalfile thread thread incremental compile thread incrementalcompilethread thread thread is alive isalive thread join interrupted exception interruptedexception thread is alive isalive string warning abandoning undying thread system err println thread get name getname incremental compile thread incrementalcompilethread icommand run command runcommand string args imessage handler imessagehandler handler make ajc task makeajctask args handler do command docommand handler fails called run command runcommand incremental mode command included incremental file entry repeat command repeatcommand imessage handler imessagehandler handler do command docommand handler do command docommand imessage handler imessagehandler handler repeat messages clear messages clearmessages ajc task ajctask message util messageutil fail messages ajc task ajctask repeat normal incremental repeat incremental file incrementalfile ajc task ajctask execute incremental mode incremental file incrementalfile message util messageutil fail messages incremental mode update incremental file updateincrementalfile message util messageutil fail messages update incremental file repeat incremental compile incremental compile thread incrementalcompilethread thread runnable ajc task ajctask execute ajc task compile command ajctaskcompilecommand incremental incremental compile thread incrementalcompilethread start wait until messages quiet waituntilmessagesquiet messages thread thread incremental compile thread incrementalcompilethread thread message util messageutil fail messages incremental process stopped thread is alive isalive message util messageutil fail messages incremental process dead wait until messages quiet waituntilmessagesquiet messages build exception buildexception throwable get cause getcause build exception buildexception build exception buildexception get cause getcause message util messageutil abort messages build exception buildexception get message getmessage message util messageutil handle all handleall handler messages messages num messages nummessages imessage error make ajc task makeajctask string args imessage handler imessagehandler handler ajc task ajctask incremental file incrementalfile ajc task ajctask result result ajc task ajctask project project project project set name setname ajc task compile command ajctaskcompilecommand result set project setproject project result set message holder setmessageholder messages xxx argh strip incremental tools ajc main privileges tagfile array list arraylist new args newargs array list arraylist incremental args length incremental equals args incremental xincremental file xincrementalfile equals args command controller commandcontroller tag file option xincremental file xincrementalfile incremental new args newargs add args incremental args string new args newargs to array toarray string result read arguments readarguments args incremental result is in incremental mode isinincrementalmode impossible result is in incremental file mode isinincrementalfilemode string incremental file command message util messageutil fail handler incremental file incrementalfile string incremental file message util messageutil fail handler string prefix ajc task compile command ajctaskcompilecommand make ajc task makeajctask file tmp dir tmpdir file util fileutil get temp dir gettempdir prefix incremental file incrementalfile file tmp dir tmpdir tagfile tmp create delete update incremental file updateincrementalfile create delete result set tag file settagfile incremental file incrementalfile build exception buildexception error result set failonerror setfailonerror ajc task ajctask result build exception buildexception message util messageutil abort handler setting ajc task ajctask ajc task ajctask update incremental file updateincrementalfile create delete file file incremental file incrementalfile delete file file exists file delete incremental file incrementalfile file file exists file set last modified setlastmodified system current time millis currenttimemillis create file create new file createnewfile ioexception xxx warn verbose mode