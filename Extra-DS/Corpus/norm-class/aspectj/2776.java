copyright ibm corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html org aspectj systemtest incremental java file java util list junit framework test org aspectj ajdt internal core builder abstract state listener abstractstatelistener org aspectj ajdt internal core builder aj state ajstate org aspectj testing xmlbased ajc test case xmlbasedajctestcase incremental tests incrementaltests org aspectj testing xmlbased ajc test case xmlbasedajctestcase test suite xmlbased ajc test case xmlbasedajctestcase load suite loadsuite incremental tests incrementaltests file get spec file getspecfile file tests src org aspectj systemtest incremental incremental xml javadoc org aspectj testing xmlbased ajc test case xmlbasedajctestcase set up setup set up setup exception set up setup aj state ajstate force incremental testing tear down teardown exception tear down teardown aj state ajstate force incremental testing test exception run test runtest expect initial incremental tests next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild src main main java src main main java assert added assertadded main target main main test exception run test runtest expect removed initial incremental tests next increment nextincrement assert added assertadded main target copy file and do incremental build copyfileanddoincrementalbuild src main main java src main main java assert deleted assertdeleted main target main main test exception run test runtest expect updated initial incremental tests last time lasttime next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild src main main java src main main java assert updated assertupdated main main last time lasttime main main test exception run test runtest add file next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild src main target java src main target java assert added assertadded main target last time lasttime next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild src main main java src main main java assert updated assertupdated main main last time lasttime main main test exception run test runtest delete source file incremental compile next increment nextincrement message spec messagespec message spec messagespec message spec messagespec new message list newmessagelist message delete target java delete file and do incremental build deletefileanddoincrementalbuild src delete delete me deleteme java message spec messagespec next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild src delete target java src delete target java delete main test exception run test runtest sourceroots next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild target java src target java target last time lasttime next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild main java src main java assert updated assertupdated main last time lasttime next increment nextincrement message spec messagespec message spec messagespec message spec messagespec new message list newmessagelist message main java delete file and do incremental build deletefileanddoincrementalbuild src target java message spec messagespec next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild main java src main java main test exception run test runtest change sources next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild main java src main java main test exception run test runtest change source next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild main java src app main java app main bug report plugged hole check contents directories classpath changed deciding incremental build implementation didn output location classpath test verifies test incremental okwith output path on classpath testincrementalokwithoutputpathonclasspath exception my state listener mystatelistener abstract state listener abstractstatelistener path change pathchange path change detected pathchangedetected path change pathchange about to compare classpaths abouttocompareclasspaths list old classpath oldclasspath list new classpath newclasspath detected class change in this dir detectedclasschangeinthisdir file build successful buildsuccessful was full build wasfullbuild my state listener mystatelistener my state listener mystatelistener aj state ajstate state listener statelistener run test runtest change source next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild main java src app main java assert true asserttrue expect path change detected path change pathchange app main aj state ajstate state listener statelistener test exception run test runtest incrementally change string literal expect advice last time lasttime next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild main java src package one packageone main java assert updated assertupdated package one packageone main last time lasttime package one packageone main string longer package one packageone main main main package one packageone main test exception run test runtest add aspect source file check rewoven next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild detour java src detour java assert added assertadded detour main test exception run test runtest additional classes generated weave deleted src file next increment nextincrement assert true asserttrue advice on introduced adviceonintroduced ajc closure ajcclosure exists file ajc get sandbox directory getsandboxdirectory advice on introduced adviceonintroduced ajc closure ajcclosure exists delete file and do incremental build deletefileanddoincrementalbuild src advice on introduced adviceonintroduced java assert deleted assertdeleted advice on introduced adviceonintroduced ajc closure ajcclosure test exception run test runtest incremental aspect driven full rebuild next increment nextincrement message spec messagespec message spec messagespec message spec messagespec new message list newmessagelist message main java copy file and do incremental build copyfileanddoincrementalbuild aspect java src aspect java message spec messagespec main test incremental resource addition to in path testincrementalresourceadditiontoinpath exception run test runtest incremental addition resource inpath directory run result runresult result assert true asserttrue advised result get std out getstdout index of indexof next increment nextincrement assert false assertfalse resource file exist file ajc get sandbox directory getsandboxdirectory aresource file aresourcefile txt exists copy file and do incremental build copyfileanddoincrementalbuild aresource file aresourcefile txt indir aresource file aresourcefile txt resources copied inpath directories assert false assertfalse resource file exist file ajc get sandbox directory getsandboxdirectory aresource file aresourcefile txt exists test addition of resource to in jar testadditionofresourcetoinjar exception run test runtest incremental addition resource inpath jar next increment nextincrement assert false assertfalse resource file exist file ajc get sandbox directory getsandboxdirectory aresource file aresourcefile txt exists copy file and do incremental build copyfileanddoincrementalbuild my jar myjar jar my jar myjar jar resources copied inpath jars assert added assertadded aresource file aresourcefile txt test removal of resource from in jar testremovalofresourcefrominjar exception run test runtest incremental removal resource inpath jar next increment nextincrement assert added assertadded aresource file aresourcefile txt copy file and do incremental build copyfileanddoincrementalbuild my jar myjar jar my jar myjar jar resources copied inpath jars assert deleted assertdeleted aresource file aresourcefile txt test addition of class to in path jar testadditionofclasstoinpathjar exception run test runtest incremental addition inpath jar next increment nextincrement assert false assertfalse exist file ajc get sandbox directory getsandboxdirectory exists copy file and do incremental build copyfileanddoincrementalbuild my jar myjar jar my jar myjar jar assert added assertadded test removal of class from in path jar testremovalofclassfrominpathjar exception run test runtest incremental removal inpath jar next increment nextincrement assert added assertadded copy file and do incremental build copyfileanddoincrementalbuild my jar myjar jar my jar myjar jar assert deleted assertdeleted test addition of class to in jar jar testadditionofclasstoinjarjar exception run test runtest incremental addition injar jar next increment nextincrement assert false assertfalse exist file ajc get sandbox directory getsandboxdirectory exists copy file and do incremental build copyfileanddoincrementalbuild my jar myjar jar my jar myjar jar assert added assertadded test removal of class from in jar jar testremovalofclassfrominjarjar exception run test runtest incremental removal injar jar next increment nextincrement assert added assertadded copy file and do incremental build copyfileanddoincrementalbuild my jar myjar jar my jar myjar jar assert deleted assertdeleted test addition of class to in path dir testadditionofclasstoinpathdir exception run test runtest incremental addition inpath dir next increment nextincrement assert false assertfalse exist file ajc get sandbox directory getsandboxdirectory exists copy file and do incremental build copyfileanddoincrementalbuild indir assert added assertadded test removal of class from in path dir testremovalofclassfrominpathdir exception run test runtest incremental removal inpath dir next increment nextincrement assert added assertadded delete file and do incremental build deletefileanddoincrementalbuild indir assert deleted assertdeleted test update of class in in path dir testupdateofclassininpathdir exception run test runtest incremental update inpath dir next increment nextincrement run result runresult assert true asserttrue get std out getstdout starts with startswith copy file and do incremental build copyfileanddoincrementalbuild indir run result runresult assert true asserttrue updated get std out getstdout starts with startswith updated test uses pointcut rels when referring to pctin testusespointcutrelswhenreferringtopctin nd file ndfile exception run test runtest npe gen handle identifier genhandleidentifier next increment nextincrement copy file and do incremental build copyfileanddoincrementalbuild src test persisting deow testpersistingdeow exception run test runtest incremental declare error persists copy file and do incremental build copyfileanddoincrementalbuild aspect java src pack aspect java next increment nextincrement run result runresult pack main