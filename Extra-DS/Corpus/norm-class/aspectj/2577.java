copyright xerox corporation palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation wes isberg updates org aspectj testing harness bridge java print stream printstream java util array list arraylist java util arrays java util bit set bitset java util iterator java util list java util list iterator listiterator org aspectj bridge imessage org aspectj bridge imessage handler imessagehandler org aspectj bridge imessage holder imessageholder org aspectj bridge isource location isourcelocation org aspectj bridge message org aspectj bridge message handler messagehandler org aspectj bridge message util messageutil org aspectj testing irun iterator iruniterator org aspectj testing util bridge util bridgeutil org aspectj testing util options option org aspectj testing util options options org aspectj testing util options values org aspectj testing util options option invalid input exception invalidinputexception org aspectj testing xml ixml writable ixmlwritable org aspectj testing xml soft message softmessage org aspectj testing xml xmlwriter org aspectj util lang util langutil base initialization components expecting messages options files paths source locations resolved files child spec initialization defines bean xml setters converts string imessage link message util messageutil read message readmessage string string isource location isourcelocation link bridge util bridgeutil make source location makesourcelocation input apis input form limitations spec accepts rejects runtime configuration parent link adopt parent values adoptparentvalues imessage handler imessagehandler children spec balk parent spec link get children getchildren full list children spec link get working children getworkingchildren list children skipped runtime configuration subclassing subclasses wishing behavior reading string input override bean setter override add foo methods notice modify objects constructed input bean properties designed work standard java bean introspection care follow bean rules adding methods property illegal setter takes type getter returns list array getters named property list array xml readers silently fail property trace property write method read coordination writers reads contents values written ixml writable ixmlwritable ensure values readable flattening unflattening lists convention flatten list flattenlist methods xmlwriter xmlwriter unflatten list unflattenlist string xmlwriter flatten list flattenlist list abstract run spec abstractrunspec irun spec irunspec expect staging directory is staging isstaging spec permits bad input test error handling bad input badinput string description optional source location specification isource location isourcelocation source location sourcelocation bit set bitset skip set skipset skip all skipall nonfinal clone string xml element name xmlelementname array list arraylist string keywords imessage holder imessageholder imessage messages array list arraylist string options array list arraylist string paths xxxxxunused array list arraylist isource location isourcelocation source locations sourcelocations xxx remove array list arraylist irun spec irunspec children array list arraylist dir changes dirchanges spec dir changes dirchanges xmlnames xml names xmlnames string comment options spec runtime saved runtime child skip skip nonfinal cloning skip if any child skipped skipifanychildskipped abstract run spec abstractrunspec string xml element name xmlelementname xml element name xmlelementname abstract run spec abstractrunspec string xml element name xmlelementname skip if any child skipped skipifanychildskipped xml element name xmlelementname xml element name xmlelementname spec xml element name xmlelementname xml element name xmlelementname messages message handler messagehandler options array list arraylist paths array list arraylist xxxxxunused source locations sourcelocations array list arraylist keywords array list arraylist children array list arraylist dir changes dirchanges array list arraylist xml names xmlnames xmlnames runtime skip if any child skipped skipifanychildskipped skip if any child skipped skipifanychildskipped param comment set comment setcomment string comment lang util langutil is empty isempty comment comment comment set staging setstaging staging is staging isstaging staging set bad input setbadinput bad input badinput bad input badinput bad input badinput is staging isstaging is staging isstaging description title label set description setdescription string description description description string get description getdescription description source location spec set source location setsourcelocation isource location isourcelocation source location sourcelocation source location sourcelocation source location sourcelocation isource location isourcelocation get source location getsourcelocation source location sourcelocation keywords param keyword trimming empty set keyword setkeyword string keyword add keyword addkeyword keyword add keyword empty duplicate add keyword addkeyword string keyword lang util langutil is empty trimmed isemptytrimmed keyword keyword keyword trim keywords keyword keywords add keyword set keywords setkeywords string items add keywords addkeywords items add keywords addkeywords string items items add keywords addkeywords xmlwriter unflatten list unflattenlist items add keywords addkeywords string length add keyword addkeyword array list arraylist get keywords list getkeywordslist make list makelist keywords options string args array list arraylist string options array list arraylist get options list getoptionslist make list makelist options string options string get options array getoptionsarray string options to array toarray string set option setoption string option add option addoption option add option addoption string option option option length options add option add options xml bean removes existing options set options setoptions string items options clear add options addoptions items options removing existing options param options string options empty set options array setoptionsarray string options options clear lang util langutil is empty isempty options options add all addall arrays as list aslist options add options addoptions string items items add options addoptions xmlwriter unflatten list unflattenlist items add options addoptions string length add option addoption string paths array list arraylist string paths array list arraylist get paths list getpathslist make list makelist paths string paths string get paths array getpathsarray string paths to array toarray string set path setpath string path add path addpath path set paths setpaths string paths add paths addpaths paths add path addpath string path path paths add path add paths addpaths string items items add paths addpaths xmlwriter unflatten list unflattenlist items add paths addpaths string length add path addpath dir add dir changes adddirchanges dir changes dirchanges spec dir changes spec dirchangesspec dir changes spec dirchangesspec dir changes dirchanges add dir changes spec dirchangesspec messages set message setmessage string message add message addmessage message add message addmessage imessage message message messages handle message handlemessage message string invalid message message illegal argument exception illegalargumentexception add message addmessage string message message add message addmessage bridge util bridgeutil read message readmessage message work item internal comma add messages addmessages string items items string xmlwriter unflatten list unflattenlist items length add message addmessage add messages addmessages list messages messages iterator iter messages iterator iter has next hasnext object iter imessage add message addmessage imessage string message add message addmessage message imessage warning number message kind optionally greater num messages nummessages imessage kind kind or greater orgreater messages num messages nummessages kind or greater orgreater imessage holder imessageholder get messages getmessages messages add child addchild irun spec irunspec child affect initialization child child children add child copy children list array list arraylist get children getchildren make list makelist children copy children list children skip array list arraylist get working children getworkingchildren skip all skipall array list arraylist skip set skipset get children getchildren array list arraylist result array list arraylist iterator iter children list iterator listiterator iter has next hasnext object child iter skip set skipset result add child result recursively absorb parent values implementation calls do adopt parent values doadoptparentvalues calls children skipped children determined children elect balk point reducing number children causing spec skip skip if any children skipped skipifanychildrenskipped test skipped do adopt parent values doadoptparentvalues child adopt parent values adoptparentvalues add info message reason skipped reason override invoke children children abstract run spec abstractrunspec param parent runtime parentruntime values adopt param handler imessage handler imessagehandler info messages skipping skipped adopt parent values adoptparentvalues parent runtime parentruntime imessage handler imessagehandler handler skipped skip all skipall skip set skipset bit set bitset parent runtime parentruntime skipped do adopt parent values doadoptparentvalues parent runtime parentruntime handler skipped skip if any child skipped skipifanychildskipped checking skip all skipall list iterator listiterator iter children list iterator listiterator iter has next hasnext irun spec irunspec child irun spec irunspec iter child abstract run spec abstractrunspec abstract run spec abstractrunspec ars child arschild abstract run spec abstractrunspec child ars child arschild adopt parent values adoptparentvalues runtime handler skip set skipset skipped skipped skip if any child skipped skipifanychildskipped checking skip all skipall adopt parent values implementation local copy interpret absorb options removed parent runtime parentruntime sets verbose override adopts parent options parentoptions adds options don setting verbose adding parent options implementors override affect parent values implementors recurse children method called multiple times implementors destroy spec add info message returning skip param parent runtime parentruntime values adopt skipped do adopt parent values doadoptparentvalues parent runtime parentruntime imessage handler imessagehandler handler runtime verbose parent runtime parentruntime verbose runtime verbose parent runtime parentruntime verbose lang util langutil is empty isempty runtime parent options parentoptions runtime parent options parentoptions clear lang util langutil is empty isempty parent runtime parentruntime parent options parentoptions runtime parent options parentoptions add all addall parent runtime parentruntime parent options parentoptions implementations call signalling skips ensure consistency message formatting param handler imessage handler imessagehandler sink param reason string reason skip skip message skipmessage imessage handler imessagehandler handler string reason lang util langutil throw iax if null throwiaxifnull handler handler lang util langutil throw iax if null throwiaxifnull handler reason xxx runs label identify test string label to string tostring message util messageutil info handler skipping label reason writing xml prefer castor control xml output renaming suppressing output attributes subelements subelements skipped setting xmlnames booleans attributes skipped setting param names xmlnames names suppress flags set xmlnames setxmlnames xmlnames names names xml names xmlnames names string make attr makeattr xmlwriter string string xmlwriter make attribute makeattribute list empty flattened list flattenedlist string make attr makeattr xmlwriter string list list lang util langutil is empty isempty list string flat xmlwriter flatten list flattenlist list xmlwriter make attribute makeattribute flat write attributes writeattributes produce output have attributes haveattributes lang util langutil is empty isempty xml names xmlnames description name descriptionname lang util langutil is empty isempty description lang util langutil is empty isempty xml names xmlnames keywords name keywordsname lang util langutil is empty isempty keywords lang util langutil is empty isempty xml names xmlnames options name optionsname lang util langutil is empty isempty options lang util langutil is empty isempty xml names xmlnames paths name pathsname lang util langutil is empty isempty paths write attributes opening closing elements attributes attribute written empty xml names xmlnames empty write attributes writeattributes xmlwriter lang util langutil is empty isempty xml names xmlnames description name descriptionname lang util langutil is empty isempty description print attribute printattribute xml names xmlnames description name descriptionname description lang util langutil is empty isempty xml names xmlnames keywords name keywordsname lang util langutil is empty isempty keywords print attribute printattribute xml names xmlnames keywords name keywordsname xmlwriter flatten list flattenlist keywords lang util langutil is empty isempty xml names xmlnames options name optionsname lang util langutil is empty isempty options print attribute printattribute xml names xmlnames options name optionsname xmlwriter flatten list flattenlist options lang util langutil is empty isempty xml names xmlnames paths name pathsname lang util langutil is empty isempty paths print attribute printattribute xml names xmlnames paths name pathsname xmlwriter flatten list flattenlist paths lang util langutil is empty isempty xml names xmlnames comment name commentname lang util langutil is empty isempty comment print attribute printattribute xml names xmlnames comment name commentname comment is staging isstaging lang util langutil is empty isempty xml names xmlnames staging name stagingname print attribute printattribute xml names xmlnames staging name stagingname bad input badinput lang util langutil is empty isempty xml names xmlnames bad input name badinputname print attribute printattribute xml names xmlnames bad input name badinputname implementation writes attributes subelements dir changes dirchanges messages subelements children subclasses override delegate subclasses xmlnames suppress attribute subelement write messages writemessages xmlwriter write children writechildren xmlwriter ixml writable ixmlwritable write xml writexml xmlwriter write xml writexml xmlwriter start element startelement xml element name xmlelementname write attributes writeattributes end attributes endattributes xml names xmlnames skip messages skipmessages write messages writemessages xml names xmlnames skip children skipchildren write children writechildren end element endelement xml element name xmlelementname write messages assumes attributes closed write child elements current element write messages writemessages xmlwriter messages num messages nummessages soft message softmessage write xml writexml messages write children assumes attributes closed write child elements current element write children writechildren xmlwriter children size iterator iter children iterator iter has next hasnext ixml writable ixmlwritable ixml writable ixmlwritable iter write xml writexml logging print all printall print stream printstream string prefix println prefix to string tostring iterator iter children iterator iter has next hasnext irun spec irunspec abstract run spec abstractrunspec child abstract run spec abstractrunspec iter child print all printall prefix implementation returns description empty unqualified subclasses call to string tostring reimplement type string get print name getprintname lang util langutil is empty isempty description description lang util langutil unqualified class name unqualifiedclassname summary count spec elements string to string tostring get print name getprintname contained summary containedsummary string form options paths locations messages string contained summary containedsummary string buffer stringbuffer result string buffer stringbuffer add list count addlistcount options options result add list count addlistcount paths paths result xxxxxunused add list count addlistcount source locations sourcelocations source locations sourcelocations result list messages list messageslist messages get unmodifiable list view getunmodifiablelistview add list count addlistcount messages messages list messageslist result result to string tostring trim string to long string tolongstring string mssg messages num messages nummessages mssg expected messages message util messageutil render counts rendercounts messages get print name getprintname contained to long string containedtolongstring mssg trim string form options paths locations messages string contained to long string containedtolongstring string buffer stringbuffer result string buffer stringbuffer add list entries addlistentries options options result add list entries addlistentries paths paths result xxxxxunused add list entries addlistentries source locations sourcelocations source locations sourcelocations result list messages list messageslist messages get unmodifiable list view getunmodifiablelistview add list entries addlistentries messages messages list messageslist result result to string tostring init clone initclone abstract run spec abstractrunspec spec clone not supported exception clonenotsupportedexception clone objects read spec bad input badinput bad input badinput spec children clear iterator iter children iterator iter has next hasnext clone irun spec irunspec child irun spec irunspec iter require child classes support clone child abstract run spec abstractrunspec spec add child addchild abstract run spec abstractrunspec abstract run spec abstractrunspec child clone error unable clone child spec comment comment spec description description spec dir changes dirchanges clear spec dir changes dirchanges add all addall dir changes dirchanges spec is staging isstaging spec is staging isstaging spec keywords clear spec keywords add all addall keywords spec messages clear messages clearmessages message util messageutil handle all handleall spec messages messages spec options clear spec options add all addall options spec paths clear spec paths add all addall paths spec runtime copy runtime spec skip all skipall skip all skipall spec skip if any child skipped skipifanychildskipped skip if any child skipped skipifanychildskipped skip set skipset spec skip set skipset bit set bitset spec skip set skipset skip set skipset spec source location sourcelocation source location sourcelocation spec source locations sourcelocations clear xxxxxunused spec source locations sourcelocations add all addall source locations sourcelocations spec xml element name xmlelementname xml element name xmlelementname spec xml names xmlnames abstract run spec abstractrunspec xmlnames xml names xmlnames clone add list count addlistcount string list list string buffer stringbuffer sink size list size list size sink append size sink append add list entries addlistentries string list list string buffer stringbuffer sink list list size sink append list size sink append sink append sink append list to string tostring array list arraylist make list makelist list list array list arraylist result array list arraylist list result add all addall list result subclasses rename attributes omit attributes subelements suppress output attribute pass attribute entries pass entry xxx replaced nested properties logical actual placeholders unused xmlnames xmlnames xmlnames description source location sourcelocation keywords options paths comment staging bad input badinput string description name descriptionname string source location name sourcelocationname string keywords name keywordsname string options name optionsname string paths name pathsname string comment name commentname string staging name stagingname string bad input name badinputname skip dir changes skipdirchanges skip messages skipmessages skip children skipchildren object clone xmlnames description name descriptionname source location name sourcelocationname keywords name keywordsname options name optionsname paths name pathsname comment name commentname staging name stagingname bad input name badinputname skip dir changes skipdirchanges skip messages skipmessages skip children skipchildren reset names behavior pass default names defaultnames defaults elements xmlnames xmlnames default names defaultnames string description name descriptionname string source location name sourcelocationname string keywords name keywordsname string options name optionsname string paths name pathsname string comment name commentname string staging name stagingname string bad input name badinputname skip dir changes skipdirchanges skip messages skipmessages skip children skipchildren skip dir changes skipdirchanges skip dir changes skipdirchanges skip messages skipmessages skip messages skipmessages skip children skipchildren skip children skipchildren default names defaultnames description name descriptionname description name descriptionname description name descriptionname default names defaultnames description name descriptionname source location name sourcelocationname source location name sourcelocationname source location name sourcelocationname default names defaultnames source location name sourcelocationname keywords name keywordsname keywords name keywordsname keywords name keywordsname default names defaultnames keywords name keywordsname options name optionsname options name optionsname options name optionsname default names defaultnames options name optionsname paths name pathsname paths name pathsname paths name pathsname default names defaultnames paths name pathsname comment name commentname comment name commentname comment name commentname default names defaultnames comment name commentname staging name stagingname staging name stagingname staging name stagingname default names defaultnames staging name stagingname bad input name badinputname bad input name badinputname bad input name badinputname default names defaultnames bad input name badinputname description name descriptionname description name descriptionname source location name sourcelocationname source location name sourcelocationname keywords name keywordsname keywords name keywordsname options name optionsname options name optionsname paths name pathsname paths name pathsname comment name commentname comment name commentname staging name stagingname staging name stagingname bad input name badinputname bad input name badinputname subclasses implement create irun iterator iruniterator make run iterator makeruniterator sandbox sandbox validator validator segregate runtime spec emit verbose messages verbose parent options children array list arraylist string parent options parentoptions parent options parentoptions array list arraylist is verbose isverbose verbose parent options options destroyed result duplicates duplicates empty entries param options empty set options setoptions string options parent options parentoptions clear lang util langutil is empty isempty options options length lang util langutil is empty isempty options parent options parentoptions add options copy values param to copy tocopy copy illegal argument exception illegalargumentexception to copy tocopy copy to copy tocopy lang util langutil throw iax if null throwiaxifnull to copy tocopy parent parent options parentoptions clear parent options parentoptions add all addall to copy tocopy parent options parentoptions verbose to copy tocopy verbose parent option accepted valid options validoptions optionally removing parent option param valid options validoptions string options extract param remove remove parent option matched string valid options validoptions parent options parentoptions values extract options extractoptions options valid options validoptions remove string buffer stringbuffer errors values result values empty errors errors string buffer stringbuffer valid options validoptions errors append options result lang util langutil is empty isempty parent options parentoptions result have option haveoption string parents string parent options parentoptions to array toarray string result valid options validoptions accept input acceptinput parents invalid input exception invalidinputexception errors append get full message getfullmessage result remove option values result as array asarray values length option values max option num arguments numarguments max max parents length errors append expecting args option arrays as list aslist parents result xxx verify max parent options parentoptions remove parents max result parent option valid options validoptions prefix optionally absorbing removing parent option param valid options validoptions string options extract param absorb remove parent option matched string valid options validoptions parent options parentoptions string extract options extractoptions string valid options validoptions absorb lang util langutil is empty isempty valid options validoptions lang util langutil is empty isempty parent options parentoptions string array list arraylist result array list arraylist have option haveoption valid options validoptions length string option valid options validoptions lang util langutil is empty isempty option list iterator listiterator iter parent options parentoptions list iterator listiterator iter has next hasnext string parent option parentoption string iter parent option parentoption starts with startswith option result add parent option parentoption absorb iter remove string result to array toarray string list iterator listiterator permits removals list iterator listiterator get list iterator getlistiterator parent options parentoptions list iterator listiterator enable verbose logging param verbose verbose logging set verbose setverbose verbose verbose verbose verbose verbose