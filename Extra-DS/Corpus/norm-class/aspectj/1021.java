copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation org aspectj weaver patterns java data output stream dataoutputstream java ioexception java util array list arraylist java util collections java util iterator java util list java util map org aspectj bridge imessage org aspectj bridge isource location isourcelocation org aspectj bridge message org aspectj weaver isource context isourcecontext org aspectj weaver resolved type resolvedtype org aspectj weaver unresolved type unresolvedtype org aspectj weaver versioned data input stream versioneddatainputstream org aspectj weaver weaver messages weavermessages org aspectj weaver declare parents declareparents declare type pattern typepattern child type pattern list typepatternlist parents is wild child iswildchild is extends isextends declare parents declareparents type pattern typepattern child list parents is extends isextends child type pattern list typepatternlist parents is extends isextends declare parents declareparents type pattern typepattern child type pattern list typepatternlist parents is extends isextends child child parents parents is extends isextends is extends isextends child wild type pattern wildtypepattern is wild child iswildchild string get type parameter names gettypeparameternames type variables in scope typevariablesinscope set type parameters in scope settypeparametersinscope string type parameters typeparameters type variables in scope typevariablesinscope type parameters typeparameters match resolved type resolvedtype type x typex child matches statically matchesstatically type x typex type x typex get world getworld get lint getlint type not exposed to weaver typenotexposedtoweaver is enabled isenabled type x typex is exposed to weaver isexposedtoweaver type x typex get world getworld get lint getlint type not exposed to weaver typenotexposedtoweaver signal type x typex get name getname get source location getsourcelocation object accept pattern node visitor patternnodevisitor visitor object data visitor visit data declare parameterize with parameterizewith map type variable binding map typevariablebindingmap declare parents declareparents ret declare parents declareparents child parameterize with parameterizewith type variable binding map typevariablebindingmap parents parameterize with parameterizewith type variable binding map typevariablebindingmap is extends isextends ret copy location from copylocationfrom ret string to string tostring string buffer stringbuffer buf string buffer stringbuffer buf append declare parents buf append child treated equivalently buf append is extends isextends buf append parents buf append buf to string tostring equals object declare parents declareparents declare parents declareparents declare parents declareparents child equals child parents equals parents cache hash code hashcode result result result child hash code hashcode result result parents hash code hashcode result write data output stream dataoutputstream ioexception write byte writebyte declare parents child write parents write write int writeint type variables in scope typevariablesinscope length type variables in scope typevariablesinscope length write utf writeutf type variables in scope typevariablesinscope write location writelocation declare read versioned data input stream versioneddatainputstream isource context isourcecontext context ioexception declare parents declareparents ret declare parents declareparents type pattern typepattern read context type pattern list typepatternlist read context get major version getmajorversion aj attribute ajattribute weaver version info weaverversioninfo weaver version major num type variables in scope numtypevariablesinscope read int readint ret type variables in scope typevariablesinscope string num type variables in scope numtypevariablesinscope num type variables in scope numtypevariablesinscope ret type variables in scope typevariablesinscope read utf readutf ret read location readlocation context ret parents include interface parentsincludeinterface parents size parents get exact type getexacttype resolve is interface isinterface parents include class parentsincludeclass parents size parents get exact type getexacttype resolve is class isclass resolve iscope scope scope with type variables scopewithtypevariables resolution scope resolutionscope scope with type variables scopewithtypevariables type variables in scope typevariablesinscope scope child child resolve bindings resolvebindings scope bindings parents parents resolve bindings resolvebindings scope bindings parents size parents assert exact type assertexacttype scope get message handler getmessagehandler type pattern list typepatternlist get parents getparents parents type pattern typepattern get child getchild child note deserialization doesn affect weaver is extends isextends is extends isextends is advice like isadvicelike resolved type resolvedtype maybe get new parent maybegetnewparent resolved type resolvedtype target type targettype type pattern typepattern type pattern typepattern report errors reporterrors error type pattern typepattern type pattern typepattern unresolved type unresolvedtype i type itype type pattern typepattern get exact type getexacttype resolved type resolvedtype parent type parenttype i type itype resolve target type targettype equals get core type getcoretype unresolved type unresolvedtype object show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages decp object get source location getsourcelocation alternate parameterization type parent type parenttype is parameterized type isparameterizedtype parent type parenttype is raw type israwtype parents is ok isok verify no inherited alternate parameterization verifynoinheritedalternateparameterization target type targettype parent type parenttype is ok isok parent parent type parenttype is assignable from isassignablefrom target type targettype enum types targetted decp wild type pattern linted report errors reporterrors is wild child iswildchild target type targettype is enum isenum get lint getlint enum as target for decp ignored enumastargetfordecpignored signal target type targettype to string tostring get source location getsourcelocation annotation types targetted decp wild type pattern linted report errors reporterrors is wild child iswildchild target type targettype is annotation isannotation get lint getlint annotation as target for decp ignored annotationastargetfordecpignored signal target type targettype to string tostring get source location getsourcelocation decp enum annotation type implement target type targettype is enum isenum parent type parenttype is interface isinterface report errors reporterrors is wild child iswildchild show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages decp enum impl target type targettype get source location getsourcelocation target type targettype is annotation isannotation parent type parenttype is interface isinterface report errors reporterrors is wild child iswildchild show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages decp annotation impl target type targettype get source location getsourcelocation decp change supertype enum annotation target type targettype is enum isenum parent type parenttype is class isclass report errors reporterrors is wild child iswildchild show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages decp enum extend target type targettype get source location getsourcelocation target type targettype is annotation isannotation parent type parenttype is class isclass report errors reporterrors is wild child iswildchild show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages decp annotation extend target type targettype get source location getsourcelocation decp declare java lang enum java lang annotation annotation parent type parent type parenttype get signature getsignature equals unresolved type unresolvedtype enum get signature getsignature report errors reporterrors is wild child iswildchild show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages decp enum supertype target type targettype get source location getsourcelocation parent type parenttype get signature getsignature equals unresolved type unresolvedtype annotation get signature getsignature report errors reporterrors is wild child iswildchild show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages decp annotation supertype target type targettype get source location getsourcelocation parent parent type parenttype is assignable from isassignablefrom target type targettype target type targettype is assignable from isassignablefrom parent type parenttype show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages extend target type targettype get name getname get source location getsourcelocation parent type parenttype is class isclass target type targettype is interface isinterface show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages extend get source location getsourcelocation handle xcutting errors target type targettype get superclass getsuperclass is assignable from isassignablefrom parent type parenttype show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages decp hierarchy error i type itype get name getname target type targettype get superclass getsuperclass get name getname get source location getsourcelocation parent type parenttype parent type parenttype method type hierarchy target type attempting find existing parameterization clashes parent user apply type finds existing parameterization matches silently completes finds clashes type string user add number produce error recursion exits recursion hitting jl object jlobject bugzilla entries verify no inherited alternate parameterization verifynoinheritedalternateparameterization resolved type resolvedtype type to verify typetoverify resolved type resolvedtype new parent newparent type to verify typetoverify equals resolved type resolvedtype object resolved type resolvedtype new parent generic type newparentgenerictype new parent newparent get generic type getgenerictype iterator iter type to verify typetoverify get direct supertypes getdirectsupertypes iter has next hasnext resolved type resolvedtype supertype resolved type resolvedtype iter supertype is raw type israwtype new parent newparent is parameterized type isparameterizedtype supertype is parameterized type isparameterizedtype new parent newparent is raw type israwtype new parent generic type newparentgenerictype equals supertype get generic type getgenerictype parent parameterized type raw type get message handler getmessagehandler handle message handlemessage message weaver messages weavermessages format weaver messages weavermessages decp multiple parameterizations new parent newparent get name getname type to verify typetoverify get name getname supertype get name getname get source location getsourcelocation isource location isourcelocation type to verify typetoverify get source location getsourcelocation supertype is parameterized type isparameterizedtype resolved type resolvedtype generictype supertype get generic type getgenerictype types compatible parameterizations problem generictype is assignable from isassignablefrom new parent generic type newparentgenerictype supertype is assignable from isassignablefrom new parent newparent get message handler getmessagehandler handle message handlemessage message weaver messages weavermessages format weaver messages weavermessages decp multiple parameterizations new parent newparent get name getname type to verify typetoverify get name getname supertype get name getname get source location getsourcelocation isource location isourcelocation type to verify typetoverify get source location getsourcelocation verify no inherited alternate parameterization verifynoinheritedalternateparameterization supertype new parent newparent list find matching new parents findmatchingnewparents resolved type resolvedtype resolved type resolvedtype on type ontype report errors reporterrors on type ontype is raw type israwtype on type ontype on type ontype get generic type getgenerictype match on type ontype collections empty list list ret array list arraylist parents size resolved type resolvedtype maybe get new parent maybegetnewparent on type ontype parents on type ontype get world getworld report errors reporterrors ret add ret string get name suffix getnamesuffix parents