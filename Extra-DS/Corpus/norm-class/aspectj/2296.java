copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation org aspectj weaver java util iterator java util list org aspectj apache bcel classfile field org aspectj apache bcel classfile method org aspectj apache bcel classfile utility org aspectj apache bcel type org aspectj asm asm manager asmmanager org aspectj asm ihierarchy org aspectj asm iprogram element iprogramelement org aspectj asm irelationship org aspectj asm irelationship map irelationshipmap org aspectj asm internal program element programelement org aspectj bridge isource location isourcelocation org aspectj bridge source location sourcelocation org aspectj weaver bcel bcel advice bceladvice asm relationship provider asmrelationshipprovider asm relationship provider asmrelationshipprovider instance asm relationship provider asmrelationshipprovider string advises advises string advised advised string declares declares string declaredy declared string softens softens string softened softened string matched matched string matches declare matches declare string inter type declares declared string inter type declared aspect declarations string annotates annotates string annotated annotated checker munger checkermunger ihierarchy model shadow shadow checker checker asm manager asmmanager is creating model iscreatingmodel shadow get source location getsourcelocation checker get source location getsourcelocation ensure node target exists iprogram element iprogramelement target node targetnode get node getnode asm manager asmmanager get default getdefault get hierarchy gethierarchy shadow string source handle sourcehandle asm manager asmmanager get default getdefault get handle provider gethandleprovider create handle identifier createhandleidentifier checker get source location getsourcelocation get source file getsourcefile checker get source location getsourcelocation get line getline checker get source location getsourcelocation get column getcolumn checker get source location getsourcelocation get offset getoffset string target handle targethandle asm manager asmmanager get default getdefault get handle provider gethandleprovider create handle identifier createhandleidentifier shadow get source location getsourcelocation get source file getsourcefile shadow get source location getsourcelocation get line getline shadow get source location getsourcelocation get column getcolumn shadow get source location getsourcelocation get offset getoffset irelationship map irelationshipmap mapper asm manager asmmanager get default getdefault get relationship map getrelationshipmap source handle sourcehandle target handle targethandle irelationship foreward mapper source handle sourcehandle irelationship kind declare matched foreward add target addtarget target handle targethandle foreward get targets gettargets add target handle targethandle irelationship mapper target handle targethandle irelationship kind declare matches declare get targets gettargets add target addtarget source handle sourcehandle get targets gettargets add source handle sourcehandle itds add relationship addrelationship resolved type resolvedtype on type ontype resolved type munger resolvedtypemunger munger resolved type resolvedtype originating aspect originatingaspect asm manager asmmanager is creating model iscreatingmodel string source handle sourcehandle munger get source location getsourcelocation source handle sourcehandle asm manager asmmanager get default getdefault get handle provider gethandleprovider create handle identifier createhandleidentifier munger get source location getsourcelocation get source file getsourcefile munger get source location getsourcelocation get line getline munger get source location getsourcelocation get column getcolumn munger get source location getsourcelocation get offset getoffset source handle sourcehandle asm manager asmmanager get default getdefault get handle provider gethandleprovider create handle identifier createhandleidentifier originating aspect originatingaspect get source location getsourcelocation get source file getsourcefile originating aspect originatingaspect get source location getsourcelocation get line getline originating aspect originatingaspect get source location getsourcelocation get column getcolumn originating aspect originatingaspect get source location getsourcelocation get offset getoffset originating aspect originatingaspect get source location getsourcelocation string target handle targethandle asm manager asmmanager get default getdefault get handle provider gethandleprovider create handle identifier createhandleidentifier on type ontype get source location getsourcelocation get source file getsourcefile on type ontype get source location getsourcelocation get line getline on type ontype get source location getsourcelocation get column getcolumn on type ontype get source location getsourcelocation get offset getoffset irelationship map irelationshipmap mapper asm manager asmmanager get default getdefault get relationship map getrelationshipmap source handle sourcehandle target handle targethandle irelationship foreward mapper source handle sourcehandle irelationship kind declare inter type inter type declares foreward add target addtarget target handle targethandle foreward get targets gettargets add target handle targethandle irelationship mapper target handle targethandle irelationship kind declare inter type inter type declared add target addtarget source handle sourcehandle get targets gettargets add source handle sourcehandle add declare parents relationship adddeclareparentsrelationship isource location isourcelocation decp resolved type resolvedtype target type targettype list new parents newparents asm manager asmmanager is creating model iscreatingmodel string source handle sourcehandle asm manager asmmanager get default getdefault get handle provider gethandleprovider create handle identifier createhandleidentifier decp get source file getsourcefile decp get line getline decp get column getcolumn decp get offset getoffset iprogram element iprogramelement ipe asm manager asmmanager get default getdefault get hierarchy gethierarchy find element for handle findelementforhandle source handle sourcehandle string target handle targethandle asm manager asmmanager get default getdefault get handle provider gethandleprovider create handle identifier createhandleidentifier target type targettype get source location getsourcelocation get source file getsourcefile target type targettype get source location getsourcelocation get line getline target type targettype get source location getsourcelocation get column getcolumn target type targettype get source location getsourcelocation get offset getoffset irelationship map irelationshipmap mapper asm manager asmmanager get default getdefault get relationship map getrelationshipmap source handle sourcehandle target handle targethandle irelationship foreward mapper source handle sourcehandle irelationship kind declare inter type inter type declares foreward add target addtarget target handle targethandle irelationship mapper target handle targethandle irelationship kind declare inter type inter type declared add target addtarget source handle sourcehandle adds declare annotation relationship entities don source locs methods fields variants method entities structure model add declare annotation relationship adddeclareannotationrelationship isource location isourcelocation declare annotation location declareannotationlocation isource location isourcelocation annotated location annotatedlocation asm manager asmmanager is creating model iscreatingmodel string source handle sourcehandle asm manager asmmanager get default getdefault get handle provider gethandleprovider create handle identifier createhandleidentifier declare annotation location declareannotationlocation get source file getsourcefile declare annotation location declareannotationlocation get line getline declare annotation location declareannotationlocation get column getcolumn declare annotation location declareannotationlocation get offset getoffset iprogram element iprogramelement declare annotation pe declareannotationpe asm manager asmmanager get default getdefault get hierarchy gethierarchy find element for handle findelementforhandle source handle sourcehandle string target handle targethandle asm manager asmmanager get default getdefault get handle provider gethandleprovider create handle identifier createhandleidentifier annotated location annotatedlocation get source file getsourcefile annotated location annotatedlocation get line getline annotated location annotatedlocation get column getcolumn annotated location annotatedlocation get offset getoffset irelationship map irelationshipmap mapper asm manager asmmanager get default getdefault get relationship map getrelationshipmap source handle sourcehandle target handle targethandle irelationship foreward mapper source handle sourcehandle irelationship kind declare inter type annotates foreward add target addtarget target handle targethandle irelationship mapper target handle targethandle irelationship kind declare inter type annotated add target addtarget source handle sourcehandle advice munger advicemunger ihierarchy model shadow shadow shadow munger shadowmunger munger asm manager asmmanager is creating model iscreatingmodel munger advice advice advice advice munger advice get kind getkind is per entry isperentry advice get kind getkind is cflow iscflow todo irelationship map irelationshipmap mapper asm manager asmmanager get default getdefault get relationship map getrelationshipmap iprogram element iprogramelement target node targetnode get node getnode asm manager asmmanager get default getdefault get hierarchy gethierarchy shadow runtime test runtimetest bcel advice bceladvice munger has dynamic tests hasdynamictests work extra info inform interested uis iprogram element iprogramelement extra information extrainformation iprogram element iprogramelement extra information extrainformation string advice handle advicehandle advice get handle gethandle kind advice todo prob cvs advice kind advicekind advice munger get kind getkind set extra advice information setextraadviceinformation get name getname iprogram element iprogramelement advice element adviceelement asm manager asmmanager get default getdefault get hierarchy gethierarchy find element for handle findelementforhandle advice handle advicehandle advice element adviceelement set extra info setextrainfo advice handle advicehandle target node targetnode target node targetnode string target handle targethandle target node targetnode get handle identifier gethandleidentifier advice get kind getkind equals advice kind advicekind softener irelationship foreward mapper advice handle advicehandle irelationship kind declare soft softens runtime test runtimetest foreward get targets gettargets add target handle targethandle foreward foreward add target addtarget target handle targethandle irelationship mapper target handle targethandle irelationship kind declare softened runtime test runtimetest get targets gettargets add advice handle advicehandle add target addtarget advice handle advicehandle irelationship foreward mapper advice handle advicehandle irelationship kind advice advises runtime test runtimetest foreward get targets gettargets add target handle targethandle foreward foreward add target addtarget target handle targethandle irelationship mapper target handle targethandle irelationship kind advice advised runtime test runtimetest get targets gettargets add advice handle advicehandle add target addtarget advice handle advicehandle iprogram element iprogramelement get node getnode ihierarchy model shadow shadow member enclosing member enclosingmember shadow get enclosing code signature getenclosingcodesignature iprogram element iprogramelement enclosing node enclosingnode lookup member lookupmember model enclosing member enclosingmember enclosing node enclosingnode lint kind err shadow get iworld getiworld get lint getlint shadow not in structure shadownotinstructure err is enabled isenabled err signal shadow to string tostring shadow get source location getsourcelocation member shadow sig shadowsig shadow get signature getsignature shadow sig shadowsig equals enclosing member enclosingmember iprogram element iprogramelement body node bodynode find or create code node findorcreatecodenode enclosing node enclosingnode shadow sig shadowsig shadow body node bodynode enclosing node enclosingnode source lines match sourcelinesmatch isource location isourcelocation loc isource location isourcelocation loc loc get line getline loc get line getline iprogram element iprogramelement find or create code node findorcreatecodenode iprogram element iprogramelement enclosing node enclosingnode member shadow sig shadowsig shadow shadow iterator enclosing node enclosingnode get children getchildren iterator has next hasnext iprogram element iprogramelement node iprogram element iprogramelement shadow sig shadowsig get name getname equals node get bytecode name getbytecodename shadow sig shadowsig get signature getsignature equals node get bytecode signature getbytecodesignature source lines match sourcelinesmatch node get source location getsourcelocation shadow get source location getsourcelocation node isource location isourcelocation shadow get source location getsourcelocation xxx shadow file source location sourcelocation get source file getsourcefile get line getline source location sourcelocation pe loc peloc source location sourcelocation enclosing node enclosingnode get source location getsourcelocation get source file getsourcefile get line getline pe loc peloc set offset setoffset get offset getoffset iprogram element iprogramelement pe node penode program element programelement shadow to string tostring iprogram element iprogramelement kind code pe loc peloc pe node penode set bytecode name setbytecodename shadow sig shadowsig get name getname pe node penode set bytecode signature setbytecodesignature shadow sig shadowsig get signature getsignature enclosing node enclosingnode add child addchild pe node penode pe node penode iprogram element iprogramelement lookup member lookupmember ihierarchy model member member unresolved type unresolvedtype declaring type declaringtype member get declaring type getdeclaringtype iprogram element iprogramelement class node classnode model find element for type findelementfortype declaring type declaringtype get package name getpackagename declaring type declaringtype get class name getclassname find member in class findmemberinclass class node classnode member iprogram element iprogramelement find member in class findmemberinclass iprogram element iprogramelement class node classnode member member xxx remove check class node classnode iterator class node classnode get children getchildren iterator has next hasnext iprogram element iprogramelement node iprogram element iprogramelement member get name getname equals node get bytecode name getbytecodename member get signature getsignature equals node get bytecode signature getbytecodesignature node find member class node classnode iprogram element iprogramelement kind gen shadow kind genshadowkind shadow shadow iprogram element iprogramelement kind shadow kind shadowkind shadow get kind getkind shadow method call methodcall shadow get kind getkind shadow constructor call constructorcall shadow get kind getkind shadow field get fieldget shadow get kind getkind shadow field set fieldset shadow get kind getkind shadow exception handler exceptionhandler iprogram element iprogramelement kind code shadow get kind getkind shadow method execution methodexecution iprogram element iprogramelement kind method shadow get kind getkind shadow constructor execution constructorexecution iprogram element iprogramelement kind constructor shadow get kind getkind shadow pre initialization preinitialization shadow get kind getkind shadow initialization iprogram element iprogramelement kind shadow get kind getkind shadow advice execution adviceexecution iprogram element iprogramelement kind advice iprogram element iprogramelement kind error asm relationship provider asmrelationshipprovider get default getdefault instance reset instance intended extensibility enables subclass instance set default setdefault asm relationship provider asmrelationshipprovider instance instance instance add relationship declare method constructor construct locating method messy messy read fragile bit code moment working simple testcase fails silently lookup code doesn find add declare annotation relationship adddeclareannotationrelationship isource location isourcelocation source location sourcelocation string typename method method asm manager asmmanager is creating model iscreatingmodel string pkg string type typename package separator packageseparator typename last index of lastindexof package separator packageseparator pkg typename substring package separator packageseparator type typename substring package separator packageseparator iprogram element iprogramelement type elem typeelem asm manager asmmanager get default getdefault get hierarchy gethierarchy find element for type findelementfortype pkg type type elem typeelem string buffer stringbuffer parm string parmstring string buffer stringbuffer type args method get argument types getargumenttypes args length type type args string utility signature to string signaturetostring type get signature getsignature last index of lastindexof substring last index of lastindexof parm string parmstring append args length parm string parmstring append parm string parmstring append iprogram element iprogramelement method elem methodelem method get name getname starts with startswith init ctor method elem methodelem asm manager asmmanager get default getdefault get hierarchy gethierarchy find element for signature findelementforsignature type elem typeelem iprogram element iprogramelement kind constructor type parm string parmstring assume ctor method elem methodelem args length method elem methodelem type elem typeelem method method elem methodelem asm manager asmmanager get default getdefault get hierarchy gethierarchy find element for signature findelementforsignature type elem typeelem iprogram element iprogramelement kind method method get name getname parm string parmstring method elem methodelem string source handle sourcehandle asm manager asmmanager get default getdefault get handle provider gethandleprovider create handle identifier createhandleidentifier source location sourcelocation get source file getsourcefile source location sourcelocation get line getline source location sourcelocation get column getcolumn source location sourcelocation get offset getoffset string target handle targethandle method elem methodelem get handle identifier gethandleidentifier irelationship map irelationshipmap mapper asm manager asmmanager get default getdefault get relationship map getrelationshipmap source handle sourcehandle target handle targethandle irelationship foreward mapper source handle sourcehandle irelationship kind declare inter type annotates foreward add target addtarget target handle targethandle irelationship mapper target handle targethandle irelationship kind declare inter type annotated add target addtarget source handle sourcehandle throwable worried code don explode plays print stack trace printstacktrace add relationship declare field construct locating field trickier number info dig structure model fields type order locate fails silently lookup code doesn find add declare annotation relationship adddeclareannotationrelationship isource location isourcelocation source location sourcelocation string typename field field asm manager asmmanager is creating model iscreatingmodel string pkg string type typename package separator packageseparator typename last index of lastindexof package separator packageseparator pkg typename substring package separator packageseparator type typename substring package separator packageseparator iprogram element iprogramelement type elem typeelem asm manager asmmanager get default getdefault get hierarchy gethierarchy find element for type findelementfortype pkg type type elem typeelem iprogram element iprogramelement field elem fieldelem asm manager asmmanager get default getdefault get hierarchy gethierarchy find element for signature findelementforsignature type elem typeelem iprogram element iprogramelement kind field field get name getname field elem fieldelem string source handle sourcehandle asm manager asmmanager get default getdefault get handle provider gethandleprovider create handle identifier createhandleidentifier source location sourcelocation get source file getsourcefile source location sourcelocation get line getline source location sourcelocation get column getcolumn source location sourcelocation get offset getoffset string target handle targethandle field elem fieldelem get handle identifier gethandleidentifier irelationship map irelationshipmap mapper asm manager asmmanager get default getdefault get relationship map getrelationshipmap source handle sourcehandle target handle targethandle irelationship foreward mapper source handle sourcehandle irelationship kind declare inter type annotates foreward add target addtarget target handle targethandle irelationship mapper target handle targethandle irelationship kind declare inter type annotated add target addtarget source handle sourcehandle