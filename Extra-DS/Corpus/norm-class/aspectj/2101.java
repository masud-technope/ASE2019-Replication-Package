copyright xerox corporation palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation org aspectj internal tools ant taskdefs java file java print stream printstream java lang reflect invocation target exception invocationtargetexception java lang reflect method java lang reflect modifier org aspectj testing util lang util langutil wrapper invoke identified setting argument caller system property main wrapper mainwrapper classname fully qualified target invoke target resolvable defining loader argument code prop code adding command code dmain wrapper dmainwrapper classname fully qualified classname code returns unable load main method invoked method exception main wrapper mainwrapper fully qualified invoke property tracked ajctest java string prop main wrapper mainwrapper classname path classes diretory interpret names load classes tracked ajctest java string classdir main wrapper mainwrapper classdir disable returning system exit todo string signal exception main wrapper mainwrapper signal exception signalexception disable returning system exit throwable todo string fail exception main wrapper mainwrapper fail on exception failonexception quit exception todo controls yuck fail exception signal number exceptions signal exception redirect messages exceptions printed print stream printstream stream system err result accumulated multiple threads result target main args system exit number throwable target threw top level thread group threadgroup strictly speaking correct applications live exceptions thread exit exceptions loading target messages printed stream main string args string classname property prop method main setup block loading main method fail access classname jvm arg classname system get property getproperty prop fail classloader for name forname classname arg types argtypes string fail main method main get method getmethod main arg types argtypes modifier is static isstatic main get modifiers getmodifiers print stream printstream out stream outstream stream out stream outstream out stream outstream println main result user request loading classes string classes dir classesdir system get property getproperty classdir classes dir classesdir classes dir classesdir length main wrapper mainwrapper load all classes loadallclasses file classes dir classesdir throwable result result report exception reportexception setup throwable invoking classname block running throwable thread main result run in our thread group runinourthreadgroup main args throwable result result report exception reportexception throwable invoking classname result signal exception system exit result run in our thread group runinourthreadgroup method main string args string classname main get declaring class getdeclaringclass get name getname thread group threadgroup our group ourgroup thread group threadgroup main wrapper mainwrapper thread group threadgroup uncaught exception uncaughtexception thread throwable report exception reportexception uncaught exception uncaughtexception invoking classname result fail exception system exit signal exception result runnable runner runnable main invoke object args invocation target exception invocationtargetexception result report exception reportexception invocation target exception invocationtargetexception invoking classname illegal access exception illegalaccessexception result report exception reportexception illegal access exception illegalaccessexception invoking classname thread new main newmain thread our group ourgroup runner pseudo main new main newmain start new main newmain join interrupted exception interruptedexception result report exception reportexception interrupted waiting join new main newmain load classes directory error failed load all classes loadallclasses file classes dir classesdir classes dir classesdir string names lang util langutil classes in classesin classes dir classesdir string buffer stringbuffer err string buffer stringbuffer lang util langutil load classes loadclasses names err err length error main wrapper mainwrapper errors loading classes err to string tostring report exception reportexception string context throwable print stream printstream out stream outstream stream out stream outstream invocation target exception invocationtargetexception is assignable from isassignablefrom get class getclass invocation target exception invocationtargetexception get target exception gettargetexception out stream outstream println context context out stream outstream println message get message getmessage print stack trace printstacktrace out stream outstream main wrapper mainwrapper