copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation org aspectj internal tools ant taskdefs java buffered reader bufferedreader java file java file reader filereader java file writer filewriter java ioexception org apache tools ant build exception buildexception org apache tools ant task check version source file build version ensure tag file reflects version uptodate versionuptodate task version uptodate versionuptodate string build version buildversion file version source versionsource file version tag file versiontagfile param build version buildversion string expected version text required set version setversion string build version buildversion build version buildversion build version buildversion param version source versionsource file version java text constant required set version source file setversionsourcefile file version source versionsource version source versionsource version source versionsource param version tag file versiontagfile file existence signals version uptodate task executes required set version tag file setversiontagfile file version tag file versiontagfile version tag file versiontagfile version tag file versiontagfile version java source file correct build version create output tag file delete exists build exception buildexception tag file tagfile creatable version incorrect version correct tag file tagfile deleted execute build exception buildexception build version buildversion build exception buildexception require build version buildversion version source versionsource version source versionsource can read canread build exception buildexception require version source versionsource version tag file versiontagfile build exception buildexception require version tag file versiontagfile same version sameversion version source versionsource build version buildversion version tag file versiontagfile exists create file createfile version tag file versiontagfile build version buildversion version tag file versiontagfile build exception buildexception tag file version version tag file versiontagfile exists version tag file versiontagfile delete build exception buildexception version delete version tag file versiontagfile detect version correct java sources param version source versionsource param build version buildversion same version sameversion file version source versionsource string build version buildversion xxx build load scanning file reader filereader file reader filereader file reader filereader file reader filereader version source versionsource buffered reader bufferedreader reader buffered reader bufferedreader file reader filereader string reader read line readline loc index of indexof string text loc index of indexof build version buildversion loc ioexception file reader filereader file reader filereader close ioexception create file contents create file createfile file version tag file versiontagfile string contents file writer filewriter writer writer file writer filewriter version tag file versiontagfile buf contents length contents get chars getchars buf length buf writer write contents ioexception build exception buildexception writing version tag file versiontagfile writer writer close ioexception