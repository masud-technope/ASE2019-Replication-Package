copyright xerox corporation palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation org aspectj testing compare adapters org aspectj testing compare compare util compareutil java util comparator testing code java util java text collator adopts pairs comparator compare delegation selecting classes inputs assignable pair applies semantics compare util compareutil compare holds values values nulls equal note object equals reference equality sub type comparator subtypecomparator list delegates considered equal todo thread safe todo immutable list copy construction implement equals sub type comparator subtypecomparator comparator order sensitive comparators collection vector comparators copy comparators compare method struct cache constructor sub type comparator subtypecomparator comparators vector list comparators initial execution method param comparator comparator exists size comparators size size struct comparators element at elementat accepts copy comparators compare operation todo sync comparators struct get comparators getcomparators cache cache length comparators size cache struct comparators size comparators copy into copyinto cache cache add comparator pair delegate input assignable note additions checked order add lowest subtypes add comparator object match param accepts supertype objects accept param comparator comparator objects input represented add comparator addcomparator accepts comparator comparator accepts comparator accepts comparators add element addelement struct accepts comparator compare delegating input comparator input assignable pair enforces semantics compare util compareutil compare class cast exception classcastexception input assignable registered comparator compare object lhs object rhs result compare util compareutil compare lhs rhs integer max result lh class lhclass lhs get class getclass rh class rhclass rhs get class getclass struct comp get comparators getcomparators comp class compclass comp length comp class compclass comp accepts comp class compclass is assignable from isassignablefrom lh class lhclass comp class compclass is assignable from isassignablefrom lh class lhclass comp comparator compare lhs rhs class cast exception classcastexception string mssg unable find comparator lhs lh class lhclass get name getname rhs rh class rhclass get name getname class cast exception classcastexception mssg result unnecessary struct hold comparator pair preparation collections struct accepts comparator comparator param accepts accept input param comparator comparator compare input struct accepts comparator comparator accepts accepts comparator comparator delegate accept hashcode hash code hashcode accepts hash code hashcode warning fast comparison based accept key reference identity equals object struct accepts struct accepts test code test todo move run test runtest string args args args length args string sub type comparator subtypecomparator sub type comparator subtypecomparator string copy string args length system arraycopy args copy copy length list list arrays as list aslist args throwable result test list result class cast exception classcastexception is assignable from isassignablefrom result get class getclass system err println fail expected cce result add comparator addcomparator string collator get instance getinstance add comparator addcomparator object comparator compare object lhs object rhs error result test list result class cast exception classcastexception is assignable from isassignablefrom result get class getclass system err println fail unexpected cce result system err println fail unexpected throwable result heterogeneous pick object object temp object string integer result test arrays as list aslist temp result error is assignable from isassignablefrom result get class getclass system err println fail expected error result string buffer stringbuffer to print toprint print arrays as list aslist copy to print toprint append print list to print toprint system err println to print toprint to string tostring string buffer stringbuffer print list list string buffer stringbuffer string buffer stringbuffer append list iterator listiterator iter list list iterator listiterator iter has next hasnext append iter to string tostring iter has next hasnext append append comparison expected exception throwable test comparator list collections sort throwable test invoke test run test runtest args todo remove main string args test run test runtest args sub type comparator subtypecomparator