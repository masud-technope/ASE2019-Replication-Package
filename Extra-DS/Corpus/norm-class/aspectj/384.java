copyright ibm corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors ibm corporation initial api implementation org aspectj ajdt internal compiler java ioexception java util array list arraylist java util hash map hashmap java util iterator java util list java util map org aspectj ajdt internal compiler ast add at aspect jannotations visitor addataspectjannotationsvisitor org aspectj ajdt internal compiler ast validate at aspect jannotations visitor validateataspectjannotationsvisitor org aspectj ajdt internal compiler lookup eclipse factory eclipsefactory org aspectj ajdt internal core builder aj state ajstate org aspectj bridge imessage org aspectj bridge imessage handler imessagehandler org aspectj bridge iprogress listener iprogresslistener org aspectj bridge context compilation and weaving context compilationandweavingcontext org aspectj bridge context context token contexttoken org aspectj org eclipse jdt internal compiler compilation result compilationresult org aspectj org eclipse jdt internal compiler compiler org aspectj org eclipse jdt internal compiler ast compilation unit declaration compilationunitdeclaration org aspectj org eclipse jdt internal compiler env icompilation unit icompilationunit org aspectj org eclipse jdt internal compiler impl compiler options compileroptions org aspectj org eclipse jdt internal compiler problem abort compilation abortcompilation org aspectj weaver bcel bcel weaver bcelweaver org aspectj weaver bcel bcel world bcelworld org aspectj weaver patterns cflow pointcut cflowpointcut author colyer adapts standard jdt compiler add aspect j aspectj specific behaviours aj compiler adapter ajcompileradapter icompiler adapter icompileradapter compiler compiler bcel weaver bcelweaver weaver eclipse factory eclipsefactory e world eworld is batch compile isbatchcompile reported errors reportederrors is xterminate after compilation isxterminateaftercompilation proceed on error proceedonerror in java injava mode no at aspect jannotation processing noataspectjannotationprocessing iintermediate results requestor iintermediateresultsrequestor intermediate results requestor intermediateresultsrequestor iprogress listener iprogresslistener progress listener progresslistener ioutput class file name provider ioutputclassfilenameprovider output file name provider outputfilenameprovider ibinary source provider ibinarysourceprovider binary source provider binarysourceprovider weaver message handler weavermessagehandler weaver message handler weavermessagehandler map file name filename list unwoven class file unwovenclassfile binary source set for full weave binarysourcesetforfullweave hash map hashmap context token contexttoken processing token processingtoken context token contexttoken resolving token resolvingtoken context token contexttoken analysing token analysingtoken context token contexttoken generating token generatingtoken aj state ajstate incremental compilation state incrementalcompilationstate list interim result interimresult results pending weave resultspendingweave array list arraylist create adapter drive aspect j aspectj parts compile cycle param compiler jdt compiler produces files source param is batch compile isbatchcompile full build incremental param bcel world bcelworld type resolution weaving param weaver weaver param int requestor intrequestor recipient interim compilation compiler pre weave param output file name provider outputfilenameprovider implementor strategy providing output file names param binary source entries binarysourceentries binary source didn compile weave param result set for full weave resultsetforfullweave incremental build weaver determines weave intermediate passed weaver aj compiler adapter ajcompileradapter compiler compiler is batch compile isbatchcompile bcel world bcelworld bcel weaver bcelweaver weaver eclipse factory eclipsefactory e factory efactory iintermediate results requestor iintermediateresultsrequestor int requestor intrequestor iprogress listener iprogresslistener progress listener progresslistener ioutput class file name provider ioutputclassfilenameprovider output file name provider outputfilenameprovider ibinary source provider ibinarysourceprovider binary source provider binarysourceprovider map full binary source entries fullbinarysourceentries file name filename list unwoven class file unwovenclassfile is xterminate after compilation isxterminateaftercompilation proceed on error proceedonerror no at aspect jprocessing noataspectjprocessing aj state ajstate incremental compilation state incrementalcompilationstate compiler compiler is batch compile isbatchcompile is batch compile isbatchcompile weaver weaver intermediate results requestor intermediateresultsrequestor int requestor intrequestor progress listener progresslistener progress listener progresslistener output file name provider outputfilenameprovider output file name provider outputfilenameprovider binary source provider binarysourceprovider binary source provider binarysourceprovider is xterminate after compilation isxterminateaftercompilation is xterminate after compilation isxterminateaftercompilation proceed on error proceedonerror proceed on error proceedonerror binary source set for full weave binarysourcesetforfullweave full binary source entries fullbinarysourceentries e world eworld e factory efactory in java injava mode no at aspect jannotation processing noataspectjannotationprocessing no at aspect jprocessing noataspectjprocessing incremental compilation state incrementalcompilationstate incremental compilation state incrementalcompilationstate compiler options compliance level compliancelevel compiler options compileroptions jdk in java injava mode imessage handler imessagehandler msg handler msghandler get message handler getmessagehandler reset message handler create saves ton memory lost incremental compiles msg handler msghandler weaver message handler weavermessagehandler weaver message handler weavermessagehandler msg handler msghandler reset compiler resetcompiler compiler weaver message handler weavermessagehandler weaver message handler weavermessagehandler msg handler msghandler weaver message handler weavermessagehandler weaver message handler weavermessagehandler msg handler msghandler compiler set message handler setmessagehandler weaver message handler weavermessagehandler compilation lifecycle methods called order compilation progresses before compiling beforecompiling icompilation unit icompilationunit source units sourceunits results pending weave resultspendingweave array list arraylist reported errors reportederrors before processing beforeprocessing compilation unit declaration compilationunitdeclaration unit e world eworld show message showmessage imessage info compiling string unit get file name getfilename processing token processingtoken compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext processing compilation unit unit get file name getfilename in java injava mode no at aspect jannotation processing noataspectjannotationprocessing context token contexttoken tok compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext adding aspectj annotations unit get file name getfilename add at aspect jannotations visitor addataspectjannotationsvisitor at aspect jvisitor ataspectjvisitor add at aspect jannotations visitor addataspectjannotationsvisitor unit unit traverse at aspect jvisitor ataspectjvisitor unit scope compilation and weaving context compilationandweavingcontext leaving phase leavingphase tok before resolving beforeresolving compilation unit declaration compilationunitdeclaration unit resolving token resolvingtoken compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext resolving compilation unit unit get file name getfilename after resolving afterresolving compilation unit declaration compilationunitdeclaration unit resolving token resolvingtoken compilation and weaving context compilationandweavingcontext leaving phase leavingphase resolving token resolvingtoken before analysing beforeanalysing compilation unit declaration compilationunitdeclaration unit analysing token analysingtoken compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext analysing compilation unit unit get file name getfilename in java injava mode no at aspect jannotation processing noataspectjannotationprocessing validate at aspect jannotations visitor validateataspectjannotationsvisitor at aspect jvisitor ataspectjvisitor validate at aspect jannotations visitor validateataspectjannotationsvisitor unit unit traverse at aspect jvisitor ataspectjvisitor unit scope after analysing afteranalysing compilation unit declaration compilationunitdeclaration unit analysing token analysingtoken compilation and weaving context compilationandweavingcontext leaving phase leavingphase analysing token analysingtoken before generating beforegenerating compilation unit declaration compilationunitdeclaration unit generating token generatingtoken compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext generating unwoven code compilation unit unit get file name getfilename after generating aftergenerating compilation unit declaration compilationunitdeclaration unit generating token generatingtoken compilation and weaving context compilationandweavingcontext leaving phase leavingphase generating token generatingtoken after compiling aftercompiling compilation unit declaration compilationunitdeclaration units e world eworld cleanup is xterminate after compilation isxterminateaftercompilation reported errors reportederrors proceed on error proceedonerror point weaving requestor notify requestor notifyrequestor notification weave progresses weave weaver get world getworld flush ioexception abort compilation abortcompilation abort compilation abortcompilation runtime exception runtimeexception r ex rex r ex rex abort compilation abortcompilation r ex rex abort compilation abortcompilation r ex rex after processing afterprocessing compilation unit declaration compilationunitdeclaration unit unit index unitindex compilation and weaving context compilationandweavingcontext leaving phase leavingphase processing token processingtoken e world eworld finished compilation unit finishedcompilationunit unit interim compilation result interimcompilationresult int res intres interim compilation result interimcompilationresult unit compilation result compilationresult output file name provider outputfilenameprovider unit compilation result compilationresult has errors haserrors reported errors reportederrors intermediate results requestor intermediateresultsrequestor intermediate results requestor intermediateresultsrequestor accept result acceptresult int res intres is xterminate after compilation isxterminateaftercompilation accept result acceptresult unit compilation result compilationresult results pending weave resultspendingweave add int res intres before resolving beforeresolving compilation unit declaration compilationunitdeclaration unit icompilation unit icompilationunit source unit sourceunit verify methods verifymethods analyze code analyzecode generate code generatecode results pending weave resultspendingweave array list arraylist reported errors reportederrors after resolving afterresolving compilation unit declaration compilationunitdeclaration unit icompilation unit icompilationunit source unit sourceunit verify methods verifymethods analyze code analyzecode generate code generatecode interim compilation result interimcompilationresult int res intres interim compilation result interimcompilationresult unit compilation result compilationresult output file name provider outputfilenameprovider unit compilation result compilationresult has errors haserrors reported errors reportederrors is xno weave isxnoweave generate code generatecode accept result acceptresult unit compilation result compilationresult generate code generatecode results pending weave resultspendingweave add int res intres weave ioexception abort compilation abortcompilation abort compilation abortcompilation helper methods called weaver adapter weaveradapter finished weaving files compilation result accept result acceptresult compilation result compilationresult result compiler requestor accept result acceptresult result tag as accepted tagasaccepted compiler units to process unitstoprocess compiler units to process unitstoprocess length compiler units to process unitstoprocess compiler units to process unitstoprocess compilation result compilationresult result compiler units to process unitstoprocess list get binary sources from getbinarysourcesfrom map binary source entries binarysourceentries map file name filename list unwoven class file unwovenclassfile list ret array list arraylist iterator bin iter biniter binary source entries binarysourceentries key set keyset iterator bin iter biniter has next hasnext string source file name sourcefilename string bin iter biniter list unwoven class files unwovenclassfiles list binary source entries binarysourceentries source file name sourcefilename xxx bugs parameter call compiler options max problems per unit maxproblemsperunit compilation result compilationresult result compilation result compilationresult source file name sourcefilename to char array tochararray integer max result no source available nosourceavailable interim compilation result interimcompilationresult binary source binarysource interim compilation result interimcompilationresult result unwoven class files unwovenclassfiles ret add binary source binarysource ret notify requestor notifyrequestor iterator iter results pending weave resultspendingweave iterator iter has next hasnext interim compilation result interimcompilationresult iresult interim compilation result interimcompilationresult iter compiler requestor accept result acceptresult iresult result tag as accepted tagasaccepted weave ioexception ensure weaver correctly iterator iter results pending weave resultspendingweave iterator iter has next hasnext interim compilation result interimcompilationresult iresult interim compilation result interimcompilationresult iter iresult unwoven class files unwovenclassfiles length weaver add class file addclassfile iresult unwoven class files unwovenclassfiles weaver prepare for weave prepareforweave weaver need to reweave world needtoreweaveworld is batch compile isbatchcompile force full recompilation source incremental compilation state incrementalcompilationstate force batch build next time around forcebatchbuildnexttimearound add all known classes to weave list addallknownclassestoweavelist batch list results pending weave resultspendingweave add all addall get binary sources from getbinarysourcesfrom binary source set for full weave binarysourcesetforfullweave map binary sources to add binarysourcestoadd binary source provider binarysourceprovider get binary sources for this weave getbinarysourcesforthisweave results pending weave resultspendingweave add all addall get binary sources from getbinarysourcesfrom binary sources to add binarysourcestoadd weaver weave weaver adapter weaveradapter weaver message handler weavermessagehandler progress listener progresslistener point weaving finished clear caches cflow pointcut cflowpointcut clear caches clearcaches weaver tidy up tidyup imessage handler imessagehandler imh weaver get world getworld get message handler getmessagehandler imh weaver message handler weavermessagehandler weaver message handler weavermessagehandler imh reset compiler resetcompiler