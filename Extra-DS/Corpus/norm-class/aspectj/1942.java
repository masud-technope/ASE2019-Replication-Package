copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation org aspectj weaver bcel java lang reflect modifier java util array list arraylist java util collection java util collections java util comparator java util hash map hashmap java util hash set hashset java util iterator java util list java util map java util properties java util org aspectj apache bcel constants org aspectj apache bcel classfile field org aspectj apache bcel classfile method org aspectj apache bcel classfile annotation annotation org aspectj apache bcel anewarray org aspectj apache bcel branch instruction branchinstruction org aspectj apache bcel cpinstruction org aspectj apache bcel constant pool gen constantpoolgen org aspectj apache bcel field gen fieldgen org aspectj apache bcel field instruction fieldinstruction org aspectj apache bcel invokespecial org aspectj apache bcel indexed instruction indexedinstruction org aspectj apache bcel instruction org aspectj apache bcel instruction constants instructionconstants org aspectj apache bcel instruction factory instructionfactory org aspectj apache bcel instruction handle instructionhandle org aspectj apache bcel instruction list instructionlist org aspectj apache bcel instruction targeter instructiontargeter org aspectj apache bcel invoke instruction invokeinstruction org aspectj apache bcel local variable instruction localvariableinstruction org aspectj apache bcel multianewarray org aspectj apache bcel method gen methodgen org aspectj apache bcel org aspectj apache bcel newarray org aspectj apache bcel object type objecttype org aspectj apache bcel putfield org aspectj apache bcel putstatic org aspectj apache bcel ret org aspectj apache bcel return instruction returninstruction org aspectj apache bcel select org aspectj apache bcel tag org aspectj apache bcel type org aspectj apache bcel annotation annotation gen annotationgen org aspectj bridge imessage org aspectj bridge isource location isourcelocation org aspectj bridge message org aspectj bridge message util messageutil org aspectj bridge weave message weavemessage org aspectj bridge context compilation and weaving context compilationandweavingcontext org aspectj bridge context context token contexttoken org aspectj util partial order partialorder org aspectj weaver aj attribute ajattribute org aspectj weaver ajc member maker ajcmembermaker org aspectj weaver asm relationship provider asmrelationshipprovider org aspectj weaver bcexception org aspectj weaver concrete type munger concretetypemunger org aspectj weaver iclass weaver iclassweaver org aspectj weaver int map intmap org aspectj weaver member org aspectj weaver missing resolved type with known signature missingresolvedtypewithknownsignature org aspectj weaver name mangler namemangler org aspectj weaver new constructor type munger newconstructortypemunger org aspectj weaver new field type munger newfieldtypemunger org aspectj weaver new method type munger newmethodtypemunger org aspectj weaver resolved member resolvedmember org aspectj weaver resolved member impl resolvedmemberimpl org aspectj weaver resolved type resolvedtype org aspectj weaver resolved type munger resolvedtypemunger org aspectj weaver shadow org aspectj weaver shadow munger shadowmunger org aspectj weaver unresolved type unresolvedtype org aspectj weaver weaver messages weavermessages org aspectj weaver weaver metrics weavermetrics org aspectj weaver weaver state info weaverstateinfo org aspectj weaver org aspectj weaver patterns declare annotation declareannotation org aspectj weaver patterns exact type pattern exacttypepattern bcel class weaver bcelclassweaver iclass weaver iclassweaver called link bcel weaver bcelweaver perform weaving process weave bcel world bcelworld lazy class gen lazyclassgen clazz list shadow mungers shadowmungers list type mungers typemungers list late type mungers latetypemungers bcel class weaver bcelclassweaver clazz shadow mungers shadowmungers type mungers typemungers late type mungers latetypemungers weave clazz print lazy class gen lazyclassgen clazz list shadow mungers shadowmungers list type mungers typemungers list late type mungers latetypemungers alias clazz get type gettype bcel object type bcelobjecttype alias get world getworld bcel world bcelworld alias clazz get constant pool gen getconstantpoolgen constant pool gen constantpoolgen cpg alias clazz get factory getfactory instruction factory instructionfactory fact list added lazy method gens addedlazymethodgens array list arraylist added dispatch targets addeddispatchtargets hash set hashset setting bcel class weavers bcelclassweavers in reweavable mode inreweavablemode list iface init list ifaceinitlist list added super initializers as list addedsuperinitializersaslist iface init list ifaceinitlist map added super initializers addedsuperinitializers hash map hashmap list new field munger newfieldmunger list added this initializers addedthisinitializers array list arraylist list new field munger newfieldmunger list added class initializers addedclassinitializers array list arraylist map map to annotations maptoannotations hash map hashmap bcel shadow bcelshadow clinit shadow clinitshadow holds initialization pre initialization shadows matched mungers match don create shadows list initialization shadows initializationshadows array list arraylist bcel class weaver bcelclassweaver bcel world bcelworld lazy class gen lazyclassgen clazz list shadow mungers shadowmungers list type mungers typemungers list late type mungers latetypemungers clazz get type gettype get world getworld clazz clazz shadow mungers shadowmungers shadow mungers shadowmungers type mungers typemungers type mungers typemungers late type mungers latetypemungers late type mungers latetypemungers clazz get bcel object type getbcelobjecttype cpg clazz get constant pool gen getconstantpoolgen fact clazz get factory getfactory fast match shadow mungers fastmatchshadowmungers shadow mungers shadowmungers initialize super initializer map initializesuperinitializermap get resolved type x getresolvedtypex checked xset for low level context capturing checkedxsetforlowlevelcontextcapturing properties get extra configuration getextraconfiguration string get property getproperty xset capture xsetcapture context capture low level context capturelowlevelcontext equals ignore case equalsignorecase capture low level context capturelowlevelcontext get message handler getmessagehandler handle message handlemessage message util messageutil info xset capture xsetcapture context enabling collection level context debug crash messages checked xset for low level context capturing checkedxsetforlowlevelcontextcapturing list per kind shadow mungers perkindshadowmungers can match body shadows canmatchbodyshadows can match initialization canmatchinitialization fast match shadow mungers fastmatchshadowmungers list shadow mungers shadowmungers beware annoying property shadow kinds get key getkey per kind shadow mungers perkindshadowmungers list shadow max shadow kind per kind shadow mungers perkindshadowmungers length per kind shadow mungers perkindshadowmungers array list arraylist iterator iter shadow mungers shadowmungers iterator iter has next hasnext shadow munger shadowmunger munger shadow munger shadowmunger iter could match kinds couldmatchkinds munger get pointcut getpointcut could match kinds couldmatchkinds shadow shadow kinds length shadow kind kind shadow shadow kinds kind is set isset could match kinds couldmatchkinds per kind shadow mungers perkindshadowmungers kind get key getkey add munger could match kinds couldmatchkinds munger get pointcut getpointcut could match kinds couldmatchkinds iterator kind iterator kinditerator could match kinds couldmatchkinds iterator kind iterator kinditerator has next hasnext shadow kind a kind akind shadow kind kind iterator kinditerator per kind shadow mungers perkindshadowmungers a kind akind get key getkey add munger per kind shadow mungers perkindshadowmungers shadow initialization get key getkey is empty isempty can match initialization canmatchinitialization shadow shadow kinds length shadow kind kind shadow shadow kinds kind is enclosing kind isenclosingkind per kind shadow mungers perkindshadowmungers is empty isempty can match body shadows canmatchbodyshadows per kind shadow mungers perkindshadowmungers is empty isempty per kind shadow mungers perkindshadowmungers can match canmatch shadow kind kind per kind shadow mungers perkindshadowmungers kind get key getkey fast match shadow mungers fastmatchshadowmungers list shadow mungers shadowmungers array list arraylist mungers kind kind fast match info fastmatchinfo info fast match info fastmatchinfo clazz get type gettype kind iterator shadow mungers shadowmungers iterator has next hasnext shadow munger shadowmunger munger shadow munger shadowmunger fuzzy boolean fuzzyboolean munger get pointcut getpointcut fast match fastmatch info weaver metrics weavermetrics record fast match result recordfastmatchresult pass munger get pointcut getpointcut to string tostring maybe true maybetrue mungers add munger initialize super initializer map initializesuperinitializermap resolved type resolvedtype child resolved type resolvedtype super interfaces superinterfaces child get declared interfaces getdeclaredinterfaces len super interfaces superinterfaces length len get resolved type x getresolvedtypex is topmost implementor istopmostimplementor super interfaces superinterfaces add super initializer addsuperinitializer super interfaces superinterfaces initialize super initializer map initializesuperinitializermap super interfaces superinterfaces add super initializer addsuperinitializer resolved type resolvedtype on type ontype on type ontype is raw type israwtype on type ontype is parameterized type isparameterizedtype on type ontype on type ontype get generic type getgenerictype iface init list ifaceinitlist iface init list ifaceinitlist added super initializers addedsuperinitializers on type ontype iface init list ifaceinitlist on type ontype added super initializers addedsuperinitializers on type ontype add initializer addinitializer concrete type munger concretetypemunger new field type munger newfieldtypemunger new field type munger newfieldtypemunger get munger getmunger resolved type resolvedtype on type ontype get signature getsignature get declaring type getdeclaringtype resolve on type ontype is raw type israwtype on type ontype on type ontype get generic type getgenerictype get signature getsignature is static isstatic added class initializers addedclassinitializers add on type ontype get resolved type x getresolvedtypex added this initializers addedthisinitializers add iface init list ifaceinitlist iface init list ifaceinitlist added super initializers addedsuperinitializers on type ontype list add iface init list ifaceinitlist partial order partialorder partial comparable partialcomparable resolved type resolvedtype on type ontype list list array list arraylist iface init list ifaceinitlist resolved type resolvedtype on type ontype on type ontype on type ontype compare to compareto object iface init list ifaceinitlist iface init list ifaceinitlist on type ontype is assignable from isassignablefrom on type ontype on type ontype is assignable from isassignablefrom on type ontype fallback compare to fallbackcompareto object xxx called result doesn add dispatch target adddispatchtarget resolved member resolvedmember added dispatch targets addeddispatchtargets add add lazy method gen addlazymethodgen lazy method gen lazymethodgen gen added lazy method gens addedlazymethodgens add gen add or replace lazy method gen addorreplacelazymethodgen lazy method gen lazymethodgen already defined alreadydefined clazz iterator added lazy method gens addedlazymethodgens iterator has next hasnext lazy method gen lazymethodgen existing lazy method gen lazymethodgen signatures match signaturesmatch existing existing defining type definingtype existing introduced defining type definingtype is assignable from isassignablefrom existing defining type definingtype existing subtype dominates existing defining type definingtype is assignable from isassignablefrom defining type definingtype existing subtype dominates existing remove added lazy method gens addedlazymethodgens add bcexception conflict existing added lazy method gens addedlazymethodgens add already defined alreadydefined lazy class gen lazyclassgen clazz lazy method gen lazymethodgen iterator clazz get method gens getmethodgens iterator has next hasnext lazy method gen lazymethodgen existing lazy method gen lazymethodgen signatures match signaturesmatch existing is abstract isabstract existing is abstract isabstract remove signatures match signaturesmatch lazy method gen lazymethodgen lazy method gen lazymethodgen existing get name getname equals existing get name getname get signature getsignature equals existing get signature getsignature lazy method gen lazymethodgen make bridge method makebridgemethod lazy class gen lazyclassgen gen resolved member resolvedmember member remove modifier mods member get modifiers getmodifiers modifier is abstract isabstract mods mods mods modifier lazy method gen lazymethodgen ret lazy method gen lazymethodgen mods bcel world bcelworld make bcel type makebceltype member get return type getreturntype member get name getname bcel world bcelworld make bcel types makebceltypes member get parameter types getparametertypes unresolved type unresolvedtype get names getnames member get exceptions getexceptions gen ret make synthetic makesynthetic ret create single bridge method called the bridge method thebridgemethod bridges what to bridge to whattobridgeto create bridge method createbridgemethod bcel world bcelworld lazy method gen lazymethodgen what to bridge to method gen whattobridgetomethodgen lazy class gen lazyclassgen clazz resolved member resolvedmember the bridge method thebridgemethod instruction list instructionlist body instruction factory instructionfactory fact pos resolved member resolvedmember what to bridge to whattobridgeto what to bridge to method gen whattobridgetomethodgen get member view getmemberview what to bridge to whattobridgeto what to bridge to whattobridgeto resolved member impl resolvedmemberimpl member method what to bridge to method gen whattobridgetomethodgen get enclosing class getenclosingclass get type gettype what to bridge to method gen whattobridgetomethodgen get access flags getaccessflags what to bridge to method gen whattobridgetomethodgen get name getname what to bridge to method gen whattobridgetomethodgen get signature getsignature bridge method type signature supertype lazy method gen lazymethodgen bridge method bridgemethod make bridge method makebridgemethod clazz the bridge method thebridgemethod bridge method bridgemethod set access flags setaccessflags bridge method bridgemethod get access flags getaccessflags type return type returntype bcel world bcelworld make bcel type makebceltype the bridge method thebridgemethod get return type getreturntype type param types paramtypes bcel world bcelworld make bcel types makebceltypes the bridge method thebridgemethod get parameter types getparametertypes type new param types newparamtypes what to bridge to method gen whattobridgetomethodgen get argument types getargumenttypes body bridge method bridgemethod get body getbody fact clazz get factory getfactory what to bridge to method gen whattobridgetomethodgen is static isstatic body append instruction factory instructionfactory create this createthis pos len param types paramtypes length len type param type paramtype param types paramtypes body append instruction factory instructionfactory create load createload param type paramtype pos new param types newparamtypes equals param types paramtypes debug system err println new param types newparamtypes param types paramtypes body append fact create cast createcast param types paramtypes new param types newparamtypes pos param type paramtype get size getsize body append utility create invoke createinvoke fact what to bridge to whattobridgeto body append instruction factory instructionfactory create return createreturn return type returntype clazz add method gen addmethodgen bridge method bridgemethod weave clazz is woven iswoven clazz is reweavable isreweavable show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages woven clazz get type gettype get name getname get source location getsourcelocation aspects affecting type aspectsaffectingtype in reweavable mode inreweavablemode clazz get type gettype is aspect isaspect aspects affecting type aspectsaffectingtype hash set hashset is changed ischanged touch aspects clazz get type gettype is aspect isaspect is changed ischanged start munging type mungers typemungers iterator type mungers typemungers iterator has next hasnext object bcel type munger bceltypemunger system err println surprising bcel type munger bceltypemunger munger bcel type munger bceltypemunger type munger affected type typemungeraffectedtype munger munge type munger affected type typemungeraffectedtype is changed ischanged in reweavable mode inreweavablemode clazz get type gettype is aspect isaspect aspects affecting type aspectsaffectingtype add munger get aspect type getaspecttype get name getname weave special type shadow mungers is changed ischanged weave declare at method ctor weavedeclareatmethodctor clazz is changed ischanged is changed ischanged weave declare at field weavedeclareatfield clazz is changed ischanged xxx major sort stuff sort major type hierarchy list dominates don forget sort added this initialiers addedthisinitialiers dominates added super initializers as list addedsuperinitializersaslist array list arraylist added super initializers addedsuperinitializers values added super initializers as list addedsuperinitializersaslist partial order partialorder sort added super initializers as list addedsuperinitializersaslist added super initializers as list addedsuperinitializersaslist bcexception circularity inter types create initializer isn bad taste nops lazy method gen lazymethodgen static init staticinit clazz get static initializer getstaticinitializer static init staticinit get body getbody insert gen init instructions geninitinstructions added class initializers addedclassinitializers method match method sets method link lazy method gen lazymethodgen matched shadows matchedshadows field adds link initialization shadows initializationshadows list method gens methodgens array list arraylist clazz get method gens getmethodgens iterator method gens methodgens iterator has next hasnext lazy method gen lazymethodgen lazy method gen lazymethodgen has body hasbody shadow munger matched shadowmungermatched match shadow munger matched shadowmungermatched matching mungers add declaring aspects list type in reweavable mode inreweavablemode clazz get type gettype is aspect isaspect aspects affecting type aspectsaffectingtype add all addall find aspects for mungers findaspectsformungers is changed ischanged weave initialization shadows iterator method gens methodgens iterator has next hasnext lazy method gen lazymethodgen lazy method gen lazymethodgen has body hasbody implement matched initialization shadows inline weave initialization shadows initializationshadows is empty isempty recursive constructor invocation inline self constructors inlineselfconstructors method gens methodgens position and implement positionandimplement initialization shadows initializationshadows proceed late type mungers late type mungers latetypemungers iterator late type mungers latetypemungers iterator has next hasnext bcel type munger bceltypemunger munger bcel type munger bceltypemunger munger matches clazz get type gettype type munger affected type typemungeraffectedtype munger munge type munger affected type typemungeraffectedtype is changed ischanged in reweavable mode inreweavablemode clazz get type gettype is aspect isaspect aspects affecting type aspectsaffectingtype add munger get aspect type getaspecttype get name getname changed add introduced methods is changed ischanged clazz get or create weaver state info getorcreateweaverstateinfo in reweavable mode inreweavablemode fixme asc declare annotation weave in added methods weaveinaddedmethods in reweavable mode inreweavablemode weaver state info weaverstateinfo wsi clazz get or create weaver state info getorcreateweaverstateinfo wsi add aspects affecting type addaspectsaffectingtype aspects affecting type aspectsaffectingtype wsi set unwoven class file data setunwovenclassfiledata get java class getjavaclass get bytes getbytes wsi set reweavable setreweavable clazz get or create weaver state info getorcreateweaverstateinfo set reweavable setreweavable is changed ischanged start bridge method creation code debug flag bridge method creation debug fixme asc tidy lot fixme asc refactor resolved type resolvedtype resolved member resolvedmember check method overriding refactored helper multiple places resolved member resolvedmember is overriding isoverriding resolved type resolvedtype type to check typetocheck resolved member resolvedmember method that might be getting overridden methodthatmightbegettingoverridden string mname string mrettype mmods in same package insamepackage unresolved type unresolvedtype method params array methodparamsarray overriding method method that might be getting overridden methodthatmightbegettingoverridden is static isstatic overriding method method that might be getting overridden methodthatmightbegettingoverridden is private isprivate names dont match skip init clinit method that might be getting overridden methodthatmightbegettingoverridden get name getname equals mname check number parameters method that might be getting overridden methodthatmightbegettingoverridden get parameter types getparametertypes length method params array methodparamsarray length is visibility override isvisibilityoverride mmods method that might be getting overridden methodthatmightbegettingoverridden in same package insamepackage debug system err println overridden method that might be getting overridden methodthatmightbegettingoverridden erasures parameters list string erased list same params sameparams method that might be getting overridden methodthatmightbegettingoverridden get parameter types getparametertypes length method that might be getting overridden methodthatmightbegettingoverridden get parameter types getparametertypes get erasure signature geterasuresignature equals method params array methodparamsarray get erasure signature geterasuresignature same params sameparams same params sameparams check covariance type to check typetocheck is parameterized type isparameterizedtype method that might be getting overridden methodthatmightbegettingoverridden get backing generic member getbackinggenericmember method that might be getting overridden methodthatmightbegettingoverridden get return type getreturntype get erasure signature geterasuresignature equals mrettype covariance method that might be getting overridden methodthatmightbegettingoverridden visibility modifiers methods classes decides overrides overrides hides relationship is visibility override isvisibilityoverride method mods methodmods resolved member resolvedmember inherited method inheritedmethod in same package insamepackage inherited method inheritedmethod is static isstatic method mods methodmods inherited method inheritedmethod get modifiers getmodifiers inherited method inheritedmethod is private isprivate is package visible ispackagevisible inherited method inheritedmethod is private isprivate inherited method inheritedmethod is protected isprotected inherited method inheritedmethod is public ispublic is package visible ispackagevisible in same package insamepackage method recurses type method overrides passed method overridden resolved member resolvedmember check for override checkforoverride resolved type resolvedtype type to check typetocheck string mname string mparams string mrettype mmods string mpkg unresolved type unresolvedtype method params array methodparamsarray type to check typetocheck type to check typetocheck missing resolved type with known signature missingresolvedtypewithknownsignature debug system err println checking override mname type to check typetocheck string package name packagename type to check typetocheck get package name getpackagename package name packagename package name packagename visibility rules in same package insamepackage package name packagename equals mpkg resolved member resolvedmember methods type to check typetocheck get declared methods getdeclaredmethods methods length method check resolved member resolvedmember method that might be getting overridden methodthatmightbegettingoverridden methods resolved member resolvedmember is overriding isoverriding is overriding isoverriding type to check typetocheck method that might be getting overridden methodthatmightbegettingoverridden mname mrettype mmods in same package insamepackage method params array methodparamsarray is overriding isoverriding is overriding isoverriding list type to check typetocheck get inter type mungers getintertypemungers iterator iterator iterator iterator has next hasnext object iterator fixme asc bcel type munger bceltypemunger eclipse type munger eclipsetypemunger worry bcel type munger bceltypemunger bcel type munger bceltypemunger element bcel type munger bceltypemunger element get munger getmunger new method type munger newmethodtypemunger debug system err println candidate element resolved member resolvedmember a method amethod element get signature getsignature resolved member resolvedmember is overriding isoverriding is overriding isoverriding type to check typetocheck a method amethod mname mrettype mmods in same package insamepackage method params array methodparamsarray is overriding isoverriding is overriding isoverriding type to check typetocheck equals unresolved type unresolvedtype object resolved type resolvedtype superclass type to check typetocheck get superclass getsuperclass resolved member resolvedmember overridden method overriddenmethod check for override checkforoverride superclass mname mparams mrettype mmods mpkg method params array methodparamsarray overridden method overriddenmethod overridden method overriddenmethod resolved type resolvedtype interfaces type to check typetocheck get declared interfaces getdeclaredinterfaces interfaces length resolved type resolvedtype an interface aninterface interfaces overridden method overriddenmethod check for override checkforoverride an interface aninterface mname mparams mrettype mmods mpkg method params array methodparamsarray overridden method overriddenmethod overridden method overriddenmethod determine methods type require bridge methods method called calculation covariance generics exist type hierarchy changed decp calculate any required bridge methods calculateanyrequiredbridgemethods bcel world bcelworld lazy class gen lazyclassgen clazz check caller verified is in java isinjava mode dont bother clazz is interface isinterface build bridge methods did something didsomething methods lazy method gen lazymethodgen list methods clazz get method gens getmethodgens methods type check bridge methods created don methods set methodsset hash set hashset methods size lazy method gen lazymethodgen a method amethod lazy method gen lazymethodgen methods foo ljava lang string methods set methodsset add a method amethod get name getname a method amethod get signature getsignature methods type methods size local method bridge lazy method gen lazymethodgen bridge to candidate bridgetocandidate lazy method gen lazymethodgen methods doh bridge to candidate bridgetocandidate is bridge method isbridgemethod doh string bridge to candidate bridgetocandidate get name getname string psig bridge to candidate bridgetocandidate get parameter signature getparametersignature string rsig bridge to candidate bridgetocandidate get return type getreturntype get signature getsignature ignore methods bridge to candidate bridgetocandidate is static isstatic skip constructors initializers ends with endswith init debug system err println determining bridge clazz get name getname bridge to candidate bridgetocandidate get signature getsignature superclass resolved type resolvedtype the superclass thesuperclass clazz get super class getsuperclass debug system err println checking supertype the superclass thesuperclass string pkg name pkgname clazz get package name getpackagename unresolved type unresolvedtype bcel world bcelworld from bcel frombcel bridge to candidate bridgetocandidate get argument types getargumenttypes resolved member resolvedmember overridden method overriddenmethod check for override checkforoverride the superclass thesuperclass psig rsig bridge to candidate bridgetocandidate get access flags getaccessflags pkg name pkgname overridden method overriddenmethod already have abridge method alreadyhaveabridgemethod methods set methodsset overridden method overriddenmethod get name getname overridden method overriddenmethod get signature getsignature already have abridge method alreadyhaveabridgemethod debug system err println bridging overridden method overriddenmethod create bridge method createbridgemethod bridge to candidate bridgetocandidate clazz overridden method overriddenmethod did something didsomething method check superinterfaces string interfaces clazz get interface names getinterfacenames interfaces length debug system err println checking superinterface interfaces resolved type resolvedtype interface type interfacetype resolve interfaces overridden method overriddenmethod check for override checkforoverride interface type interfacetype psig rsig bridge to candidate bridgetocandidate get access flags getaccessflags clazz get package name getpackagename overridden method overriddenmethod already have abridge method alreadyhaveabridgemethod methods set methodsset overridden method overriddenmethod get name getname overridden method overriddenmethod get signature getsignature already have abridge method alreadyhaveabridgemethod create bridge method createbridgemethod bridge to candidate bridgetocandidate clazz overridden method overriddenmethod did something didsomething debug system err println bridging overridden method overriddenmethod method did something didsomething bridge method creation code weave declare method ctor statements members supplied weave declare at method ctor weavedeclareatmethodctor lazy class gen lazyclassgen clazz list reported problems reportedproblems array list arraylist list all decams alldecams get declare annotation on methods getdeclareannotationonmethods all decams alldecams is empty isempty is changed ischanged deal itds list itd methods ctors itdmethodsctors get itdsubset getitdsubset clazz resolved type munger resolvedtypemunger method itd methods ctors itdmethodsctors add all addall get itdsubset getitdsubset clazz resolved type munger resolvedtypemunger constructor itd methods ctors itdmethodsctors is empty isempty subset called deca ms decams won itds is changed ischanged weave at method on itdsrepeatedly weaveatmethodonitdsrepeatedly all decams alldecams itd methods ctors itdmethodsctors reported problems reportedproblems deal methods list members clazz get method gens getmethodgens list deca ms decams get matching subset getmatchingsubset all decams alldecams clazz get type gettype deca ms decams is empty isempty members is empty isempty unused decams unuseddecams hash set hashset unused decams unuseddecams add all addall deca ms decams member counter membercounter member counter membercounter members size member counter membercounter lazy method gen lazymethodgen lazy method gen lazymethodgen members member counter membercounter get name getname starts with startswith name mangler namemangler prefix single pass list worth retrying worthretrying array list arraylist modification occured modificationoccured list annotation gen annotationgen annotations to add annotationstoadd iterator iter deca ms decams iterator iter has next hasnext declare annotation declareannotation deca m decam declare annotation declareannotation iter deca m decam matches get member view getmemberview does already have annotation doesalreadyhaveannotation get member view getmemberview deca m decam reported problems reportedproblems remove declare method don error annotation unused decams unuseddecams remove deca m decam skip annotations to add annotationstoadd annotations to add annotationstoadd array list arraylist annotation deca m decam get annotation x getannotationx get bcel annotation getbcelannotation annotation gen annotationgen annotation gen annotationgen clazz get constant pool gen getconstantpoolgen annotations to add annotationstoadd add add annotation addannotation deca m decam get annotation x getannotationx asm relationship provider asmrelationshipprovider get default getdefault add declare annotation relationship adddeclareannotationrelationship deca m decam get source location getsourcelocation clazz get name getname get method getmethod report method ctor weaving message reportmethodctorweavingmessage clazz get member view getmemberview deca m decam get declaration line number getdeclarationlinenumber is changed ischanged modification occured modificationoccured remove declare method matched unused decams unuseddecams remove deca m decam deca m decam is starred annotation pattern isstarredannotationpattern annotation subsequent decaf worth retrying worthretrying add deca m decam multiple secondary passes worth retrying worthretrying is empty isempty modification occured modificationoccured modification occured modificationoccured list for removal forremoval array list arraylist iterator iter worth retrying worthretrying iterator iter has next hasnext declare annotation declareannotation deca m decam declare annotation declareannotation iter deca m decam matches get member view getmemberview does already have annotation doesalreadyhaveannotation get member view getmemberview deca m decam reported problems reportedproblems remove declare method don error annotation unused decams unuseddecams remove deca m decam skip annotations to add annotationstoadd annotations to add annotationstoadd array list arraylist annotation deca m decam get annotation x getannotationx get bcel annotation getbcelannotation annotation gen annotationgen annotation gen annotationgen clazz get constant pool gen getconstantpoolgen annotations to add annotationstoadd add add annotation addannotation deca m decam get annotation x getannotationx asm relationship provider asmrelationshipprovider get default getdefault add declare annotation relationship adddeclareannotationrelationship deca m decam get source location getsourcelocation clazz get name getname get method getmethod is changed ischanged modification occured modificationoccured for removal forremoval add deca m decam remove declare method matched unused decams unuseddecams remove deca m decam worth retrying worthretrying remove all removeall for removal forremoval annotations to add annotationstoadd method old method oldmethod get method getmethod dont tags won repaired woven methods method gen methodgen my gen mygen method gen methodgen old method oldmethod clazz get class name getclassname clazz get constant pool gen getconstantpoolgen iterator iter annotations to add annotationstoadd iterator iter has next hasnext annotation gen annotationgen annotation gen annotationgen iter my gen mygen add annotation addannotation method new method newmethod my gen mygen get method getmethod members member counter membercounter lazy method gen lazymethodgen new method newmethod clazz check unused declare at types checkunuseddeclareattypes unused decams unuseddecams is changed ischanged tag weaving message weavingmessage report method ctor weaving message reportmethodctorweavingmessage lazy class gen lazyclassgen clazz resolved member resolvedmember member declare annotation declareannotation deca m decam member line number memberlinenumber get world getworld get message handler getmessagehandler is ignoring isignoring imessage weaveinfo string buffer stringbuffer parm string parmstring string buffer stringbuffer unresolved type unresolvedtype param types paramtypes member get parameter types getparametertypes param types paramtypes length unresolved type unresolvedtype type param types paramtypes string org aspectj apache bcel classfile utility signature to string signaturetostring type get signature getsignature last index of lastindexof substring last index of lastindexof parm string parmstring append param types paramtypes length parm string parmstring append parm string parmstring append string method name methodname member get name getname string buffer stringbuffer sig string buffer stringbuffer sig append org aspectj apache bcel classfile utility access to string accesstostring member get modifiers getmodifiers sig append sig append member get return type getreturntype to string tostring sig append sig append member get declaring type getdeclaringtype to string tostring sig append sig append method name methodname equals init method name methodname sig append parm string parmstring string buffer stringbuffer loc string buffer stringbuffer clazz get file name getfilename loc append debug info loc append clazz get file name getfilename member line number memberlinenumber loc append member line number memberlinenumber get world getworld get message handler getmessagehandler handle message handlemessage weave message weavemessage construct weaving message constructweavingmessage weave message weavemessage weavemessage annotates string sig to string tostring loc to string tostring deca m decam get annotation string getannotationstring method name methodname starts with startswith init constructor method deca m decam get aspect getaspect to string tostring utility beautify location beautifylocation deca m decam get source location getsourcelocation list declare annotation statements returns match field method ctor type list get matching subset getmatchingsubset list declare annotations declareannotations resolved type resolvedtype type list subset array list arraylist iterator iter declare annotations declareannotations iterator iter has next hasnext declare annotation declareannotation declare annotation declareannotation iter could ever match couldevermatch type subset add subset subset type mungers defined aspect list get itdsubset getitdsubset lazy class gen lazyclassgen clazz resolved type munger resolvedtypemunger kind wanted kind wantedkind list subset array list arraylist collection clazz get bcel object type getbcelobjecttype get type mungers gettypemungers iterator iter iterator iter has next hasnext bcel type munger bceltypemunger type munger typemunger bcel type munger bceltypemunger iter type munger typemunger get munger getmunger get kind getkind wanted kind wantedkind subset add type munger typemunger subset lazy method gen lazymethodgen locate annotation holder for field munger locateannotationholderforfieldmunger lazy class gen lazyclassgen clazz bcel type munger bceltypemunger field munger fieldmunger new field type munger newfieldtypemunger nftm new field type munger newfieldtypemunger field munger fieldmunger get munger getmunger resolved member resolvedmember looking for lookingfor ajc member maker ajcmembermaker inter field initializer interfieldinitializer nftm get signature getsignature clazz get type gettype list meths clazz get method gens getmethodgens iterator iter meths iterator iter has next hasnext lazy method gen lazymethodgen element lazy method gen lazymethodgen iter element get name getname equals looking for lookingfor get name getname element fixme asc refactor neaten lazy method gen lazymethodgen locate annotation holder for method ctor munger locateannotationholderformethodctormunger lazy class gen lazyclassgen clazz bcel type munger bceltypemunger method ctor munger methodctormunger method ctor munger methodctormunger get munger getmunger new method type munger newmethodtypemunger new method type munger newmethodtypemunger nftm new method type munger newmethodtypemunger method ctor munger methodctormunger get munger getmunger resolved member resolvedmember looking for lookingfor ajc member maker ajcmembermaker inter method dispatcher intermethoddispatcher nftm get signature getsignature method ctor munger methodctormunger get aspect type getaspecttype list meths clazz get method gens getmethodgens iterator iter meths iterator iter has next hasnext lazy method gen lazymethodgen element lazy method gen lazymethodgen iter element get name getname equals looking for lookingfor get name getname element get parameter signature getparametersignature equals looking for lookingfor get parameter signature getparametersignature element method ctor munger methodctormunger get munger getmunger new constructor type munger newconstructortypemunger new constructor type munger newconstructortypemunger nftm new constructor type munger newconstructortypemunger method ctor munger methodctormunger get munger getmunger resolved member resolvedmember looking for lookingfor ajc member maker ajcmembermaker post introduced constructor postintroducedconstructor method ctor munger methodctormunger get aspect type getaspecttype nftm get signature getsignature get declaring type getdeclaringtype nftm get signature getsignature get parameter types getparametertypes list meths clazz get method gens getmethodgens iterator iter meths iterator iter has next hasnext lazy method gen lazymethodgen element lazy method gen lazymethodgen iter element get name getname equals looking for lookingfor get name getname element get parameter signature getparametersignature equals looking for lookingfor get parameter signature getparametersignature element runtime exception runtimeexception method ctor munger methodctormunger applies declare field constructs list declare annotation declareannotation bunch itdfields list bcel type munger bceltypemunger iterate fields repeatedly applied weave at field repeatedly weaveatfieldrepeatedly list deca fs decafs list itd fields itdfields list reported errors reportederrors is changed ischanged iterator iter itd fields itdfields iterator iter has next hasnext bcel type munger bceltypemunger field munger fieldmunger bcel type munger bceltypemunger iter resolved member resolvedmember itd is actually itdisactually field munger fieldmunger get signature getsignature list worth retrying worthretrying array list arraylist modification occured modificationoccured iterator iter deca fs decafs iterator iter has next hasnext declare annotation declareannotation deca f decaf declare annotation declareannotation iter deca f decaf matches itd is actually itdisactually lazy method gen lazymethodgen annotation holder annotationholder locate annotation holder for field munger locateannotationholderforfieldmunger clazz field munger fieldmunger skip does already have annotation doesalreadyhaveannotation annotation holder annotationholder itd is actually itdisactually deca f decaf reported errors reportederrors annotation holder annotationholder add annotation addannotation deca f decaf get annotation x getannotationx asm relationship provider asmrelationshipprovider get default getdefault add declare annotation relationship adddeclareannotationrelationship deca f decaf get source location getsourcelocation itd is actually itdisactually get source location getsourcelocation is changed ischanged modification occured modificationoccured deca f decaf is starred annotation pattern isstarredannotationpattern annotation subsequent decaf worth retrying worthretrying add deca f decaf worth retrying worthretrying is empty isempty modification occured modificationoccured modification occured modificationoccured list for removal forremoval array list arraylist iterator iter worth retrying worthretrying iterator iter has next hasnext declare annotation declareannotation deca f decaf declare annotation declareannotation iter deca f decaf matches itd is actually itdisactually lazy method gen lazymethodgen annotation holder annotationholder locate annotation holder for field munger locateannotationholderforfieldmunger clazz field munger fieldmunger skip does already have annotation doesalreadyhaveannotation annotation holder annotationholder itd is actually itdisactually deca f decaf reported errors reportederrors annotation holder annotationholder add annotation addannotation deca f decaf get annotation x getannotationx asm relationship provider asmrelationshipprovider get default getdefault add declare annotation relationship adddeclareannotationrelationship deca f decaf get source location getsourcelocation itd is actually itdisactually get source location getsourcelocation is changed ischanged modification occured modificationoccured for removal forremoval add deca f decaf worth retrying worthretrying remove all removeall for removal forremoval is changed ischanged applies declare method ctor constructs list declare annotation declareannotation bunch itdmembers list bcel type munger bceltypemunger iterate fields repeatedly applied weave at method on itdsrepeatedly weaveatmethodonitdsrepeatedly list deca mcs decamcs list itd methods ctors itdmethodsctors list reported errors reportederrors is changed ischanged iterator iter itd methods ctors itdmethodsctors iterator iter has next hasnext bcel type munger bceltypemunger methodctor munger methodctormunger bcel type munger bceltypemunger iter resolved member resolvedmember un mangled inter method unmangledintermethod methodctor munger methodctormunger get signature getsignature list worth retrying worthretrying array list arraylist modification occured modificationoccured iterator iter deca mcs decamcs iterator iter has next hasnext declare annotation declareannotation deca mc decamc declare annotation declareannotation iter deca mc decamc matches un mangled inter method unmangledintermethod lazy method gen lazymethodgen annotation holder annotationholder locate annotation holder for method ctor munger locateannotationholderformethodctormunger clazz methodctor munger methodctormunger annotation holder annotationholder does already have annotation doesalreadyhaveannotation annotation holder annotationholder un mangled inter method unmangledintermethod deca mc decamc reported errors reportederrors skip annotation holder annotationholder add annotation addannotation deca mc decamc get annotation x getannotationx is changed ischanged asm relationship provider asmrelationshipprovider get default getdefault add declare annotation relationship adddeclareannotationrelationship deca mc decamc get source location getsourcelocation un mangled inter method unmangledintermethod get source location getsourcelocation report method ctor weaving message reportmethodctorweavingmessage clazz un mangled inter method unmangledintermethod deca mc decamc modification occured modificationoccured deca mc decamc is starred annotation pattern isstarredannotationpattern annotation subsequent decaf worth retrying worthretrying add deca mc decamc worth retrying worthretrying is empty isempty modification occured modificationoccured modification occured modificationoccured list for removal forremoval array list arraylist iterator iter worth retrying worthretrying iterator iter has next hasnext declare annotation declareannotation deca mc decamc declare annotation declareannotation iter deca mc decamc matches un mangled inter method unmangledintermethod lazy method gen lazymethodgen annotation holder annotationholder locate annotation holder for field munger locateannotationholderforfieldmunger clazz methodctor munger methodctormunger skip does already have annotation doesalreadyhaveannotation annotation holder annotationholder un mangled inter method unmangledintermethod deca mc decamc reported errors reportederrors annotation holder annotationholder add annotation addannotation deca mc decamc get annotation x getannotationx un mangled inter method unmangledintermethod add annotation addannotation deca mc decamc get annotation x getannotationx asm relationship provider asmrelationshipprovider get default getdefault add declare annotation relationship adddeclareannotationrelationship deca mc decamc get source location getsourcelocation un mangled inter method unmangledintermethod get source location getsourcelocation is changed ischanged modification occured modificationoccured for removal forremoval add deca mc decamc worth retrying worthretrying remove all removeall for removal forremoval is changed ischanged dont add twice dontaddtwice declare annotation declareannotation deca f decaf annotation dont add me twice dontaddmetwice dont add me twice dontaddmetwice length annotation ann dont add me twice dontaddmetwice ann deca f decaf get annotation x getannotationx get type name gettypename equals ann get type name gettypename dont add me twice dontaddmetwice incase weave declare field statements fields supplied interesting relating itdd fields annotations stored interfieldinit method aspect field target type processed pass fields occurs expensive avoid putting annotation inserted field interfieldinit method weave declare at field weavedeclareatfield lazy class gen lazyclassgen clazz bugwarning warnings declare field potential problem warnings coming occur created iteration loop deactivate error reporting time solution record annotations decafs check error reported expensive skip list reported problems reportedproblems array list arraylist list all decafs alldecafs get declare annotation on fields getdeclareannotationonfields all decafs alldecafs is empty isempty is changed ischanged list itd fields itdfields get itdsubset getitdsubset clazz resolved type munger resolvedtypemunger field itd fields itdfields is changed ischanged weave at field repeatedly weaveatfieldrepeatedly all decafs alldecafs itd fields itdfields reported problems reportedproblems list deca fs decafs get matching subset getmatchingsubset all decafs alldecafs clazz get type gettype deca fs decafs is empty isempty field fields clazz get field gens getfieldgens fields unused decafs unuseddecafs hash set hashset unused decafs unuseddecafs add all addall deca fs decafs field counter fieldcounter field counter fieldcounter fields length field counter fieldcounter bcel field bcelfield a bcel field abcelfield bcel field bcelfield clazz get bcel object type getbcelobjecttype fields field counter fieldcounter a bcel field abcelfield get name getname starts with startswith name mangler namemangler prefix single pass list worth retrying worthretrying array list arraylist modification occured modificationoccured annotation dont add me twice dontaddmetwice fields field counter fieldcounter get annotations getannotations declare field statements iterator iter deca fs decafs iterator iter has next hasnext declare annotation declareannotation deca f decaf declare annotation declareannotation iter deca f decaf matches a bcel field abcelfield dont add twice dontaddtwice deca f decaf dont add me twice dontaddmetwice does already have annotation doesalreadyhaveannotation a bcel field abcelfield deca f decaf reported problems reportedproblems remove declare field don error annotation unused decafs unuseddecafs remove deca f decaf is annotation with runtime retention isannotationwithruntimeretention clazz get java class getjavaclass deca f decaf get annotation x getannotationx is runtime visible isruntimevisible deca f decaf get annotation type x getannotationtypex is annotation with runtime retention isannotationwithruntimeretention runtime visible field annotation deca f decaf get annotation x getannotationx get bcel annotation getbcelannotation annotation gen annotationgen annotation gen annotationgen clazz get constant pool gen getconstantpoolgen field gen fieldgen my gen mygen field gen fieldgen fields field counter fieldcounter clazz get constant pool gen getconstantpoolgen my gen mygen add annotation addannotation field new field newfield my gen mygen get field getfield a bcel field abcelfield add annotation addannotation deca f decaf get annotation x getannotationx clazz replace field replacefield fields field counter fieldcounter new field newfield fields field counter fieldcounter new field newfield a bcel field abcelfield add annotation addannotation deca f decaf get annotation x getannotationx asm relationship provider asmrelationshipprovider get default getdefault add declare annotation relationship adddeclareannotationrelationship deca f decaf get source location getsourcelocation clazz get name getname fields field counter fieldcounter report field annotation weaving message reportfieldannotationweavingmessage clazz fields field counter fieldcounter deca f decaf is changed ischanged modification occured modificationoccured remove declare field matched unused decafs unuseddecafs remove deca f decaf deca f decaf is starred annotation pattern isstarredannotationpattern annotation subsequent decaf worth retrying worthretrying add deca f decaf multiple secondary passes worth retrying worthretrying is empty isempty modification occured modificationoccured modification occured modificationoccured list for removal forremoval array list arraylist iterator iter worth retrying worthretrying iterator iter has next hasnext declare annotation declareannotation deca f decaf declare annotation declareannotation iter deca f decaf matches a bcel field abcelfield code recursive does already have annotation doesalreadyhaveannotation a bcel field abcelfield deca f decaf reported problems reportedproblems remove declare field don error annotation unused decafs unuseddecafs remove deca f decaf skip a bcel field abcelfield add annotation addannotation deca f decaf get annotation x getannotationx asm relationship provider asmrelationshipprovider get default getdefault add declare annotation relationship adddeclareannotationrelationship deca f decaf get source location getsourcelocation clazz get name getname fields field counter fieldcounter is changed ischanged modification occured modificationoccured for removal forremoval add deca f decaf remove declare field matched unused decafs unuseddecafs remove deca f decaf worth retrying worthretrying remove all removeall for removal forremoval check unused declare at types checkunuseddeclareattypes unused decafs unuseddecafs is changed ischanged bug error message type doesn exist report error reason declare method ctor field member exist method passed declare statements didn match flag indicating declare field declare method ctor entries check unused declare at types checkunuseddeclareattypes unused deca ts unuseddecats is declare at field isdeclareatfield iterator iter unused deca ts unuseddecats iterator iter has next hasnext declare annotation declareannotation decl a decla declare annotation declareannotation iter error exact type pattern decl a decla is exact pattern isexactpattern decl a decla get signature pattern getsignaturepattern get declaring type getdeclaringtype exact type pattern exacttypepattern decl a decla get signature pattern getsignaturepattern get name getname is any isany decl a decla get kind getkind declare annotation declareannotation constructor check meets supplies missing member itd match itdmatch list lst clazz get type gettype get inter type mungers getintertypemungers iterator iterator lst iterator iterator has next hasnext itd match itdmatch bcel type munger bceltypemunger element bcel type munger bceltypemunger iterator element get munger getmunger new field type munger newfieldtypemunger new field type munger newfieldtypemunger nftm new field type munger newfieldtypemunger element get munger getmunger itd match itdmatch decl a decla get signature pattern getsignaturepattern matches nftm get signature getsignature element get munger getmunger new method type munger newmethodtypemunger new method type munger newmethodtypemunger nmtm new method type munger newmethodtypemunger element get munger getmunger itd match itdmatch decl a decla get signature pattern getsignaturepattern matches nmtm get signature getsignature element get munger getmunger new constructor type munger newconstructortypemunger new constructor type munger newconstructortypemunger nctm new constructor type munger newconstructortypemunger element get munger getmunger itd match itdmatch decl a decla get signature pattern getsignaturepattern matches nctm get signature getsignature itd match itdmatch imessage message is declare at field isdeclareatfield message message field decl a decla get signature pattern getsignaturepattern to string tostring exist decl a decla get source location getsourcelocation message message method decl a decla get signature pattern getsignaturepattern to string tostring exist decl a decla get source location getsourcelocation get message handler getmessagehandler handle message handlemessage message tag weaving message weavingmessage report field annotation weaving message reportfieldannotationweavingmessage lazy class gen lazyclassgen clazz field fields field counter fieldcounter declare annotation declareannotation deca f decaf get world getworld get message handler getmessagehandler is ignoring isignoring imessage weaveinfo field the field thefield fields field counter fieldcounter get message handler getmessagehandler handle message handlemessage weave message weavemessage construct weaving message constructweavingmessage weave message weavemessage weavemessage annotates string the field thefield to string tostring type clazz get name getname clazz get file name getfilename deca f decaf get annotation string getannotationstring field deca f decaf get aspect getaspect to string tostring utility beautify location beautifylocation deca f decaf get source location getsourcelocation check resolved member field method ctor annotation warning does already have annotation doesalreadyhaveannotation resolved member resolvedmember declare annotation declareannotation deca list reported problems reportedproblems has annotation hasannotation deca get annotation type x getannotationtypex get lint getlint element already annotated elementalreadyannotated is enabled isenabled integer unique id uniqueid integer hash code hashcode deca hash code hashcode reported problems reportedproblems unique id uniqueid reported problems reportedproblems add unique id uniqueid get lint getlint element already annotated elementalreadyannotated signal string to string tostring deca get annotation type x getannotationtypex to string tostring get source location getsourcelocation isource location isourcelocation deca get source location getsourcelocation does already have annotation doesalreadyhaveannotation lazy method gen lazymethodgen resolved member resolvedmember itdfieldsig declare annotation declareannotation deca list reported problems reportedproblems has annotation hasannotation deca get annotation type x getannotationtypex get lint getlint element already annotated elementalreadyannotated is enabled isenabled integer unique id uniqueid integer hash code hashcode deca hash code hashcode reported problems reportedproblems unique id uniqueid reported problems reportedproblems add unique id uniqueid reported problems reportedproblems add integer itdfieldsig hash code hashcode deca hash code hashcode get lint getlint element already annotated elementalreadyannotated signal string to string tostring deca get annotation type x getannotationtypex to string tostring get source location getsourcelocation isource location isourcelocation deca get source location getsourcelocation find aspects for mungers findaspectsformungers lazy method gen lazymethodgen aspects affecting type aspectsaffectingtype hash set hashset iterator iter matched shadows matchedshadows iterator iter has next hasnext bcel shadow bcelshadow a shadow ashadow bcel shadow bcelshadow iter mungers shadow iterator iter a shadow ashadow get mungers getmungers iterator iter has next hasnext shadow munger shadowmunger a munger amunger shadow munger shadowmunger iter a munger amunger bcel advice bceladvice bcel advice bceladvice b advice badvice bcel advice bceladvice a munger amunger b advice badvice get concrete aspect getconcreteaspect aspects affecting type aspectsaffectingtype add b advice badvice get concrete aspect getconcreteaspect get name getname checker don remember aspects contributed checkers aspects affecting type aspectsaffectingtype inline self constructors inlineselfconstructors list method gens methodgens inlined something inlinedsomething iterator method gens methodgens iterator has next hasnext lazy method gen lazymethodgen lazy method gen lazymethodgen get name getname equals init instruction handle instructionhandle find super or this call findsuperorthiscall is this call isthiscall lazy method gen lazymethodgen donor get called method getcalledmethod inline method inlinemethod donor inlined something inlinedsomething inlined something inlinedsomething position and implement positionandimplement list initialization shadows initializationshadows iterator initialization shadows initializationshadows iterator has next hasnext bcel shadow bcelshadow bcel shadow bcelshadow position initialization shadow positioninitializationshadow get enclosing method getenclosingmethod print implement position initialization shadow positioninitializationshadow bcel shadow bcelshadow lazy method gen lazymethodgen get enclosing method getenclosingmethod instruction handle instructionhandle call find super or this call findsuperorthiscall instruction list instructionlist body get body getbody shadow range shadowrange shadow range shadowrange body associate with shadow associatewithshadow bcel shadow bcelshadow get kind getkind shadow pre initialization preinitialization xxx instruction aload pre shadow instruction aload call associate with targets associatewithtargets range gen start genstart body body get start getstart get next getnext range gen end genend body call get prev getprev get kind getkind shadow initialization associate with targets associatewithtargets range gen start genstart body call get next getnext range gen end genend body is this call isthiscall instruction handle instructionhandle invokespecial inst invokespecial get instruction getinstruction inst get class name getclassname cpg equals clazz get name getname inline call bytecode param donor method inline param recipient method call inline param call instruction handle instructionhandle recipient body holding call inline inline method inlinemethod lazy method gen lazymethodgen donor lazy method gen lazymethodgen recipient instruction handle instructionhandle call recipient call implementation notes allocate slots tempvar don screw longs doubles share space conservatively avoided reference instruction don packed don bother pack allocate formal param inlined fill stack contents copy inlined instructions remap table framelocs locals inlined reallocated top frame instruction factory instructionfactory fact recipient get enclosing class getenclosingclass get factory getfactory int map intmap frame env frameenv int map intmap sets initial environment instruction list instructionlist argument stores argumentstores gen argument stores genargumentstores donor recipient frame env frameenv fact instruction list instructionlist inline instructions inlineinstructions gen inline instructions geninlineinstructions donor recipient frame env frameenv fact inline instructions inlineinstructions insert argument stores argumentstores recipient get body getbody append call inline instructions inlineinstructions utility delete instruction deleteinstruction call recipient generate instructions inlined param donor method copy adjust frame jumps instructions param recipient method instructions frame size allocate frame locations locals donor param frame env frameenv environment map donor frame recipient frame initially populated argument locations param fact instruction factory recipient instruction list instructionlist gen inline instructions geninlineinstructions lazy method gen lazymethodgen donor lazy method gen lazymethodgen recipient int map intmap frame env frameenv instruction factory instructionfactory fact keep returns keepreturns instruction list instructionlist footer instruction list instructionlist instruction handle instructionhandle footer append instruction constants instructionconstants nop instruction list instructionlist ret instruction list instructionlist instruction list instructionlist source list sourcelist donor get body getbody map src to dest srctodest hash map hashmap constant pool gen constantpoolgen donor cpg donorcpg donor get enclosing class getenclosingclass get constant pool gen getconstantpoolgen constant pool gen constantpoolgen recipient cpg recipientcpg recipient get enclosing class getenclosingclass get constant pool gen getconstantpoolgen is across class isacrossclass donor cpg donorcpg recipient cpg recipientcpg frame instructions instruction handle instructionhandle src source list sourcelist get start getstart src src src get next getnext instruction fresh utility copy instruction copyinstruction src get instruction getinstruction instruction handle instructionhandle dest fresh cpinstruction computation leak testing lots times sigh is across class isacrossclass cpinstruction cpi cpinstruction fresh cpi set index setindex recipient cpg recipientcpg add constant addconstant donor cpg donorcpg get constant getconstant cpi get index getindex donor cpg donorcpg src get instruction getinstruction range rangeinstruction dest ret append range rangeinstruction fresh return instruction returninstruction keep returns keepreturns dest ret append fresh dest ret append instruction factory instructionfactory create branch instruction createbranchinstruction constants fresh branch instruction branchinstruction dest ret append branch instruction branchinstruction fresh fresh local variable instruction localvariableinstruction fresh ret indexed instruction indexedinstruction indexed indexed instruction indexedinstruction fresh old index oldindex indexed get index getindex fresh index freshindex frame env frameenv has key haskey old index oldindex fresh index freshindex recipient allocate local allocatelocal frame env frameenv old index oldindex fresh index freshindex fresh index freshindex frame env frameenv old index oldindex indexed set index setindex fresh index freshindex dest ret append fresh dest ret append fresh src to dest srctodest src dest pass retarget branch instructions copy ranges tags map tag map tagmap hash map hashmap map shadow map shadowmap hash map hashmap instruction handle instructionhandle dest ret get start getstart src source list sourcelist get start getstart dest dest dest get next getnext src src get next getnext instruction inst dest get instruction getinstruction retarget branches inst branch instruction branchinstruction branch instruction branchinstruction branch branch instruction branchinstruction inst instruction handle instructionhandle old target oldtarget branch get target gettarget instruction handle instructionhandle new target newtarget instruction handle instructionhandle src to dest srctodest old target oldtarget new target newtarget instruction replaced branch set target settarget new target newtarget branch select select select select branch instruction handle instructionhandle old targets oldtargets select get targets gettargets old targets oldtargets length select set target settarget instruction handle instructionhandle src to dest srctodest old targets oldtargets copy tags range attributes instruction targeter instructiontargeter src targeters srctargeters src get targeters gettargeters src targeters srctargeters src targeters srctargeters length instruction targeter instructiontargeter src targeters srctargeters tag tag old tag oldtag tag tag fresh tag tag map tagmap old tag oldtag fresh fresh old tag oldtag copy tag map tagmap old tag oldtag fresh dest add targeter addtargeter fresh exception range exceptionrange exception range exceptionrange exception range exceptionrange get start getstart src exception range exceptionrange fresh er fresher exception range exceptionrange recipient get body getbody get catch type getcatchtype get priority getpriority fresh er fresher associate with targets associatewithtargets dest instruction handle instructionhandle src to dest srctodest get end getend instruction handle instructionhandle src to dest srctodest get handler gethandler shadow range shadowrange shadow range shadowrange old range oldrange shadow range shadowrange old range oldrange get start getstart src bcel shadow bcelshadow old shadow oldshadow old range oldrange get shadow getshadow bcel shadow bcelshadow fresh enclosing freshenclosing old shadow oldshadow get enclosing shadow getenclosingshadow bcel shadow bcelshadow shadow map shadowmap old shadow oldshadow get enclosing shadow getenclosingshadow bcel shadow bcelshadow fresh shadow freshshadow old shadow oldshadow copy into copyinto recipient fresh enclosing freshenclosing shadow range shadowrange fresh range freshrange shadow range shadowrange recipient get body getbody fresh range freshrange associate with shadow associatewithshadow fresh shadow freshshadow fresh range freshrange associate with targets associatewithtargets dest instruction handle instructionhandle src to dest srctodest old range oldrange get end getend shadow map shadowmap old range oldrange fresh range freshrange recipient matched shadows matchedshadows add fresh shadow freshshadow xxx copied shadow update this var thisvar target var targetvar args var argsvar time add extra vars shadow keep returns keepreturns ret append footer ret generate argument stores preparation inlining param donor method inline signature param recipient method inline frame size allocate fresh locations param frame env frameenv empty environment populate map donor frame recipient frame param fact instruction factory recipient instruction list instructionlist gen argument stores genargumentstores lazy method gen lazymethodgen donor lazy method gen lazymethodgen recipient int map intmap frame env frameenv instruction factory instructionfactory fact instruction list instructionlist ret instruction list instructionlist donor frame pos donorframepos writing ret front popping donor is static isstatic target slot targetslot recipient allocate local allocatelocal type object ret insert instruction factory instructionfactory create store createstore type object target slot targetslot frame env frameenv donor frame pos donorframepos target slot targetslot donor frame pos donorframepos type arg types argtypes donor get argument types getargumenttypes len arg types argtypes length len type arg type argtype arg types argtypes arg slot argslot recipient allocate local allocatelocal arg type argtype ret insert instruction factory instructionfactory create store createstore arg type argtype arg slot argslot frame env frameenv donor frame pos donorframepos arg slot argslot donor frame pos donorframepos arg type argtype get size getsize ret called method assumes called method reference exact invokespecial param invoke instruction invokeinstruction instruction handle instructionhandle pointing called method lazy method gen lazymethodgen get called method getcalledmethod instruction handle instructionhandle invoke instruction invokeinstruction inst invoke instruction invokeinstruction get instruction getinstruction string method name methodname inst get name getname cpg string signature inst get signature getsignature cpg clazz get lazy method gen getlazymethodgen method name methodname signature weave in added methods weaveinaddedmethods collections sort added lazy method gens addedlazymethodgens comparator compare object object lazy method gen lazymethodgen lazy method gen lazymethodgen lazy method gen lazymethodgen lazy method gen lazymethodgen get name getname compare to compareto get name getname get signature getsignature compare to compareto get signature getsignature iterator added lazy method gens addedlazymethodgens iterator has next hasnext clazz add method gen addmethodgen lazy method gen lazymethodgen add per singleton field addpersingletonfield member field object type objecttype aspect type aspecttype object type objecttype bcel world bcelworld make bcel type makebceltype field get return type getreturntype string aspect name aspectname field get return type getreturntype get name getname lazy method gen lazymethodgen clinit clazz get static initializer getstaticinitializer instruction list instructionlist setup instruction list instructionlist instruction factory instructionfactory fact clazz get factory getfactory setup append fact create new createnew aspect type aspecttype setup append instruction factory instructionfactory create dup createdup setup append fact create invoke createinvoke aspect name aspectname init type type constants invokespecial setup append fact create field access createfieldaccess aspect name aspectname field get name getname aspect type aspecttype constants putstatic clinit get body getbody insert setup returns java constructor won weave instruction handle instructionhandle find super or this call findsuperorthiscall lazy method gen lazymethodgen depth instruction handle instructionhandle start get body getbody get start getstart start instruction inst start get instruction getinstruction inst invokespecial invokespecial inst get name getname cpg equals init depth depth start inst depth start start get next getnext match lazy method gen lazymethodgen bcel shadow bcelshadow enclosing shadow enclosingshadow list shadow accumulator shadowaccumulator array list arraylist starts angly startsangly get name getname char at charat match ajsynthetic constructors starts angly startsangly get name getname equals init match init matchinit shadow accumulator shadowaccumulator is aj synthetic isajsynthetic should weave body shouldweavebody starts angly startsangly get name getname equals clinit clinit shadow clinitshadow enclosing shadow enclosingshadow bcel shadow bcelshadow make static initialization makestaticinitialization system err println enclosing shadow enclosingshadow is advice method isadvicemethod enclosing shadow enclosingshadow bcel shadow bcelshadow make advice execution makeadviceexecution aj attribute ajattribute effective signature attribute effectivesignatureattribute effective get effective signature geteffectivesignature effective enclosing shadow enclosingshadow bcel shadow bcelshadow make method execution makemethodexecution can match body shadows canmatchbodyshadows effective is weave body isweavebody resolved member resolvedmember effective get effective signature geteffectivesignature annotations effective signatures stored effective signature hunt storing effective signature keeping sets fix annotations for resolved member fixannotationsforresolvedmember get member view getmemberview enclosing shadow enclosingshadow bcel shadow bcelshadow make shadow for method makeshadowformethod effective get shadow kind getshadowkind can match body shadows canmatchbodyshadows instruction handle instructionhandle get body getbody get start getstart get next getnext match enclosing shadow enclosingshadow shadow accumulator shadowaccumulator fixme asc change string match brittle check prevents field exec jps can match canmatch enclosing shadow enclosingshadow get kind getkind get name getname char at charat get name getname starts with startswith ajc inter field init interfieldinit match enclosing shadow enclosingshadow shadow accumulator shadowaccumulator enclosing shadow enclosingshadow init matched shadows matchedshadows shadow accumulator shadowaccumulator shadow accumulator shadowaccumulator is empty isempty match init matchinit lazy method gen lazymethodgen list shadow accumulator shadowaccumulator bcel shadow bcelshadow enclosing shadow enclosingshadow xxx enclosing join point wrong ignore me ignoreme instruction handle instructionhandle super or this call superorthiscall find super or this call findsuperorthiscall don walk bodies wrong constructor thingie super or this call superorthiscall enclosing shadow enclosingshadow bcel shadow bcelshadow make constructor execution makeconstructorexecution super or this call superorthiscall get effective signature geteffectivesignature enclosing shadow enclosingshadow set matching signature setmatchingsignature get effective signature geteffectivesignature get effective signature geteffectivesignature walk body before super or this call beforesuperorthiscall should weave body shouldweavebody can match body shadows canmatchbodyshadows instruction handle instructionhandle get body getbody get start getstart get next getnext super or this call superorthiscall before super or this call beforesuperorthiscall match before super or this call beforesuperorthiscall enclosing shadow enclosingshadow shadow accumulator shadowaccumulator can match canmatch shadow constructor execution constructorexecution match enclosing shadow enclosingshadow shadow accumulator shadowaccumulator add inits super or this call superorthiscall is this call isthiscall super or this call superorthiscall instruction handle instructionhandle curr enclosing shadow enclosingshadow get range getrange get start getstart iterator added super initializers as list addedsuperinitializersaslist iterator has next hasnext iface init list ifaceinitlist iface init list ifaceinitlist member iface init sig ifaceinitsig ajc member maker ajcmembermaker interface constructor interfaceconstructor on type ontype bcel shadow bcelshadow init shadow initshadow bcel shadow bcelshadow make iface initialization makeifaceinitialization iface init sig ifaceinitsig insert code place instruction list instructionlist inits gen init instructions geninitinstructions list match init shadow initshadow shadow accumulator shadowaccumulator inits is empty isempty init shadow initshadow init iface initializer initifaceinitializer curr init shadow initshadow get range getrange insert inits range outside before outsidebefore add initialization code instruction list instructionlist inits gen init instructions geninitinstructions added this initializers addedthisinitializers enclosing shadow enclosingshadow get range getrange insert inits range outside before outsidebefore inline constructors group partition constructors groups members call called group inline constructors groups initialization matched work added initialization addedinitialization match bcel shadow bcelshadow make unfinished initialization makeunfinishedinitialization initialization shadows initializationshadows added initialization addedinitialization match bcel shadow bcelshadow make unfinished preinitialization makeunfinishedpreinitialization initialization shadows initializationshadows matched shadows matchedshadows shadow accumulator shadowaccumulator added initialization addedinitialization shadow accumulator shadowaccumulator is empty isempty should weave body shouldweavebody lazy method gen lazymethodgen is bridge method isbridgemethod is aj synthetic isajsynthetic get name getname equals clinit aj attribute ajattribute effective signature attribute effectivesignatureattribute get effective signature geteffectivesignature is weave body isweavebody sorts mungers gens initializers order instruction list instructionlist gen init instructions geninitinstructions list list is static isstatic list partial order partialorder sort list list bcexception circularity inter types instruction list instructionlist ret instruction list instructionlist iterator list iterator has next hasnext concrete type munger concretetypemunger cmunger concrete type munger concretetypemunger new field type munger newfieldtypemunger munger new field type munger newfieldtypemunger cmunger get munger getmunger resolved member resolvedmember init method initmethod munger get init method getinitmethod cmunger get aspect type getaspecttype is static isstatic ret append instruction constants instructionconstants aload ret append utility create invoke createinvoke fact init method initmethod ret match lazy method gen lazymethodgen instruction handle instructionhandle bcel shadow bcelshadow enclosing shadow enclosingshadow list shadow accumulator shadowaccumulator instruction get instruction getinstruction field instruction fieldinstruction can match canmatch shadow field get fieldget can match canmatch shadow field set fieldset field instruction fieldinstruction field instruction fieldinstruction putfield putstatic check sets constant fields check previous instruction previous instruction push constant stack resolve field determine don generate shadow instruction handle instructionhandle prev handle prevhandle get prev getprev instruction prev i previ prev handle prevhandle get instruction getinstruction utility is constant push instruction isconstantpushinstruction prev i previ member field bcel world bcelworld make field join point signature makefieldjoinpointsignature clazz field instruction fieldinstruction resolved member resolvedmember resolved field resolvedfield field resolve resolved field resolvedfield find field join point modifier is final isfinal resolved field resolvedfield get modifiers getmodifiers constant join point can match canmatch shadow field set fieldset match set instruction matchsetinstruction enclosing shadow enclosingshadow shadow accumulator shadowaccumulator can match canmatch shadow field set fieldset match set instruction matchsetinstruction enclosing shadow enclosingshadow shadow accumulator shadowaccumulator can match canmatch shadow field get fieldget match get instruction matchgetinstruction enclosing shadow enclosingshadow shadow accumulator shadowaccumulator invoke instruction invokeinstruction invoke instruction invokeinstruction invoke instruction invokeinstruction get method name getmethodname clazz get constant pool gen getconstantpoolgen equals init can match canmatch shadow constructor call constructorcall match bcel shadow bcelshadow make constructor call makeconstructorcall enclosing shadow enclosingshadow shadow accumulator shadowaccumulator invokespecial string on type name ontypename get class name getclassname cpg on type name ontypename equals get enclosing class getenclosingclass get name getname match invoke instruction matchinvokeinstruction enclosing shadow enclosingshadow shadow accumulator shadowaccumulator call join point aspect j aspectj match invoke instruction matchinvokeinstruction enclosing shadow enclosingshadow shadow accumulator shadowaccumulator is joinpoint array construction enabled isjoinpointarrayconstructionenabled newarray anewarray multianewarray can match canmatch shadow constructor call constructorcall debug debug system err println array instruction anewarray anewarray array instruction arrayinstruction anewarray object type objecttype array type arraytype array instruction arrayinstruction get load class type getloadclasstype clazz get constant pool gen getconstantpoolgen debug system err println array type array type arraytype bcel shadow bcelshadow ctor call shadow ctorcallshadow bcel shadow bcelshadow make array constructor call makearrayconstructorcall enclosing shadow enclosingshadow match ctor call shadow ctorcallshadow shadow accumulator shadowaccumulator newarray newarray array instruction arrayinstruction newarray type array type arraytype array instruction arrayinstruction get type gettype debug system err println array type array type arraytype bcel shadow bcelshadow ctor call shadow ctorcallshadow bcel shadow bcelshadow make array constructor call makearrayconstructorcall enclosing shadow enclosingshadow match ctor call shadow ctorcallshadow shadow accumulator shadowaccumulator multianewarray multianewarray array instruction arrayinstruction multianewarray object type objecttype array type arraytype array instruction arrayinstruction get load class type getloadclasstype clazz get constant pool gen getconstantpoolgen debug system err println array type array type arraytype bcel shadow bcelshadow ctor call shadow ctorcallshadow bcel shadow bcelshadow make array constructor call makearrayconstructorcall enclosing shadow enclosingshadow match ctor call shadow ctorcallshadow shadow accumulator shadowaccumulator thinking implementing aaload aaload array load arrayload aaload type array type arraytype array load arrayload get type gettype clazz get constant pool gen getconstantpoolgen bcel shadow bcelshadow array load shadow arrayloadshadow bcel shadow bcelshadow make array load call makearrayloadcall enclosing shadow enclosingshadow match array load shadow arrayloadshadow shadow accumulator shadowaccumulator aastore magic required can match canmatch shadow exception handler exceptionhandler range is range handle israngehandle instruction targeter instructiontargeter targeters get targeters gettargeters targeters targeters length instruction targeter instructiontargeter targeters exception range exceptionrange get handler gethandler exception range exceptionrange exception range exceptionrange get catch type getcatchtype is init failure handler isinitfailurehandler match bcel shadow bcelshadow make exception handler makeexceptionhandler enclosing shadow enclosingshadow shadow accumulator shadowaccumulator is init failure handler isinitfailurehandler instruction handle instructionhandle skip astore aload start handler check instruction putstatic ajc init failure cause initfailurecause handler created aspect clinit aspectclinit generate post synthetic code generatepostsyntheticcode instruction handle instructionhandle two instructions away twoinstructionsaway get next getnext get next getnext two instructions away twoinstructionsaway get instruction getinstruction putstatic string putstatic two instructions away twoinstructionsaway get instruction getinstruction get field name getfieldname cpg equals name mangler namemangler initfailurecause field match set instruction matchsetinstruction lazy method gen lazymethodgen instruction handle instructionhandle bcel shadow bcelshadow enclosing shadow enclosingshadow list shadow accumulator shadowaccumulator field instruction fieldinstruction field instruction fieldinstruction get instruction getinstruction member field bcel world bcelworld make field join point signature makefieldjoinpointsignature clazz synthetic fields join points field get name getname starts with startswith name mangler namemangler prefix resolved member resolvedmember resolved field resolvedfield field resolve resolved field resolvedfield find field join point modifier is final isfinal resolved field resolvedfield get modifiers getmodifiers utility is constant push instruction isconstantpushinstruction get prev getprev get instruction getinstruction join point resolved field resolvedfield is synthetic issynthetic sets synthetics join points match bcel shadow bcelshadow make field set makefieldset enclosing shadow enclosingshadow shadow accumulator shadowaccumulator match get instruction matchgetinstruction lazy method gen lazymethodgen instruction handle instructionhandle bcel shadow bcelshadow enclosing shadow enclosingshadow list shadow accumulator shadowaccumulator field instruction fieldinstruction field instruction fieldinstruction get instruction getinstruction member field bcel world bcelworld make field join point signature makefieldjoinpointsignature clazz synthetic fields join points field get name getname starts with startswith name mangler namemangler prefix resolved member resolvedmember resolved field resolvedfield field resolve resolved field resolvedfield find field join point resolved field resolvedfield is synthetic issynthetic sets synthetics join points bcel shadow bcelshadow bcel shadow bcelshadow make field get makefieldget resolved field resolvedfield enclosing shadow enclosingshadow string cname get class name getclassname cpg resolved field resolvedfield get declaring type getdeclaringtype get name getname equals cname set actual target type setactualtargettype cname match shadow accumulator shadowaccumulator named resolved type method member member type returns finds resolved member resolvedmember find resolved member named findresolvedmembernamed resolved type resolvedtype type string method name methodname resolved member resolvedmember all methods allmethods type get declared methods getdeclaredmethods all methods allmethods length resolved member resolvedmember member all methods allmethods member get name getname equals method name methodname member resolvedmember discover real annotations resolvedmember contents effective signature attribute time annotations stored resolved member resolvedmember param sig pretend somesuch param declared sig declaredsig real sig blah ajc xxx fix annotations for resolved member fixannotationsforresolvedmember resolved member resolvedmember resolved member resolvedmember declared sig declaredsig unresolved type unresolvedtype member host type memberhosttype declared sig declaredsig get declaring type getdeclaringtype resolved type resolvedtype annotations resolved type resolvedtype map to annotations maptoannotations string method name methodname declared sig declaredsig get name getname fixme asc shouldnt rely string names annotations get kind getkind member field method name methodname starts with startswith ajc inline access field inlineaccessfield resolved member resolvedmember resolved dooberry resolveddooberry resolve annotations resolved dooberry resolveddooberry get annotation types getannotationtypes resolved member resolvedmember realthing ajc member maker ajcmembermaker inter field initializer interfieldinitializer member host type memberhosttype resolved member resolvedmember resolved dooberry resolveddooberry resolve realthing annotations resolved dooberry resolveddooberry get annotation types getannotationtypes get kind getkind member method is abstract isabstract method name methodname starts with startswith ajc inline access method inlineaccessmethod method name methodname starts with startswith ajc super dispatch superdispatch resolved member resolvedmember resolved dooberry resolveddooberry resolve declared sig declaredsig annotations resolved dooberry resolveddooberry get annotation types getannotationtypes resolved member resolvedmember realthing ajc member maker ajcmembermaker inter method dispatcher intermethoddispatcher resolve member host type memberhosttype resolve resolved member resolvedmember resolved dooberry resolveddooberry resolve realthing resolved member resolvedmember the real member therealmember find resolved member named findresolvedmembernamed member host type memberhosttype resolve realthing get name getname amc temp guard the real member therealmember unsupported operation exception unsupportedoperationexception limitation find members type variable argument upper bound annotations the real member therealmember get annotation types getannotationtypes get kind getkind member constructor resolved member resolvedmember real thing realthing ajc member maker ajcmembermaker post introduced constructor postintroducedconstructor member host type memberhosttype resolve get declaring type getdeclaringtype get parameter types getparametertypes resolved member resolvedmember resolved dooberry resolveddooberry resolve real thing realthing amc temp guard resolved dooberry resolveddooberry unsupported operation exception unsupportedoperationexception limitation find members type variable argument upper bound annotations resolved dooberry resolveddooberry get annotation types getannotationtypes annotations annotations resolved type resolvedtype map to annotations maptoannotations annotations set annotation types setannotationtypes annotations unsupported operation exception unsupportedoperationexception throwable bcexception unexpectedly bang searching annotations match invoke instruction matchinvokeinstruction lazy method gen lazymethodgen instruction handle instructionhandle invoke instruction invokeinstruction invoke bcel shadow bcelshadow enclosing shadow enclosingshadow list shadow accumulator shadowaccumulator string method name methodname invoke get name getname cpg method name methodname starts with startswith name mangler namemangler prefix member jp sig jpsig make join point signature for method invocation makejoinpointsignatureformethodinvocation clazz invoke resolved member resolvedmember declared sig declaredsig jp sig jpsig resolve system err println method declared sig declaredsig declared sig declaredsig declared sig declaredsig declared sig declaredsig get kind getkind member field shadow kind kind jp sig jpsig get return type getreturntype equals resolved type resolvedtype kind shadow field set fieldset kind shadow field get fieldget can match canmatch shadow field get fieldget can match canmatch shadow field set fieldset match bcel shadow bcelshadow make shadow for method call makeshadowformethodcall enclosing shadow enclosingshadow kind declared sig declaredsig shadow accumulator shadowaccumulator aj attribute ajattribute effective signature attribute effectivesignatureattribute effective sig effectivesig declared sig declaredsig get effective signature geteffectivesignature effective sig effectivesig system err println call inter type member effective sig effectivesig effective sig effectivesig is weave body isweavebody resolved member resolvedmember effective sig effectivesig get effective signature geteffectivesignature abracadabra fix annotations for resolved member fixannotationsforresolvedmember declared sig declaredsig can match canmatch effective sig effectivesig get shadow kind getshadowkind match bcel shadow bcelshadow make shadow for method call makeshadowformethodcall enclosing shadow enclosingshadow effective sig effectivesig get shadow kind getshadowkind shadow accumulator shadowaccumulator can match canmatch shadow method call methodcall match bcel shadow bcelshadow make method call makemethodcall enclosing shadow enclosingshadow shadow accumulator shadowaccumulator worlds share config created checked xset for low level context capturing checkedxsetforlowlevelcontextcapturing capture low level context capturelowlevelcontext match bcel shadow bcelshadow shadow list shadow accumulator shadowaccumulator system err println match shadow capture low level context capturelowlevelcontext duplicate blocks context capture faster multiple ifs context token contexttoken shadow match token shadowmatchtoken compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext matching shadow shadow is matched ismatched iterator shadow mungers shadowmungers iterator has next hasnext shadow munger shadowmunger munger shadow munger shadowmunger context token contexttoken munger match token mungermatchtoken compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext matching pointcut munger get pointcut getpointcut munger match shadow pass munger weaver metrics weavermetrics record match result recordmatchresult shadow add munger addmunger munger is matched ismatched shadow get kind getkind shadow static initialization staticinitialization clazz warn on added static initializer warnonaddedstaticinitializer shadow munger get source location getsourcelocation pass munger weaver metrics weavermetrics record match result recordmatchresult compilation and weaving context compilationandweavingcontext leaving phase leavingphase munger match token mungermatchtoken is matched ismatched shadow accumulator shadowaccumulator add shadow compilation and weaving context compilationandweavingcontext leaving phase leavingphase shadow match token shadowmatchtoken is matched ismatched is matched ismatched iterator shadow mungers shadowmungers iterator has next hasnext shadow munger shadowmunger munger shadow munger shadowmunger munger match shadow shadow add munger addmunger munger is matched ismatched shadow get kind getkind shadow static initialization staticinitialization clazz warn on added static initializer warnonaddedstaticinitializer shadow munger get source location getsourcelocation is matched ismatched shadow accumulator shadowaccumulator add shadow is matched ismatched implement lazy method gen lazymethodgen list shadows matched shadows matchedshadows shadows iterator shadows iterator has next hasnext bcel shadow bcelshadow shadow bcel shadow bcelshadow context token contexttoken tok compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext implementing shadow shadow shadow implement compilation and weaving context compilationandweavingcontext leaving phase leavingphase tok get max locals getmaxlocals matched shadows matchedshadows lazy class gen lazyclassgen get lazy class gen getlazyclassgen clazz list get shadow mungers getshadowmungers shadow mungers shadowmungers bcel world bcelworld get world getworld called bcel weaver bcelweaver bcel class weavers bcelclassweavers collect reweavable info set reweavable mode setreweavablemode mode in reweavable mode inreweavablemode mode get reweavable mode getreweavablemode in reweavable mode inreweavablemode string to string tostring bcel class weaver bcelclassweaver instance clazz