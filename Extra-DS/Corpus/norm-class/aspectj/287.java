copyright contributors rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors alexandre vasseur initial implementation org aspectj weaver bcel org aspectj apache bcel constants org aspectj apache bcel constant pool gen constantpoolgen org aspectj apache bcel field instruction fieldinstruction org aspectj apache bcel getfield org aspectj apache bcel getstatic org aspectj apache bcel instruction org aspectj apache bcel instruction constants instructionconstants org aspectj apache bcel instruction factory instructionfactory org aspectj apache bcel instruction handle instructionhandle org aspectj apache bcel instruction list instructionlist org aspectj apache bcel invoke instruction invokeinstruction org aspectj apache bcel type org aspectj weaver aj attribute ajattribute org aspectj weaver ajc member maker ajcmembermaker org aspectj weaver member org aspectj weaver name mangler namemangler org aspectj weaver resolved member resolvedmember org aspectj weaver resolved type resolvedtype org aspectj weaver shadow org aspectj weaver unresolved type unresolvedtype java util hash map hashmap java util hash set hashset java util iterator java util map java util java util list access method field body advices replace invocations wrapper call advice inlined munger aspects inlining wrapper compile time specific logic munger ala call pointcuts matched wrapped member effective signature effectivesignature attribute author href mailto alex gnilux dot alexandre vasseur bcel access for inline munger bcelaccessforinlinemunger bcel type munger bceltypemunger wrapper member cache key wrapper structure queried regular shadow matching advice body call occurs map inline accessor bcel methods inlineaccessorbcelmethods aspect lazy class gen lazyclassgen aspect gen aspectgen wrapper method add munging inline accessor method gens inlineaccessormethodgens bcel access for inline munger bcelaccessforinlinemunger resolved type resolvedtype aspect type aspecttype aspect type aspecttype aspect type aspecttype get world getworld is xno inline isxnoinline error happen munge bcel class weaver bcelclassweaver weaver aspect gen aspectgen weaver get lazy class gen getlazyclassgen inline accessor bcel methods inlineaccessorbcelmethods hash map hashmap inline accessor method gens inlineaccessormethodgens hash set hashset advices iterator iterator aspect gen aspectgen get method gens getmethodgens iterator iterator has next hasnext lazy method gen lazymethodgen method gen methodgen lazy method gen lazymethodgen iterator method gen methodgen has annotation hasannotation unresolved type unresolvedtype for name forname org aspectj lang annotation open around advice openaroundadvice method gen methodgen add accessors iterator iterator inline accessor method gens inlineaccessormethodgens iterator iterator has next hasnext lazy method gen lazymethodgen lazy method gen lazymethodgen lazy method gen lazymethodgen iterator aspect gen aspectgen add method gen addmethodgen lazy method gen lazymethodgen flush inline accessor method gens inlineaccessormethodgens wrapper find effective signature needed param member resolved member resolvedmember get matching synthetic member getmatchingsyntheticmember member member resolved member resolvedmember inline accessor bcel methods inlineaccessorbcelmethods member get name getname resolved member resolvedmember get signature getsignature match aspect param on type ontype matches resolved type resolvedtype on type ontype aspect type aspecttype equals on type ontype prepare advice flag inlined param around advice aroundadvice open around advice openaroundadvice lazy method gen lazymethodgen around advice aroundadvice instruction handle instructionhandle curr around advice aroundadvice get body getbody get start getstart instruction handle instructionhandle around advice aroundadvice get body getbody get end getend constant pool gen constantpoolgen cpg around advice aroundadvice get enclosing class getenclosingclass get constant pool gen getconstantpoolgen instruction factory instructionfactory factory around advice aroundadvice get enclosing class getenclosingclass get factory getfactory realized cannot inline realizedcannotinline curr realized cannot inline realizedcannotinline inline advice futher handling instruction handle instructionhandle curr get next getnext instruction inst curr get instruction getinstruction open method call inst invoke instruction invokeinstruction invoke instruction invokeinstruction invoke invoke instruction invokeinstruction inst resolved type resolvedtype callee aspect gen aspectgen get world getworld resolve unresolved type unresolvedtype for name forname invoke get class name getclassname cpg method list declared calls alike list methods callee get methods without iterator getmethodswithoutiterator iterator iter methods iterator iter has next hasnext resolved member resolvedmember resolved member resolvedmember resolved member resolvedmember iter invoke get name getname cpg equals resolved member resolvedmember get name getname invoke get signature getsignature cpg equals resolved member resolvedmember get signature getsignature resolved member resolvedmember is public ispublic init equals invoke get name getname cpg skipping open constructor occur aspect type complex handle dup invokespecial around advice aroundadvice set can inline setcaninline realized cannot inline realizedcannotinline specific handling foo calls foo aspect type aspecttype get superclass getsuperclass aspect type aspecttype get superclass getsuperclass get name getname equals callee get name getname resolved member resolvedmember accessor create or get inline accessor for super dispatch createorgetinlineaccessorforsuperdispatch resolved member resolvedmember invoke instruction invokeinstruction new inst newinst factory create invoke createinvoke aspect type aspecttype get name getname accessor get name getname bcel world bcelworld make bcel type makebceltype accessor get return type getreturntype bcel world bcelworld make bcel types makebceltypes accessor get parameter types getparametertypes constants invokevirtual curr set instruction setinstruction new inst newinst resolved member resolvedmember accessor create or get inline accessor for method createorgetinlineaccessorformethod resolved member resolvedmember invoke instruction invokeinstruction new inst newinst factory create invoke createinvoke aspect type aspecttype get name getname accessor get name getname bcel world bcelworld make bcel type makebceltype accessor get return type getreturntype bcel world bcelworld make bcel types makebceltypes accessor get parameter types getparametertypes constants invokestatic curr set instruction setinstruction new inst newinst matching callee member swapped instruction accessor inst field instruction fieldinstruction field instruction fieldinstruction invoke field instruction fieldinstruction inst resolved type resolvedtype callee aspect gen aspectgen get world getworld resolve unresolved type unresolvedtype for name forname invoke get class name getclassname cpg callee get declared java fields getdeclaredjavafields length resolved member resolvedmember resolved member resolvedmember callee get declared java fields getdeclaredjavafields invoke get name getname cpg equals resolved member resolvedmember get name getname invoke get signature getsignature cpg equals resolved member resolvedmember get signature getsignature resolved member resolvedmember is public ispublic resolved member resolvedmember accessor inst getfield inst getstatic accessor create or get inline accessor for field get createorgetinlineaccessorforfieldget resolved member resolvedmember accessor create or get inline accessor for field set createorgetinlineaccessorforfieldset resolved member resolvedmember invoke instruction invokeinstruction new inst newinst factory create invoke createinvoke aspect type aspecttype get name getname accessor get name getname bcel world bcelworld make bcel type makebceltype accessor get return type getreturntype bcel world bcelworld make bcel types makebceltypes accessor get parameter types getparametertypes constants invokestatic curr set instruction setinstruction new inst newinst matching callee member swapped instruction accessor curr inline analysis realized cannot inline realizedcannotinline around advice aroundadvice set can inline setcaninline add inline wrapper method call param resolved member resolvedmember resolved member resolvedmember create or get inline accessor for method createorgetinlineaccessorformethod resolved member resolvedmember resolved member resolvedmember string accessor name mangler namemangler inline access method for method inlineaccessmethodformethod resolved member resolvedmember get name getname resolved member resolvedmember get declaring type getdeclaringtype aspect type aspecttype resolved member resolvedmember inline accessor inlineaccessor resolved member resolvedmember inline accessor bcel methods inlineaccessorbcelmethods accessor inline accessor inlineaccessor add method aspect inline accessor inlineaccessor ajc member maker ajcmembermaker inline access method for method inlineaccessmethodformethod aspect type aspecttype resolved member resolvedmember add accessor method aspect bytecode instruction factory instructionfactory factory aspect gen aspectgen get factory getfactory lazy method gen lazymethodgen method make method gen makemethodgen aspect gen aspectgen inline accessor inlineaccessor flag synthetic aj synthetic ajsynthetic method make synthetic makesynthetic method add attribute addattribute bcel attributes bcelattributes bcel attribute bcelattribute aj attribute ajattribute aj synthetic ajsynthetic aspect gen aspectgen get constant pool gen getconstantpoolgen flag effective signature deobfuscate signature apply method call pointcut method add attribute addattribute bcel attributes bcelattributes bcel attribute bcelattribute aj attribute ajattribute effective signature attribute effectivesignatureattribute resolved member resolvedmember shadow method call methodcall aspect gen aspectgen get constant pool gen getconstantpoolgen inline accessor method gens inlineaccessormethodgens add method instruction list instructionlist method get body getbody register inline accessor inlineaccessor get parameter types getparametertypes length unresolved type unresolvedtype type x typex inline accessor inlineaccessor get parameter types getparametertypes type type bcel world bcelworld make bcel type makebceltype type x typex append instruction factory instructionfactory create load createload type register register type get size getsize append utility create invoke createinvoke factory resolved member resolvedmember is static isstatic constants invokestatic constants invokespecial resolved member resolvedmember append instruction factory instructionfactory create return createreturn bcel world bcelworld make bcel type makebceltype inline accessor inlineaccessor get return type getreturntype inline accessor bcel methods inlineaccessorbcelmethods accessor bcel method bcelmethod aspect gen aspectgen get bcel object type getbcelobjecttype method get method getmethod inline accessor inlineaccessor add inline wrapper method call param resolved member resolvedmember resolved member resolvedmember create or get inline accessor for super dispatch createorgetinlineaccessorforsuperdispatch resolved member resolvedmember resolved member resolvedmember string accessor name mangler namemangler super dispatch method superdispatchmethod aspect type aspecttype resolved member resolvedmember get name getname resolved member resolvedmember inline accessor inlineaccessor resolved member resolvedmember inline accessor bcel methods inlineaccessorbcelmethods accessor inline accessor inlineaccessor add method aspect inline accessor inlineaccessor ajc member maker ajcmembermaker super access method superaccessmethod aspect type aspecttype resolved member resolvedmember add accessor method aspect bytecode instruction factory instructionfactory factory aspect gen aspectgen get factory getfactory lazy method gen lazymethodgen method make method gen makemethodgen aspect gen aspectgen inline accessor inlineaccessor flag synthetic aj synthetic ajsynthetic method make synthetic makesynthetic method add attribute addattribute bcel attributes bcelattributes bcel attribute bcelattribute aj attribute ajattribute aj synthetic ajsynthetic aspect gen aspectgen get constant pool gen getconstantpoolgen flag effective signature deobfuscate signature apply method call pointcut method add attribute addattribute bcel attributes bcelattributes bcel attribute bcelattribute aj attribute ajattribute effective signature attribute effectivesignatureattribute resolved member resolvedmember shadow method call methodcall aspect gen aspectgen get constant pool gen getconstantpoolgen inline accessor method gens inlineaccessormethodgens add method instruction list instructionlist method get body getbody append instruction constants instructionconstants aload register inline accessor inlineaccessor get parameter types getparametertypes length unresolved type unresolvedtype type x typex inline accessor inlineaccessor get parameter types getparametertypes type type bcel world bcelworld make bcel type makebceltype type x typex append instruction factory instructionfactory create load createload type register register type get size getsize append utility create invoke createinvoke factory constants invokespecial resolved member resolvedmember append instruction factory instructionfactory create return createreturn bcel world bcelworld make bcel type makebceltype inline accessor inlineaccessor get return type getreturntype inline accessor bcel methods inlineaccessorbcelmethods accessor bcel method bcelmethod aspect gen aspectgen get bcel object type getbcelobjecttype method get method getmethod inline accessor inlineaccessor add inline wrapper field param resolved member resolvedmember resolved member resolvedmember create or get inline accessor for field get createorgetinlineaccessorforfieldget resolved member resolvedmember resolved member resolvedmember string accessor name mangler namemangler inline access method for field get inlineaccessmethodforfieldget resolved member resolvedmember get name getname resolved member resolvedmember get declaring type getdeclaringtype aspect type aspecttype resolved member resolvedmember inline accessor inlineaccessor resolved member resolvedmember inline accessor bcel methods inlineaccessorbcelmethods accessor inline accessor inlineaccessor add method aspect inline accessor inlineaccessor ajc member maker ajcmembermaker inline access method for field get inlineaccessmethodforfieldget aspect type aspecttype resolved member resolvedmember add accessor method aspect bytecode instruction factory instructionfactory factory aspect gen aspectgen get factory getfactory lazy method gen lazymethodgen method make method gen makemethodgen aspect gen aspectgen inline accessor inlineaccessor flag synthetic aj synthetic ajsynthetic method make synthetic makesynthetic method add attribute addattribute bcel attributes bcelattributes bcel attribute bcelattribute aj attribute ajattribute aj synthetic ajsynthetic aspect gen aspectgen get constant pool gen getconstantpoolgen flag effective signature deobfuscate signature apply method call pointcut method add attribute addattribute bcel attributes bcelattributes bcel attribute bcelattribute aj attribute ajattribute effective signature attribute effectivesignatureattribute resolved member resolvedmember shadow field get fieldget aspect gen aspectgen get constant pool gen getconstantpoolgen inline accessor method gens inlineaccessormethodgens add method instruction list instructionlist method get body getbody resolved member resolvedmember is static isstatic field accessed accessor sole parameter append instruction constants instructionconstants aload append utility create get createget factory resolved member resolvedmember append instruction factory instructionfactory create return createreturn bcel world bcelworld make bcel type makebceltype inline accessor inlineaccessor get return type getreturntype inline accessor bcel methods inlineaccessorbcelmethods accessor bcel method bcelmethod aspect gen aspectgen get bcel object type getbcelobjecttype method get method getmethod inline accessor inlineaccessor add inline wrapper field param resolved member resolvedmember resolved member resolvedmember create or get inline accessor for field set createorgetinlineaccessorforfieldset resolved member resolvedmember resolved member resolvedmember string accessor name mangler namemangler inline access method for field set inlineaccessmethodforfieldset resolved member resolvedmember get name getname resolved member resolvedmember get declaring type getdeclaringtype aspect type aspecttype resolved member resolvedmember inline accessor inlineaccessor resolved member resolvedmember inline accessor bcel methods inlineaccessorbcelmethods accessor inline accessor inlineaccessor add method aspect inline accessor inlineaccessor ajc member maker ajcmembermaker inline access method for field set inlineaccessmethodforfieldset aspect type aspecttype resolved member resolvedmember add accessor method aspect bytecode instruction factory instructionfactory factory aspect gen aspectgen get factory getfactory lazy method gen lazymethodgen method make method gen makemethodgen aspect gen aspectgen inline accessor inlineaccessor flag synthetic aj synthetic ajsynthetic method make synthetic makesynthetic method add attribute addattribute bcel attributes bcelattributes bcel attribute bcelattribute aj attribute ajattribute aj synthetic ajsynthetic aspect gen aspectgen get constant pool gen getconstantpoolgen flag effective signature deobfuscate signature apply method call pointcut method add attribute addattribute bcel attributes bcelattributes bcel attribute bcelattribute aj attribute ajattribute effective signature attribute effectivesignatureattribute resolved member resolvedmember shadow field set fieldset aspect gen aspectgen get constant pool gen getconstantpoolgen inline accessor method gens inlineaccessormethodgens add method instruction list instructionlist method get body getbody resolved member resolvedmember is static isstatic field accessed sole parameter field append instruction factory instructionfactory create load createload bcel world bcelworld make bcel type makebceltype resolved member resolvedmember get return type getreturntype append instruction constants instructionconstants aload append instruction factory instructionfactory create load createload bcel world bcelworld make bcel type makebceltype resolved member resolvedmember get return type getreturntype append utility create set createset factory resolved member resolvedmember append instruction constants instructionconstants inline accessor bcel methods inlineaccessorbcelmethods accessor bcel method bcelmethod aspect gen aspectgen get bcel object type getbcelobjecttype method get method getmethod inline accessor inlineaccessor