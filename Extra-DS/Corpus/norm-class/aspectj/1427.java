copyright palo alto center incorporated parc contributors rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation adrian colyer updates org aspectj weaver patterns java util array list arraylist java util collections java util iterator java util list java util org aspectj weaver isource context isourcecontext org aspectj weaver member org aspectj weaver shadow org aspectj weaver unresolved type unresolvedtype org aspectj weaver internal tools pointcut designator handler based pointcut pointcutdesignatorhandlerbasedpointcut org aspectj weaver reflect reflection world reflectionworld org aspectj weaver tools context based matcher contextbasedmatcher org aspectj weaver tools pointcut designator handler pointcutdesignatorhandler xxx doesn handle errors extra tokens ignores pattern parser patternparser itoken source itokensource token source tokensource isource context isourcecontext source context sourcecontext thread safe intended allow has type patterns allowhastypepatterns extension handlers weaver tools api pointcut designator handlers pointcutdesignatorhandlers collections empty reflection world reflectionworld constructor pattern parser patternparser pattern parser patternparser itoken source itokensource token source tokensource token source tokensource token source tokensource source context sourcecontext token source tokensource get source context getsourcecontext weaver tools api set pointcut designator handlers setpointcutdesignatorhandlers handlers reflection world reflectionworld pointcut designator handlers pointcutdesignatorhandlers handlers per clause perclause maybe parse per clause maybeparseperclause itoken tok token source tokensource peek tok itoken eof tok is identifier isidentifier string tok get string getstring equals issingleton parse per singleton parsepersingleton equals perthis parse per object parseperobject equals pertarget parse per object parseperobject equals percflow parse per cflow parsepercflow equals percflowbelow parse per cflow parsepercflow ptwimpl parse pertypewithin clause equals pertypewithin parse per type within parsepertypewithin per clause perclause parse per cflow parsepercflow is below isbelow parse identifier parseidentifier eat pointcut entry parse pointcut parsepointcut eat per cflow percflow entry is below isbelow per clause perclause parse per object parseperobject is this isthis parse identifier parseidentifier eat pointcut entry parse pointcut parsepointcut eat per object perobject entry is this isthis per clause perclause parse per type within parsepertypewithin parse identifier parseidentifier eat type pattern typepattern within type pattern withintypepattern parse type pattern parsetypepattern eat per type within pertypewithin within type pattern withintypepattern per clause perclause parse per singleton parsepersingleton parse identifier parseidentifier eat eat per singleton persingleton declare parse declare parsedeclare start pos startpos token source tokensource peek get start getstart eat identifier eatidentifier declare string kind parse identifier parseidentifier declare ret kind equals error eat ret parse error or warning parseerrororwarning kind equals warning eat ret parse error or warning parseerrororwarning kind equals precedence eat ret parse dominates parsedominates kind equals dominates parser exception parserexception changed declare precedence token source tokensource peek kind equals parents ret parse parents parseparents kind equals soft eat ret parse soft parsesoft parser exception parserexception expected error warning parents soft precedence type method constructor field token source tokensource peek end pos endpos token source tokensource peek get end getend ret set location setlocation source context sourcecontext start pos startpos end pos endpos ret declare parse declare annotation parsedeclareannotation start pos startpos token source tokensource peek get start getstart eat identifier eatidentifier declare eat string kind parse identifier parseidentifier eat declare ret kind equals type ret parse declare at type parsedeclareattype kind equals method ret parse declare at method parsedeclareatmethod kind equals field ret parse declare at field parsedeclareatfield kind equals constructor ret parse declare at method parsedeclareatmethod parser exception parserexception type method field constructor token source tokensource peek eat end pos endpos token source tokensource peek get end getend ret set location setlocation source context sourcecontext start pos startpos end pos endpos ret declare annotation declareannotation parse declare at type parsedeclareattype allow has type patterns allowhastypepatterns type pattern typepattern parse type pattern parsetypepattern allow has type patterns allowhastypepatterns declare annotation declareannotation declare annotation declareannotation type declare annotation declareannotation parse declare at method parsedeclareatmethod is method ismethod signature pattern signaturepattern parse method or constructor signature pattern parsemethodorconstructorsignaturepattern is constructor pattern isconstructorpattern get kind getkind member constructor is method ismethod is constructor pattern isconstructorpattern parser exception parserexception method signature pattern token source tokensource peek is method ismethod is constructor pattern isconstructorpattern parser exception parserexception constructor signature pattern token source tokensource peek is constructor pattern isconstructorpattern declare annotation declareannotation declare annotation declareannotation constructor declare annotation declareannotation declare annotation declareannotation method declare annotation declareannotation parse declare at field parsedeclareatfield declare annotation declareannotation declare annotation declareannotation field parse field signature pattern parsefieldsignaturepattern declare precedence declareprecedence parse dominates parsedominates list array list arraylist add parse type pattern parsetypepattern maybe eat maybeeat declare precedence declareprecedence declare parse parents parseparents simplified design requires raw types declare parents spec allowed string type parameters typeparameters maybe parse simple type variable list maybeparsesimpletypevariablelist eat allow has type patterns allowhastypepatterns type pattern typepattern parse type pattern parsetypepattern allow has type patterns allowhastypepatterns itoken token source tokensource get string getstring equals get string getstring equals parser exception parserexception is extends isextends get string getstring equals list array list arraylist add parse type pattern parsetypepattern maybe eat maybeeat xxx chain enforce exact type patterns exacttypepatterns declare parents declareparents decp declare parents declareparents is extends isextends decp declare parse soft parsesoft type pattern typepattern parse type pattern parsetypepattern eat pointcut pointcut parse pointcut parsepointcut declare soft declaresoft pointcut declare parse error or warning parseerrororwarning is error iserror pointcut pointcut parse pointcut parsepointcut eat string message parse possible string sequence parsepossiblestringsequence declare error or warning declareerrororwarning is error iserror pointcut message pointcut parse pointcut parsepointcut pointcut parse atomic pointcut parseatomicpointcut maybe eat maybeeat and pointcut andpointcut parse not or pointcut parsenotorpointcut maybe eat maybeeat or pointcut orpointcut parse pointcut parsepointcut pointcut parse not or pointcut parsenotorpointcut pointcut parse atomic pointcut parseatomicpointcut maybe eat maybeeat and pointcut andpointcut parse pointcut parsepointcut pointcut parse atomic pointcut parseatomicpointcut maybe eat maybeeat start pos startpos token source tokensource peek get start getstart pointcut not pointcut notpointcut parse atomic pointcut parseatomicpointcut start pos startpos maybe eat maybeeat pointcut parse pointcut parsepointcut eat maybe eat maybeeat start pos startpos token source tokensource peek get start getstart pointcut parse annotation pointcut parseannotationpointcut end pos endpos token source tokensource peek get end getend set location setlocation source context sourcecontext start pos startpos end pos endpos start pos startpos token source tokensource peek get start getstart pointcut parse single pointcut parsesinglepointcut end pos endpos token source tokensource peek get end getend set location setlocation source context sourcecontext start pos startpos end pos endpos pointcut parse single pointcut parsesinglepointcut start token source tokensource get index getindex itoken token source tokensource peek pointcut maybe get parsed pointcut maybegetparsedpointcut token source tokensource string kind parse identifier parseidentifier string type variables typevariables maybe parse simple type variable list maybeparsesimpletypevariablelist kind equals execution kind equals call kind equals kind equals parse kinded pointcut parsekindedpointcut kind kind equals args parse args pointcut parseargspointcut kind equals parse this or target pointcut parsethisortargetpointcut kind kind equals target parse this or target pointcut parsethisortargetpointcut kind kind equals parse within pointcut parsewithinpointcut kind equals withincode parse within code pointcut parsewithincodepointcut kind equals cflow parse cflow pointcut parsecflowpointcut kind equals cflowbelow parse cflow pointcut parsecflowpointcut kind equals adviceexecution eat eat kinded pointcut kindedpointcut shadow advice execution adviceexecution signature pattern signaturepattern member advice modifiers pattern modifierspattern type pattern typepattern type pattern typepattern name pattern namepattern type pattern list typepatternlist throws pattern throwspattern annotation type pattern annotationtypepattern kind equals handler eat type pattern typepattern type pat typepat parse type pattern parsetypepattern eat handler pointcut handlerpointcut type pat typepat kind equals initialization eat signature pattern signaturepattern sig parse constructor signature pattern parseconstructorsignaturepattern eat kinded pointcut kindedpointcut shadow initialization sig kind equals staticinitialization eat type pattern typepattern type pat typepat parse type pattern parsetypepattern eat kinded pointcut kindedpointcut shadow static initialization staticinitialization signature pattern signaturepattern member initialization modifiers pattern modifierspattern type pattern typepattern type pat typepat name pattern namepattern type pattern list typepatternlist empty throws pattern throwspattern annotation type pattern annotationtypepattern kind equals preinitialization eat signature pattern signaturepattern sig parse constructor signature pattern parseconstructorsignaturepattern eat kinded pointcut kindedpointcut shadow pre initialization preinitialization sig kind equals style support eat maybe eat identifier maybeeatidentifier eat if pointcut ifpointcut if true pointcut iftruepointcut maybe eat identifier maybeeatidentifier eat if pointcut ifpointcut if false pointcut iffalsepointcut eat todo alex token stuff readable place if pointcut ifpointcut matched by extension designator matchedbyextensiondesignator treat reference pointcut iterator iter pointcut designator handlers pointcutdesignatorhandlers iterator iter has next hasnext pointcut designator handler pointcutdesignatorhandler pcd pointcut designator handler pointcutdesignatorhandler iter pcd get designator name getdesignatorname equals kind parse designator pointcut parsedesignatorpointcut pcd matched by extension designator matchedbyextensiondesignator matched by extension designator matchedbyextensiondesignator token source tokensource set index setindex start parse reference pointcut parsereferencepointcut assert no type variables assertnotypevariables string tvs string error message errormessage itoken token tvs parser exception parserexception error message errormessage token pointcut parse annotation pointcut parseannotationpointcut start token source tokensource get index getindex itoken token source tokensource peek string kind parse identifier parseidentifier itoken possible type variable token possibletypevariabletoken token source tokensource peek string type variables typevariables maybe parse simple type variable list maybeparsesimpletypevariablelist type variables typevariables string message assert no type variables assertnotypevariables type variables typevariables message possible type variable token possibletypevariabletoken token source tokensource set index setindex start kind equals annotation parse at annotation pointcut parseatannotationpointcut kind equals args parse args annotation pointcut parseargsannotationpointcut kind equals kind equals target parse this or target annotation pointcut parsethisortargetannotationpointcut kind equals parse within annotation pointcut parsewithinannotationpointcut kind equals withincode parse within code annotation pointcut parsewithincodeannotationpointcut parser exception parserexception pointcut pointcut parse at annotation pointcut parseatannotationpointcut parse identifier parseidentifier eat maybe eat maybeeat parser exception parserexception annotation name annotationname parameter token source tokensource peek exact annotation type pattern exactannotationtypepattern type parse annotation name or var type pattern parseannotationnameorvartypepattern eat annotation pointcut annotationpointcut type signature pattern signaturepattern parse constructor signature pattern parseconstructorsignaturepattern signature pattern signaturepattern ret parse method or constructor signature pattern parsemethodorconstructorsignaturepattern ret get kind getkind member constructor ret parser exception parserexception constructor pattern required method pattern ret pointcut parse within code pointcut parsewithincodepointcut parse identifier parseidentifier eat signature pattern signaturepattern sig parse method or constructor signature pattern parsemethodorconstructorsignaturepattern eat withincode pointcut withincodepointcut sig pointcut parse cflow pointcut parsecflowpointcut is below isbelow parse identifier parseidentifier eat pointcut entry parse pointcut parsepointcut eat cflow pointcut cflowpointcut entry is below isbelow method parse within pointcut parsewithinpointcut pointcut pointcut parse within pointcut parsewithinpointcut parse identifier parseidentifier eat type pattern typepattern type parse type pattern parsetypepattern eat within pointcut withinpointcut type method parse this or target pointcut parsethisortargetpointcut pointcut pointcut parse this or target pointcut parsethisortargetpointcut string kind eat type pattern typepattern type parse type pattern parsetypepattern eat this or target pointcut thisortargetpointcut kind equals type pointcut parse this or target annotation pointcut parsethisortargetannotationpointcut string kind parse identifier parseidentifier eat maybe eat maybeeat parser exception parserexception expecting annotation name annotationname parameter token source tokensource peek exact annotation type pattern exactannotationtypepattern type parse annotation name or var type pattern parseannotationnameorvartypepattern eat this or target annotation pointcut thisortargetannotationpointcut kind equals type pointcut parse within annotation pointcut parsewithinannotationpointcut string kind parse identifier parseidentifier eat maybe eat maybeeat parser exception parserexception expecting annotation name annotationname parameter token source tokensource peek annotation type pattern annotationtypepattern type parse annotation name or var type pattern parseannotationnameorvartypepattern eat within annotation pointcut withinannotationpointcut type pointcut parse within code annotation pointcut parsewithincodeannotationpointcut string kind parse identifier parseidentifier eat maybe eat maybeeat parser exception parserexception expecting annotation name annotationname parameter token source tokensource peek exact annotation type pattern exactannotationtypepattern type parse annotation name or var type pattern parseannotationnameorvartypepattern eat within code annotation pointcut withincodeannotationpointcut type method parse args pointcut parseargspointcut pointcut pointcut parse args pointcut parseargspointcut parse identifier parseidentifier type pattern list typepatternlist arguments parse arguments pattern parseargumentspattern args pointcut argspointcut arguments pointcut parse args annotation pointcut parseargsannotationpointcut parse identifier parseidentifier annotation pattern list annotationpatternlist arguments parse arguments annotation pattern parseargumentsannotationpattern args annotation pointcut argsannotationpointcut arguments pointcut parse reference pointcut parsereferencepointcut type pattern typepattern on type ontype parse type pattern parsetypepattern name pattern namepattern on type ontype type parameters typeparameters size eat parse name pattern parsenamepattern try to extract name trytoextractname on type ontype parser exception parserexception pattern token source tokensource peek on type ontype to string tostring equals on type ontype string simple name simplename maybe get simple name maybegetsimplename simple name simplename parser exception parserexception token source tokensource peek type pattern list typepatternlist arguments parse arguments pattern parseargumentspattern reference pointcut referencepointcut on type ontype simple name simplename arguments pointcut parse designator pointcut parsedesignatorpointcut pointcut designator handler pointcutdesignatorhandler pcd handler pcdhandler eat paren count parencount string buffer stringbuffer pointcut body pointcutbody string buffer stringbuffer paren count parencount maybe eat maybeeat paren count parencount pointcut body pointcutbody append maybe eat maybeeat paren count parencount paren count parencount pointcut body pointcutbody append pointcut body pointcutbody append next token nexttoken get string getstring context based matcher contextbasedmatcher pc expr pcexpr pcd handler pcdhandler parse pointcut body pointcutbody to string tostring pointcut designator handler based pointcut pointcutdesignatorhandlerbasedpointcut pc expr pcexpr list parse dotted identifier parsedottedidentifier list ret array list arraylist ret add parse identifier parseidentifier maybe eat maybeeat ret add parse identifier parseidentifier ret kinded pointcut kindedpointcut parse kinded pointcut parsekindedpointcut string kind eat signature pattern signaturepattern sig shadow kind shadow kind shadowkind kind equals execution sig parse method or constructor signature pattern parsemethodorconstructorsignaturepattern sig get kind getkind member method shadow kind shadowkind shadow method execution methodexecution sig get kind getkind member constructor shadow kind shadowkind shadow constructor execution constructorexecution kind equals call sig parse method or constructor signature pattern parsemethodorconstructorsignaturepattern sig get kind getkind member method shadow kind shadowkind shadow method call methodcall sig get kind getkind member constructor shadow kind shadowkind shadow constructor call constructorcall kind equals sig parse field signature pattern parsefieldsignaturepattern shadow kind shadowkind shadow field get fieldget kind equals sig parse field signature pattern parsefieldsignaturepattern shadow kind shadowkind shadow field set fieldset parser exception parserexception bad kind kind token source tokensource peek eat kinded pointcut kindedpointcut shadow kind shadowkind sig type pattern typepattern parse type pattern parsetypepattern parse type pattern parsetypepattern type pattern typepattern parse type pattern parsetypepattern inside type parameters insidetypeparameters type pattern typepattern parse atomic type pattern parseatomictypepattern inside type parameters insidetypeparameters maybe eat maybeeat and type pattern andtypepattern parse not or type pattern parsenotortypepattern inside type parameters insidetypeparameters maybe eat maybeeat or type pattern ortypepattern parse type pattern parsetypepattern inside type parameters insidetypeparameters type pattern typepattern parse not or type pattern parsenotortypepattern inside type parameters insidetypeparameters type pattern typepattern parse atomic type pattern parseatomictypepattern inside type parameters insidetypeparameters maybe eat maybeeat and type pattern andtypepattern parse type pattern parsetypepattern inside type parameters insidetypeparameters type pattern typepattern parse atomic type pattern parseatomictypepattern inside type parameters insidetypeparameters annotation type pattern annotationtypepattern maybe parse annotation pattern maybeparseannotationpattern maybe eat maybeeat start pos startpos token source tokensource peek get start getstart lose source location start type type pattern typepattern not type pattern nottypepattern parse atomic type pattern parseatomictypepattern inside type parameters insidetypeparameters set annotation pattern for type pattern setannotationpatternfortypepattern maybe eat maybeeat type pattern typepattern parse type pattern parsetypepattern inside type parameters insidetypeparameters set annotation pattern for type pattern setannotationpatternfortypepattern eat is var args isvarargs maybe eat maybeeat is var args isvarargs set is var args setisvarargs is var args isvarargs is include subtypes isincludesubtypes maybe eat maybeeat test subtypes is include subtypes isincludesubtypes include subtypes includesubtypes start pos startpos token source tokensource peek get start getstart type pattern typepattern parse single type pattern parsesingletypepattern inside type parameters insidetypeparameters end pos endpos token source tokensource peek get end getend set annotation pattern for type pattern setannotationpatternfortypepattern set location setlocation source context sourcecontext start pos startpos end pos endpos type pattern typepattern set annotation pattern for type pattern setannotationpatternfortypepattern type pattern typepattern annotation type pattern annotationtypepattern type pattern typepattern ret annotation type pattern annotationtypepattern type pattern typepattern ret wild type pattern wildtypepattern name pattern namepattern name pattern namepattern annotation pattern annotationpattern annotation type pattern annotationtypepattern ret set annotation type pattern setannotationtypepattern ret set annotation type pattern setannotationtypepattern and annotation type pattern andannotationtypepattern annotation pattern annotationpattern ret annotation type pattern annotationtypepattern maybe parse annotation pattern maybeparseannotationpattern annotation type pattern annotationtypepattern ret annotation type pattern annotationtypepattern annotation type pattern annotationtypepattern next pattern nextpattern next pattern nextpattern maybe parse single annotation pattern maybeparsesingleannotationpattern ret annotation type pattern annotationtypepattern ret next pattern nextpattern ret and annotation type pattern andannotationtypepattern ret next pattern nextpattern ret annotation type pattern annotationtypepattern maybe parse single annotation pattern maybeparsesingleannotationpattern annotation type pattern annotationtypepattern ret lalr making single token start index startindex token source tokensource get index getindex maybe eat maybeeat maybe eat maybeeat maybe eat maybeeat type pattern typepattern parse type pattern parsetypepattern ret not annotation type pattern notannotationtypepattern wild annotation type pattern wildannotationtypepattern eat ret type pattern typepattern parse single type pattern parsesingletypepattern ret not annotation type pattern notannotationtypepattern wild annotation type pattern wildannotationtypepattern ret token source tokensource set index setindex start index startindex ret maybe eat maybeeat maybe eat maybeeat type pattern typepattern parse type pattern parsetypepattern ret wild annotation type pattern wildannotationtypepattern eat ret type pattern typepattern parse single type pattern parsesingletypepattern ret wild annotation type pattern wildannotationtypepattern ret token source tokensource set index setindex start index startindex ret type pattern typepattern parse single type pattern parsesingletypepattern parse single type pattern parsesingletypepattern type pattern typepattern parse single type pattern parsesingletypepattern inside type parameters insidetypeparameters inside type parameters insidetypeparameters maybe eat maybeeat parse generics wildcard type pattern parsegenericswildcardtypepattern allow has type patterns allowhastypepatterns maybe eat identifier maybeeatidentifier hasmethod parse has method type pattern parsehasmethodtypepattern maybe eat identifier maybeeatidentifier hasfield parse has field type pattern parsehasfieldtypepattern list names parse dotted name pattern parsedottednamepattern dim maybe eat maybeeat eat dim type pattern list typepatternlist type parameters typeparameters maybe parse type parameter list maybeparsetypeparameterlist end pos endpos token source tokensource peek get end getend is var args isvarargs maybe eat maybeeat include subtypes includesubtypes maybe eat maybeeat source location names size name pattern namepattern names is any isany dim is var args isvarargs type parameters typeparameters type pattern typepattern match wild type pattern wildtypepattern names include subtypes includesubtypes dim is var args isvarargs end pos endpos is var args isvarargs type parameters typeparameters type pattern typepattern parse has method type pattern parsehasmethodtypepattern start pos startpos token source tokensource peek get start getstart eat signature pattern signaturepattern parse method or constructor signature pattern parsemethodorconstructorsignaturepattern eat end pos endpos token source tokensource peek get end getend has member type pattern hasmembertypepattern ret has member type pattern hasmembertypepattern ret set location setlocation source context sourcecontext start pos startpos end pos endpos ret type pattern typepattern parse has field type pattern parsehasfieldtypepattern start pos startpos token source tokensource peek get start getstart eat signature pattern signaturepattern parse field signature pattern parsefieldsignaturepattern eat end pos endpos token source tokensource peek get end getend has member type pattern hasmembertypepattern ret has member type pattern hasmembertypepattern ret set location setlocation source context sourcecontext start pos startpos end pos endpos ret type pattern typepattern parse generics wildcard type pattern parsegenericswildcardtypepattern list names array list arraylist names add name pattern namepattern type pattern typepattern upper bound upperbound type pattern typepattern additional interface bounds additionalinterfacebounds type pattern typepattern type pattern typepattern lower bound lowerbound maybe eat identifier maybeeatidentifier upper bound upperbound parse type pattern parsetypepattern additional interface bounds additionalinterfacebounds maybe parse additional interface bounds maybeparseadditionalinterfacebounds maybe eat identifier maybeeatidentifier lower bound lowerbound parse type pattern parsetypepattern end pos endpos token source tokensource peek get end getend wild type pattern wildtypepattern names end pos endpos upper bound upperbound additional interface bounds additionalinterfacebounds lower bound lowerbound annotation type pattern annotationtypepattern complete annotation pattern completeannotationpattern annotation type pattern annotationtypepattern maybe eat maybeeat and annotation type pattern andannotationtypepattern parse not or annotation pattern parsenotorannotationpattern maybe eat maybeeat or annotation type pattern orannotationtypepattern parse annotation type pattern parseannotationtypepattern annotation type pattern annotationtypepattern parse annotation type pattern parseannotationtypepattern annotation type pattern annotationtypepattern parse atomic annotation pattern parseatomicannotationpattern maybe eat maybeeat and annotation type pattern andannotationtypepattern parse not or annotation pattern parsenotorannotationpattern maybe eat maybeeat or annotation type pattern orannotationtypepattern parse annotation type pattern parseannotationtypepattern annotation type pattern annotationtypepattern parse not or annotation pattern parsenotorannotationpattern annotation type pattern annotationtypepattern parse atomic annotation pattern parseatomicannotationpattern maybe eat maybeeat and annotation type pattern andannotationtypepattern parse annotation type pattern parseannotationtypepattern exact annotation type pattern exactannotationtypepattern parse annotation name or var type pattern parseannotationnameorvartypepattern exact annotation type pattern exactannotationtypepattern start pos startpos token source tokensource peek get start getstart maybe eat maybeeat parser exception parserexception foo form deprecated aspect j aspectj annotation token source tokensource peek parse simple annotation name parsesimpleannotationname end pos endpos token source tokensource peek get end getend set location setlocation source context sourcecontext start pos startpos end pos endpos exact annotation type pattern exactannotationtypepattern parse simple annotation name parsesimpleannotationname eaten exact annotation type pattern exactannotationtypepattern string buffer stringbuffer annotation name annotationname string buffer stringbuffer annotation name annotationname append parse identifier parseidentifier maybe eat maybeeat annotation name annotationname append annotation name annotationname append parse identifier parseidentifier unresolved type unresolvedtype type unresolved type unresolvedtype for name forname annotation name annotationname to string tostring exact annotation type pattern exactannotationtypepattern type annotation type pattern annotationtypepattern parse atomic annotation pattern parseatomicannotationpattern maybe eat maybeeat start pos startpos token source tokensource peek get start getstart lose source location start type annotation type pattern annotationtypepattern not annotation type pattern notannotationtypepattern parse atomic annotation pattern parseatomicannotationpattern maybe eat maybeeat annotation type pattern annotationtypepattern parse annotation type pattern parseannotationtypepattern eat start pos startpos token source tokensource peek get start getstart eat string buffer stringbuffer annotation name annotationname string buffer stringbuffer annotation name annotationname append parse identifier parseidentifier maybe eat maybeeat annotation name annotationname append annotation name annotationname append parse identifier parseidentifier unresolved type unresolvedtype type unresolved type unresolvedtype for name forname annotation name annotationname to string tostring annotation type pattern annotationtypepattern exact annotation type pattern exactannotationtypepattern type end pos endpos token source tokensource peek get end getend set location setlocation source context sourcecontext start pos startpos end pos endpos is annotation pattern isannotationpattern pattern node patternnode annotation type pattern annotationtypepattern list parse dotted name pattern parsedottednamepattern list names array list arraylist string buffer stringbuffer buf string buffer stringbuffer itoken previous remember dealt ellipsis just processed ellipsis justprocessedellipsis just processed dot justprocesseddot on adot onadot itoken tok start pos startpos token source tokensource peek get start getstart string after dot afterdot previous previous get string getstring equals just processed dot justprocesseddot tok token source tokensource peek on adot onadot tok get string getstring equals previous is adjacent isadjacent previous tok tok get string getstring tok is identifier isidentifier tok get string getstring buf append tok get string getstring tok get string getstring tok get literal kind getliteralkind system err println literal kind tok get string getstring string tok get string getstring dot index of indexof dot buf append substring dot after dot afterdot substring dot previous token source tokensource buf append previous token source tokensource xxx handle floats fun stuff end pos endpos token source tokensource peek get end getend buf length names is empty isempty parser exception parserexception pattern tok buf length just processed ellipsis justprocessedellipsis parser exception parserexception pattern finish tok buf length just processed dot justprocesseddot on adot onadot parser exception parserexception pattern finish tok buf length names add name pattern namepattern ellipsis just processed ellipsis justprocessedellipsis check legal name checklegalname buf to string tostring previous name pattern namepattern ret name pattern namepattern buf to string tostring ret set location setlocation source context sourcecontext start pos startpos end pos endpos names add ret just processed ellipsis justprocessedellipsis after dot afterdot buf set length setlength elipsis dotted maybe eat maybeeat previous token source tokensource peek buf set length setlength buf append after dot afterdot after dot afterdot system err println parsed names names name pattern namepattern parse name pattern parsenamepattern string buffer stringbuffer buf string buffer stringbuffer itoken previous itoken tok start pos startpos token source tokensource peek get start getstart tok token source tokensource peek previous is adjacent isadjacent previous tok tok get string getstring tok is identifier isidentifier buf append tok get string getstring tok get literal kind getliteralkind system err println literal kind tok get string getstring string tok get string getstring index of indexof buf append previous token source tokensource xxx handle floats fun stuff end pos endpos token source tokensource peek get end getend buf length parser exception parserexception pattern tok check legal name checklegalname buf to string tostring previous name pattern namepattern ret name pattern namepattern buf to string tostring ret set location setlocation source context sourcecontext start pos startpos end pos endpos ret check legal name checklegalname string itoken tok char at charat character is java identifier start isjavaidentifierstart parser exception parserexception illegal identifier start tok len length len char at charat character is java identifier part isjavaidentifierpart parser exception parserexception illegal identifier character tok is adjacent isadjacent itoken itoken get end getend get start getstart modifiers pattern modifierspattern parse modifiers pattern parsemodifierspattern required flags requiredflags forbidden flags forbiddenflags start start token source tokensource get index getindex is forbidden isforbidden is forbidden isforbidden maybe eat maybeeat itoken token source tokensource flag modifiers pattern modifierspattern get modifier flag getmodifierflag get string getstring flag is forbidden isforbidden forbidden flags forbiddenflags flag required flags requiredflags flag token source tokensource set index setindex start required flags requiredflags forbidden flags forbiddenflags modifiers pattern modifierspattern modifiers pattern modifierspattern required flags requiredflags forbidden flags forbiddenflags type pattern list typepatternlist parse arguments pattern parseargumentspattern list patterns array list arraylist eat maybe eat maybeeat type pattern list typepatternlist maybe eat maybeeat eat patterns add type pattern typepattern ellipsis patterns add parse type pattern parsetypepattern maybe eat maybeeat eat type pattern list typepatternlist patterns annotation pattern list annotationpatternlist parse arguments annotation pattern parseargumentsannotationpattern list patterns array list arraylist eat maybe eat maybeeat annotation pattern list annotationpatternlist maybe eat maybeeat eat patterns add annotation type pattern annotationtypepattern ellipsis maybe eat maybeeat patterns add annotation type pattern annotationtypepattern patterns add parse annotation name or var type pattern parseannotationnameorvartypepattern maybe eat maybeeat eat annotation pattern list annotationpatternlist patterns throws pattern throwspattern parse optional throws pattern parseoptionalthrowspattern itoken token source tokensource peek is identifier isidentifier get string getstring equals token source tokensource list required array list arraylist list forbidden array list arraylist is forbidden isforbidden maybe eat maybeeat error paren type pattern typepattern parse type pattern parsetypepattern is forbidden isforbidden forbidden add required add maybe eat maybeeat throws pattern throwspattern type pattern list typepatternlist required type pattern list typepatternlist forbidden throws pattern throwspattern signature pattern signaturepattern parse method or constructor signature pattern parsemethodorconstructorsignaturepattern start pos startpos token source tokensource peek get start getstart annotation type pattern annotationtypepattern annotation pattern annotationpattern maybe parse annotation pattern maybeparseannotationpattern modifiers pattern modifierspattern modifiers parse modifiers pattern parsemodifierspattern type pattern typepattern return type returntype parse type pattern parsetypepattern type pattern typepattern declaring type declaringtype name pattern namepattern member kind kind check maybe eat new maybeeatnew return type returntype kind member constructor return type returntype to string tostring length declaring type declaringtype type pattern typepattern declaring type declaringtype return type returntype return type returntype type pattern typepattern name pattern namepattern kind member method itoken name token nametoken token source tokensource peek declaring type declaringtype parse type pattern parsetypepattern maybe eat maybeeat name token nametoken token source tokensource peek parse name pattern parsenamepattern try to extract name trytoextractname declaring type declaringtype declaring type declaringtype to string tostring equals declaring type declaringtype type pattern typepattern parser exception parserexception pattern token source tokensource peek string simple name simplename maybe get simple name maybegetsimplename xxx add check java keywords simple name simplename simple name simplename equals parser exception parserexception method constructor name token nametoken type pattern list typepatternlist parameter types parametertypes parse arguments pattern parseargumentspattern throws pattern throwspattern throws pattern throwspattern parse optional throws pattern parseoptionalthrowspattern signature pattern signaturepattern ret signature pattern signaturepattern kind modifiers return type returntype declaring type declaringtype parameter types parametertypes throws pattern throwspattern annotation pattern annotationpattern end pos endpos token source tokensource peek get end getend ret set location setlocation source context sourcecontext start pos startpos end pos endpos ret maybe eat new maybeeatnew type pattern typepattern return type returntype return type returntype wild type pattern wildtypepattern wild type pattern wildtypepattern wild type pattern wildtypepattern return type returntype maybe extract name maybeextractname start token source tokensource get index getindex maybe eat maybeeat string maybe eat identifier maybeeatidentifier equals token source tokensource set index setindex start signature pattern signaturepattern parse field signature pattern parsefieldsignaturepattern start pos startpos token source tokensource peek get start getstart type pattern list typepatternlist follow me followme type pattern list typepatternlist annotation type pattern annotationtypepattern annotation pattern annotationpattern maybe parse annotation pattern maybeparseannotationpattern modifiers pattern modifierspattern modifiers parse modifiers pattern parsemodifierspattern type pattern typepattern return type returntype parse type pattern parsetypepattern type pattern typepattern declaring type declaringtype parse type pattern parsetypepattern name pattern namepattern system err println parsed field declaring type declaringtype to string tostring maybe eat maybeeat parse name pattern parsenamepattern try to extract name trytoextractname declaring type declaringtype parser exception parserexception pattern token source tokensource peek declaring type declaringtype to string tostring equals declaring type declaringtype type pattern typepattern signature pattern signaturepattern ret signature pattern signaturepattern member field modifiers return type returntype declaring type declaringtype type pattern list typepatternlist throws pattern throwspattern annotation pattern annotationpattern end pos endpos token source tokensource peek get end getend ret set location setlocation source context sourcecontext start pos startpos end pos endpos ret name pattern namepattern try to extract name trytoextractname type pattern typepattern next type nexttype next type nexttype type pattern typepattern name pattern namepattern next type nexttype wild type pattern wildtypepattern wild type pattern wildtypepattern wild type pattern wildtypepattern next type nexttype extract name extractname parse type variable declarations method start signature pointcut identify type variable names type param include parameterized types includeparameterizedtypes type variable pattern list typevariablepatternlist maybe parse type variable list maybeparsetypevariablelist maybe eat maybeeat list type vars typevars array list arraylist type variable pattern typevariablepattern parse type variable parsetypevariable type vars typevars add maybe eat maybeeat type variable pattern typevariablepattern next t nextt parse type variable parsetypevariable type vars typevars add next t nextt eat type variable pattern typevariablepattern tvs type variable pattern typevariablepattern type vars typevars size type vars typevars to array toarray tvs type variable pattern list typevariablepatternlist tvs form execution identifiers string maybe parse simple type variable list maybeparsesimpletypevariablelist maybe eat maybeeat list type var names typevarnames array list arraylist type var names typevarnames add parse identifier parseidentifier maybe eat maybeeat eat string tvs string type var names typevarnames size type var names typevarnames to array toarray tvs tvs type pattern list typepatternlist maybe parse type parameter list maybeparsetypeparameterlist maybe eat maybeeat list type pats typepats array list arraylist type pattern typepattern parse type pattern parsetypepattern type pats typepats add maybe eat maybeeat eat type pattern typepattern tps type pattern typepattern type pats typepats size type pats typepats to array toarray tps type pattern list typepatternlist tps type variable pattern typevariablepattern parse type variable parsetypevariable type pattern typepattern upper bound upperbound type pattern typepattern additional interface bounds additionalinterfacebounds type pattern typepattern lower bound lowerbound string type variable name typevariablename type variable name typevariablename type variable name typevariablename parse identifier parseidentifier maybe eat identifier maybeeatidentifier upper bound upperbound parse type pattern parsetypepattern additional interface bounds additionalinterfacebounds maybe parse additional interface bounds maybeparseadditionalinterfacebounds maybe eat identifier maybeeatidentifier lower bound lowerbound parse type pattern parsetypepattern type variable pattern typevariablepattern type variable name typevariablename upper bound upperbound additional interface bounds additionalinterfacebounds lower bound lowerbound type pattern typepattern maybe parse additional interface bounds maybeparseadditionalinterfacebounds list bounds list boundslist array list arraylist maybe eat maybeeat type pattern typepattern parse type pattern parsetypepattern bounds list boundslist add bounds list boundslist size type pattern typepattern ret type pattern typepattern bounds list boundslist size bounds list boundslist to array toarray ret ret string parse possible string sequence parsepossiblestringsequence should end shouldend string buffer stringbuffer result string buffer stringbuffer itoken token token source tokensource token get literal kind getliteralkind parser exception parserexception string token token get literal kind getliteralkind equals string result append token get string getstring maybe eat maybeeat token token source tokensource token get literal kind getliteralkind parser exception parserexception string token eat identifier eatidentifier itoken token source tokensource should end shouldend itoken eof parser exception parserexception string token bug eaten position isn correctly current index currentindex token source tokensource get index getindex token source tokensource set index setindex current index currentindex result to string tostring string parse string literal parsestringliteral itoken token token source tokensource string literal kind literalkind token get literal kind getliteralkind literal kind literalkind string token get string getstring parser exception parserexception string token string parse identifier parseidentifier itoken token token source tokensource token is identifier isidentifier token get string getstring parser exception parserexception identifier token eat identifier eatidentifier string expected value expectedvalue itoken token source tokensource get string getstring equals expected value expectedvalue parser exception parserexception expected value expectedvalue maybe eat identifier maybeeatidentifier string expected value expectedvalue itoken token source tokensource peek get string getstring equals expected value expectedvalue token source tokensource eat string expected value expectedvalue eat expected value expectedvalue expected value expectedvalue eat string expected value expectedvalue string expected message expectedmessage itoken next token nexttoken get string getstring expected value expectedvalue expected value expectedvalue equals get string getstring starts with startswith handle problem lexed single tokens pending right arrows pendingrightarrows basic token basictoken make literal makeliteral get string getstring substring intern string get start getstart get end getend parser exception parserexception expected message expectedmessage itoken pending right arrows pendingrightarrows itoken next token nexttoken pending right arrows pendingrightarrows itoken ret pending right arrows pendingrightarrows pending right arrows pendingrightarrows ret token source tokensource maybe eat maybeeat string token itoken token source tokensource peek get string getstring token token source tokensource string maybe eat identifier maybeeatidentifier itoken token source tokensource peek is identifier isidentifier token source tokensource get string getstring peek string token itoken token source tokensource peek get string getstring token pattern parser patternparser string data basic token source basictokensource make token source maketokensource data pattern parser patternparser string data isource context isourcecontext context basic token source basictokensource make token source maketokensource data context