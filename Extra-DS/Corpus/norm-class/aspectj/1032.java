copyright xerox corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation org aspectj tools ant taskdefs org apache tools ant org apache tools ant types org apache tools ant types path org apache tools ant taskdefs org apache tools ant util java env utils javaenvutils java java util list java util iterator java util array list arraylist java util string tokenizer stringtokenizer ant task aspect j aspectj compiler ajc list lst files passed includes task developed href http aspectj org aspect j aspectj project author href mailto palm parc xerox jeffrey palm org aspectj tools ant taskdefs compilers ajc compiler ajccompiler ajc javac adapter string adapter org aspectj tools ant taskdefs compilers ajc attribute members concurrent threads compilation defaults multi threading disabled integer threads don generate comments woven code nocomments don generate ajsym ajsline files nosymbols generate regular java code workingdir preprocess place intermediate java files dir defaults ajworkingdir file workingdir file delimited list arguments arguments inserted argument list list argfiles misc members code excludes code attribute have excludes haveexcludes code includes code attribute have includes haveincludes code excludes code attribute code excludes code attribute has excludes hasexcludes have excludes haveexcludes code includes code attribute code includes code attribute has includes hasincludes have includes haveincludes attribute access methods sets number threads param threads number threads ajc threads set threads setthreads integer threads threads threads returns number threads number threads ajc threads integer get threads getthreads threads code nocomments code flag param nocomments turns flag ajc nocomments set nocomments setnocomments nocomments nocomments nocomments returns code nocomments code flag turned code code code nocomments code flag ajc nocomments get nocomments getnocomments nocomments code nosymbols code flag param nosymbols turns flag ajc nosymbols set nosymbols setnosymbols nosymbols nosymbols nosymbols returns code nosymbols code flag turned code code code nosymbols code flag ajc nosymbols get nosymbols getnosymbols nosymbols returns code preprocess code flag turned code code code preprocess code flag ajc preprocess set preprocess setpreprocess preprocess preprocess preprocess returns code preprocess code flag turned code code code preprocess code flag ajc preprocess get preprocess getpreprocess preprocess sets workingdir param workingdir workingdir ajc workingdir set workingdir setworkingdir file workingdir workingdir workingdir returns current workingdir current workingdir ajc workingdir file get workingdir getworkingdir workingdir sets argument files comma delimited string passed param argfiles comma delimited string contained argument files set argfiles setargfiles string argfiles string tokenizer stringtokenizer tok string tokenizer stringtokenizer argfiles tok has more tokens hasmoretokens file argfile project resolve file resolvefile tok next token nexttoken argfile argfile exists argfile is directory isdirectory create argfile createargfile set file setfile argfile creates nested code argfile code add list code argfiles code returns code argfile code instance code argfile code instance argfile create argfile createargfile argfile argfile argfile argfiles argfiles array list arraylist argfiles add argfile argfile returns java util list argfiles code code list argfiles list get argfiles getargfiles argfiles simple member code file code represents argument file argfile file file set file setfile file file file file file get file getfile file string to string tostring file get absolute path getabsolutepath misc methods leaving includes blank javac task defaults including ajc user specifies argfile leaves includes excludes blank person meant includes argfile track includes excludes explicitly cludes members setting flags create methods constructing compile list compilelist have includes haveincludes have excludes haveexcludes user argfile includes adding contents argfile override javac create include createinclude code have includes haveincludes code code code pattern set patternset name entry nameentry include list org apache tools taskdefs javac create include createinclude pattern set patternset name entry nameentry create include createinclude have includes haveincludes create include createinclude override javac create exclude createexclude code have excludes haveexcludes code code code pattern set patternset name entry nameentry exclude list org apache tools taskdefs javac create exclude createexclude pattern set patternset name entry nameentry create exclude createexclude have excludes haveexcludes create exclude createexclude override javac set includes setincludes string code have includes haveincludes code code code param includes comma separated list includes org apache tools taskdefs javac set includes setincludes java lang string set includes setincludes string includes have includes haveincludes set includes setincludes includes override javac set excludes setexcludes string code have excludes haveexcludes code code code param excludes comma separated list excludes org apache tools taskdefs javac set excludes setexcludes java lang string set excludes setexcludes string excludes have excludes haveexcludes set excludes setexcludes excludes string get adapter class getadapterclass adapter execute build exception buildexception prepare execute after prepare executeafterprepare executes setting code build compiler code property ajc compiler ajccompiler invokes execute method org apache tools ant build exception buildexception org apache tools ant taskdefs javac execute execute after prepare executeafterprepare build exception buildexception save build compiler property string old build compiler oldbuildcompiler project get property getproperty build compiler old build compiler oldbuildcompiler resolve old build compiler oldbuildcompiler string java version javaversion java env utils javaenvutils get java version getjavaversion java version javaversion equals java env utils javaenvutils java happen java version javaversion equals java env utils javaenvutils java old build compiler oldbuildcompiler classic java version javaversion equals java env utils javaenvutils java old build compiler oldbuildcompiler classic java version javaversion equals java env utils javaenvutils java old build compiler oldbuildcompiler modern adapter project set property setproperty build compiler get adapter class getadapterclass build exception buildexception caught execute build exception buildexception caught reset compiler old build compiler oldbuildcompiler project set property setproperty build compiler old build compiler oldbuildcompiler caught exception executing caught caught guaranteed called real execute prepare argfiles have includes haveincludes have excludes haveexcludes get srcdir getsrcdir use default srcdir usedefaultsrcdir use default srcdir usedefaultsrcdir set srcdir setsrcdir path project overrides javac scan dir scandir doesn check dependencies org apache tools ant taskdefs javac scan dir scandir scan dir scandir file src dir srcdir file dest dir destdir string files list new files newfiles array list arraylist add files listed argfiles includes list new includes newincludes array list arraylist list new arguments newarguments array list arraylist argfiles iterator iter argfiles iterator iter has next hasnext file argfile argfile iter get file getfile expand argfile expandargfile argfile new includes newincludes new arguments newarguments read files directory scanner have includes haveincludes have excludes haveexcludes argfiles log setting includes project msg verbose set includes setincludes files get directory scanner getdirectoryscanner src dir srcdir get included files getincludedfiles add java files compile list compilelist files length file new file newfile file src dir srcdir files new file newfile new file newfile exists new file newfile get name getname ends with endswith java new files newfiles add new file newfile add included files iterator iter new includes newincludes iterator iter has next hasnext new files newfiles add file iter behavior javac new file size newfilesize new files newfiles size new file size newfilesize file new compile list newcompilelist file compile list compilelist length new file size newfilesize system arraycopy compile list compilelist new compile list newcompilelist compile list compilelist length system arraycopy new files newfiles to array toarray new compile list newcompilelist compile list compilelist length new file size newfilesize compile list compilelist new compile list newcompilelist expand argfile expandargfile file argfile list includes list arguments log argfile argfile project msg verbose paths relative parent file parent argfile get parent file getparentfile sanity check parent parent exists parent is directory isdirectory read file buffered reader bufferedreader buffered reader bufferedreader file reader filereader argfile string read line readline trim skip blank lines equals comments isharp index of indexof isharp substring isharp argument starts with startswith arguments add stars resolve file index of indexof log argfile invalid project msg warn argfile starts with startswith string new argfile name newargfilename substring file new argfile newargfile file parent new argfile name newargfilename expand argfile expandargfile new argfile newargfile includes arguments source file file newfile file newfile is absolute isabsolute newfile file parent newfile newfile exists newfile is directory isdirectory newfile get name getname ends with endswith java includes add newfile ioexception ioe log trouble argfile argfile ioe project msg err close ioexception ioe