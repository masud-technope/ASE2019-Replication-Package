copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation org aspectj weaver bcel java byte array output stream bytearrayoutputstream java print stream printstream java lang reflect modifier java util array list arraylist java util hash map hashmap java util hash set hashset java util iterator java util linked list linkedlist java util list java util list iterator listiterator java util map java util properties java util java util stack org aspectj apache bcel constants org aspectj apache bcel classfile attribute org aspectj apache bcel classfile constant pool constantpool org aspectj apache bcel classfile method org aspectj apache bcel classfile synthetic org aspectj apache bcel classfile annotation annotation org aspectj apache bcel branch handle branchhandle org aspectj apache bcel branch instruction branchinstruction org aspectj apache bcel cpinstruction org aspectj apache bcel class gen exception classgenexception org aspectj apache bcel code exception gen codeexceptiongen org aspectj apache bcel constant pool gen constantpoolgen org aspectj apache bcel instruction org aspectj apache bcel instruction handle instructionhandle org aspectj apache bcel instruction list instructionlist org aspectj apache bcel instruction targeter instructiontargeter org aspectj apache bcel line number gen linenumbergen org aspectj apache bcel line number tag linenumbertag org aspectj apache bcel local variable gen localvariablegen org aspectj apache bcel local variable instruction localvariableinstruction org aspectj apache bcel local variable tag localvariabletag org aspectj apache bcel method gen methodgen org aspectj apache bcel object type objecttype org aspectj apache bcel select org aspectj apache bcel tag org aspectj apache bcel type org aspectj apache bcel annotation annotation gen annotationgen org aspectj bridge imessage org aspectj bridge isource location isourcelocation org aspectj bridge message util messageutil org aspectj weaver aj attribute ajattribute org aspectj weaver annotation x annotationx org aspectj weaver bcexception org aspectj weaver isource context isourcecontext org aspectj weaver member impl memberimpl org aspectj weaver resolved member resolvedmember org aspectj weaver resolved type resolvedtype org aspectj weaver shadow org aspectj weaver unresolved type unresolvedtype org aspectj weaver weaver messages weavermessages org aspectj weaver aj attribute ajattribute weaver version info weaverversioninfo lazy method gen lazymethodgen access flags accessflags type return type returntype string type argument types argumenttypes string argument names argumentnames string declared exceptions declaredexceptions leaving abstracts instruction list instructionlist body attribute attributes list new annotations newannotations lazy class gen lazyclassgen enclosing class enclosingclass bcel method bcelmethod member view memberview aj attribute ajattribute effective signature attribute effectivesignatureattribute effective signature effectivesignature highest line number highestlinenumber option specifies bcel classes create line number gens linenumbergens local variable gens localvariablegens create line number tags linenumbertags local variable tags localvariabletags created gens method gen methodgen ctor reprocessed created tags unpack locals unpacklocals unpack line numbers unpacklinenumbers copy bcel create straightaway setting call method gen methodgen ctor creates tags removing unpack locals unpacklocals unpack line numbers unpacklinenumbers ensure all line number setup ensurealllinenumbersetup method relevant info difference tag gen tag lightweight doesn instructions targets relies instructions targetting reduces amount targeter manipulation wrong passes tests option xset optimize with tags optimizewithtags turn avoid use of bcel gen objects avoiduseofbcelgenobjects checked xset option checkedxsetoption nonnull method result inlining copy methods classes advice add field jsr correct actual inlining subtype line number tag linenumbertag external numbers string from filename fromfilename max locals maxlocals can inline caninline has exception handlers hasexceptionhandlers is synthetic issynthetic link bcel class weaver bcelclassweaver list shadow mungers shadowmungers matched shadows matchedshadows list test matched shadow tests matchedshadowtests introduction type method technically resolved type resolvedtype defining type definingtype lazy method gen lazymethodgen access flags accessflags type return type returntype string type param types paramtypes string declared exceptions declaredexceptions lazy class gen lazyclassgen enclosing class enclosingclass system err println raw create enclosing class enclosingclass get name getname return type returntype constructed woven member view memberview access flags accessflags access flags accessflags return type returntype return type returntype argument types argumenttypes param types paramtypes argument names argumentnames utility make arg names makeargnames param types paramtypes length declared exceptions declaredexceptions declared exceptions declaredexceptions modifier is abstract isabstract access flags accessflags body instruction list instructionlist set max locals setmaxlocals calculate max locals calculatemaxlocals body attributes attribute enclosing class enclosingclass enclosing class enclosingclass assert good body assertgoodbody inline garbaged reweavable impl member view memberview is advice method isadvicemethod enclosing class enclosingclass get type gettype is annotation style aspect isannotationstyleaspect todo check advice can inline caninline calculate max locals calculatemaxlocals ret modifier is static isstatic access flags accessflags ret len argument types argumenttypes length len ret argument types argumenttypes get size getsize ret method saved method savedmethod build existing method lazy build saves work initialization lazy method gen lazymethodgen method lazy class gen lazyclassgen enclosing class enclosingclass saved method savedmethod enclosing class enclosingclass enclosing class enclosingclass is abstract isabstract is native isnative get code getcode runtime exception runtimeexception bad method code enclosing class enclosingclass is abstract isabstract is native isnative get code getcode runtime exception runtimeexception bad method code enclosing class enclosingclass member view memberview bcel method bcelmethod enclosing class enclosingclass get bcel object type getbcelobjecttype access flags accessflags get access flags getaccessflags get name getname inline garbaged reweavable impl member view memberview is advice method isadvicemethod enclosing class enclosingclass get type gettype is annotation style aspect isannotationstyleaspect todo check advice can inline caninline has declared line number info hasdeclaredlinenumberinfo member view memberview member view memberview has declaration line number info hasdeclarationlinenumberinfo get declaration line number getdeclarationlinenumber has declared line number info hasdeclaredlinenumberinfo member view memberview get declaration line number getdeclarationlinenumber get declaration offset getdeclarationoffset has declared line number info hasdeclaredlinenumberinfo member view memberview get declaration offset getdeclarationoffset add annotation addannotation annotation x annotationx initialize member view memberview member view manage new annotations newannotations new annotations newannotations new annotations newannotations array list arraylist new annotations newannotations add member view memberview add annotation addannotation has annotation hasannotation unresolved type unresolvedtype annotation type x annotationtypex initialize member view memberview check local annotations new annotations newannotations iterator iter new annotations newannotations iterator iter has next hasnext annotation x annotationx element annotation x annotationx iter element get bcel annotation getbcelannotation get type name gettypename equals annotation type x annotationtypex get name getname member view memberview bcel method bcelmethod get enclosing class getenclosingclass get bcel object type getbcelobjecttype get method getmethod member view memberview has annotation hasannotation annotation type x annotationtypex member view memberview has annotation hasannotation annotation type x annotationtypex initialize return type returntype check configure optimization checked xset option checkedxsetoption properties enclosing class enclosingclass get world getworld get extra configuration getextraconfiguration string get property getproperty optimize with tags optimizewithtags avoid use of bcel gen objects avoiduseofbcelgenobjects equals ignore case equalsignorecase avoid use of bcel gen objects avoiduseofbcelgenobjects enclosing class enclosingclass get world getworld get message handler getmessagehandler handle message handlemessage message util messageutil info optimize with tags optimizewithtags disabling optimization tags gens checked xset option checkedxsetoption system err println initializing get name getname enclosing class enclosingclass get name getname return type returntype saved method savedmethod method gen methodgen gen method gen methodgen saved method savedmethod enclosing class enclosingclass get name getname enclosing class enclosingclass get constant pool gen getconstantpoolgen avoid use of bcel gen objects avoiduseofbcelgenobjects return type returntype gen get return type getreturntype argument types argumenttypes gen get argument types getargumenttypes declared exceptions declaredexceptions gen get exceptions getexceptions attributes gen get attributes getattributes annotations gen get annotations getannotations max locals maxlocals gen get max locals getmaxlocals gen is abstract isabstract gen is native isnative body body instruction list instructionlist saved method savedmethod get code getcode get code getcode body gen get instruction list getinstructionlist unpack handlers unpackhandlers gen avoid use of bcel gen objects avoiduseofbcelgenobjects ensure all line number setup ensurealllinenumbersetup gen highest line number highestlinenumber gen get highestlinenumber gethighestlinenumber unpack line numbers unpacklinenumbers gen unpack locals unpacklocals gen assert good body assertgoodbody system err println initialized get class name getclassname get name getname xxx relying javac promise won early exception list mask exception exceptions preceeds cup nonstrictsubset add add handlers share starts ends mind merrily adding ranges exceptions unpack handlers unpackhandlers method gen methodgen gen code exception gen codeexceptiongen exns gen get exception handlers getexceptionhandlers exns len exns length len has exception handlers hasexceptionhandlers priority len len priority code exception gen codeexceptiongen exn exns instruction handle instructionhandle start range gen start genstart body get outermost exception start getoutermostexceptionstart exn get start pc getstartpc instruction handle instructionhandle range gen end genend body get outermost exception end getoutermostexceptionend exn get end pc getendpc doesn handle overlapping correctly exception range exceptionrange exception range exceptionrange body exn get catch type getcatchtype bcel world bcelworld from bcel frombcel exn get catch type getcatchtype priority associate with targets associatewithtargets start exn get handler pc gethandlerpc removes target exn set start pc setstartpc removes target exn set end pc setendpc removes target exn set handler pc sethandlerpc gen remove exception handlers removeexceptionhandlers instruction handle instructionhandle get outermost exception start getoutermostexceptionstart instruction handle instructionhandle exception range exceptionrange is exception start isexceptionstart get prev getprev get prev getprev instruction handle instructionhandle get outermost exception end getoutermostexceptionend instruction handle instructionhandle exception range exceptionrange is exception end isexceptionend get next getnext get next getnext unpack line numbers unpacklinenumbers method gen methodgen gen line number tag linenumbertag instruction handle instructionhandle body get start getstart get next getnext instruction targeter instructiontargeter targeters get targeters gettargeters targeters targeters length instruction targeter instructiontargeter targeter targeters targeter line number gen linenumbergen line number gen linenumbergen lng line number gen linenumbergen targeter lng update target updatetarget line number linenumber lng get source line getsourceline highest line number highestlinenumber line number linenumber highest line number highestlinenumber line number linenumber line number tag linenumbertag line number linenumber add targeter addtargeter gen remove line numbers removelinenumbers entry method method instruction stream instructions numbers assigned line number tags linenumbertags aim ensure instruction number extracted methods maintain source number debugging ensure all line number setup ensurealllinenumbersetup method gen methodgen gen line number tag linenumbertag skip instruction handle instructionhandle body get start getstart get next getnext instruction targeter instructiontargeter targeters get targeters gettargeters skip targeters targeters length instruction targeter instructiontargeter targeter targeters targeter line number tag linenumbertag line number tag linenumbertag targeter skip skip add targeter addtargeter unpack locals unpacklocals method gen methodgen gen locals hash set hashset instruction handle instructionhandle body get start getstart get next getnext instruction targeter instructiontargeter targeters get targeters gettargeters list ends array list arraylist targeters targeters length instruction targeter instructiontargeter targeter targeters targeter local variable gen localvariablegen local variable gen localvariablegen lng local variable gen localvariablegen targeter local variable tag localvariabletag local variable tag localvariabletag lng get type gettype get signature getsignature bcel world bcelworld from bcel frombcel lng get type gettype lng get name getname lng get index getindex lng get start getstart get position getposition lng get start getstart locals add ends add iterator locals iterator has next hasnext add targeter addtargeter local variable tag localvariabletag locals remove all removeall ends gen remove local variables removelocalvariables allocate local allocatelocal type type allocate local allocatelocal type get size getsize allocate local allocatelocal slots max get max locals getmaxlocals set max locals setmaxlocals max slots max method get method getmethod relies gentle treatment constant pool saved method savedmethod saved method savedmethod method gen methodgen gen pack gen get method getmethod class gen exception classgenexception enclosing class enclosingclass get bcel object type getbcelobjecttype get resolved type x getresolvedtypex get world getworld show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages problem generating method get class name getclassname get name getname get message getmessage get member view getmemberview get member view getmemberview get source location getsourcelocation body method gen methodgen gen pack gen get method getmethod mark as changed markaschanged initialize saved method savedmethod string to string tostring weaver version info weaverversioninfo weaver version weaverversion enclosing class enclosingclass get bcel object type getbcelobjecttype get weaver version attribute getweaverversionattribute to long string tolongstring weaver version weaverversion string to short string toshortstring string access org aspectj apache bcel classfile utility access to string accesstostring get access flags getaccessflags string buffer stringbuffer buf string buffer stringbuffer access equals buf append access buf append buf append org aspectj apache bcel classfile utility signature to string signaturetostring get return type getreturntype get signature getsignature buf append buf append get name getname buf append len argument types argumenttypes length len buf append org aspectj apache bcel classfile utility signature to string signaturetostring argument types argumenttypes get signature getsignature argument types argumenttypes length buf append buf append org aspectj apache bcel classfile utility signature to string signaturetostring argument types argumenttypes get signature getsignature buf append len declared exceptions declaredexceptions declared exceptions declaredexceptions length len buf append buf append declared exceptions declaredexceptions declared exceptions declaredexceptions length buf append buf append declared exceptions declaredexceptions buf to string tostring string to long string tolongstring weaver version info weaverversioninfo weaver version weaverversion byte array output stream bytearrayoutputstream byte array output stream bytearrayoutputstream print print stream printstream weaver version weaverversion string to byte array tobytearray print weaver version info weaverversioninfo weaver version weaverversion print system weaver version weaverversion print print stream printstream weaver version info weaverversioninfo weaver version weaverversion print to short string toshortstring print aspect attributes printaspectattributes weaver version weaverversion instruction list instructionlist body get body getbody body println println body printer bodyprinter println to short string toshortstring print aspect attributes printaspectattributes print stream printstream weaver version info weaverversioninfo weaver version weaverversion isource context isourcecontext context enclosing class enclosingclass enclosing class enclosingclass get type gettype context enclosing class enclosingclass get type gettype get source context getsourcecontext list bcel attributes bcelattributes read aj attributes readajattributes get class name getclassname attributes context weaver version weaverversion is empty isempty xxx assuming attribute munger println body printer bodyprinter map prefix map prefixmap hash map hashmap map suffix map suffixmap hash map hashmap map label map labelmap hash map hashmap instruction list instructionlist body print stream printstream constant pool constantpool pool list ranges body printer bodyprinter print stream printstream pool enclosing class enclosingclass get constant pool gen getconstantpoolgen get constant pool getconstantpool body get body getbody kill nops killnops assign labels assignlabels print label assignment assign labels assignlabels linked list linkedlist exn table exntable linked list linkedlist string pending label pendinglabel has pending targeters haspendingtargeters lcounter instruction handle instructionhandle body get start getstart get next getnext instruction targeter instructiontargeter targeters get targeters gettargeters targeters targeters length instruction targeter instructiontargeter targeters exception range exceptionrange is range handle israngehandle exception range exceptionrange exception range exceptionrange get start getstart insert handler inserthandler exn table exntable branch instruction branchinstruction pending label pendinglabel pending label pendinglabel lcounter is range handle israngehandle pending label pendinglabel label map labelmap pending label pendinglabel range is range handle israngehandle pending label pendinglabel ecounter iterator exn table exntable iterator has next hasnext exception range exceptionrange exception range exceptionrange string exception label exceptionlabel ecounter label map labelmap range get real start getrealstart get handler gethandler exception label exceptionlabel label map labelmap get handler gethandler exception label exceptionlabel printing print depth curr line currline body print bodyprint instruction handle instructionhandle body get start getstart get next getnext range is range handle israngehandle range range get range getrange don print empty ranges ranges actual instructions instruction handle instructionhandle get start getstart range is range handle israngehandle get next getnext get end getend body print bodyprint doesn handle nested get start getstart get next getnext get end getend get start getstart print range string printrangestring depth get end getend runtime exception runtimeexception bad print range string printrangestring depth print instruction printinstruction depth get line number getlinenumber curr line currline curr line currline curr line currline println println print range string printrangestring range depth print depth printdepth depth println get range string getrangestring label map labelmap string get range string getrangestring range map label map labelmap exception range exceptionrange exception range exceptionrange exception range exceptionrange to string tostring label map labelmap get handler gethandler pri get priority getpriority to string tostring print depth printdepth depth pad body indent depth print depth print label printlabel string depth space math max code indent depth pad space space math max space length pad space print print print instruction printinstruction instruction handle instructionhandle depth print depth printdepth depth print label printlabel string label map labelmap depth instruction inst get instruction getinstruction inst cpinstruction cpinstruction cpinst cpinstruction inst print constants opcode names cpinst get opcode getopcode to upper case touppercase print print pool constant to string constanttostring pool get constant getconstant cpinst get index getindex inst select select sinst select inst println constants opcode names sinst get opcode getopcode to upper case touppercase matches sinst get matchs getmatchs instruction handle instructionhandle targets sinst get targets gettargets instruction handle instructionhandle default target defaulttarget sinst get target gettarget len matches length len print depth printdepth depth print label printlabel depth print print matches print println label map labelmap targets print depth printdepth depth print label printlabel depth print print print label map labelmap default target defaulttarget inst branch instruction branchinstruction branch instruction branchinstruction brinst branch instruction branchinstruction inst print constants opcode names brinst get opcode getopcode to upper case touppercase print print label map labelmap brinst get target gettarget inst local variable instruction localvariableinstruction local variable instruction localvariableinstruction lvinst local variable instruction localvariableinstruction inst print inst to string tostring to upper case touppercase lvinst get index getindex local variable tag localvariabletag tag get local variable tag getlocalvariabletag tag print print tag get type gettype print print tag get name getname print inst to string tostring to upper case touppercase body indent code indent pad size size print local variable tag localvariabletag get local variable tag getlocalvariabletag instruction handle instructionhandle instruction targeter instructiontargeter targeters get targeters gettargeters targeters targeters length instruction targeter instructiontargeter targeters local variable tag localvariabletag local variable tag localvariabletag lvt local variable tag localvariabletag lvt get slot getslot lvt get line number getlinenumber instruction handle instructionhandle prev line prevline instruction targeter instructiontargeter targeters get targeters gettargeters targeters prev line prevline targeters length instruction targeter instructiontargeter targeters line number tag linenumbertag line number tag linenumbertag get line number getlinenumber prev line prevline is static isstatic modifier is static isstatic get access flags getaccessflags is abstract isabstract modifier is abstract isabstract get access flags getaccessflags is bridge method isbridgemethod get access flags getaccessflags constants acc bridge add exception handler addexceptionhandler instruction handle instructionhandle start instruction handle instructionhandle instruction handle instructionhandle handler start handlerstart object type objecttype catch type catchtype high priority highpriority instruction handle instructionhandle start range gen start genstart body start instruction handle instructionhandle range gen end genend body exception range exceptionrange exception range exceptionrange body bcel world bcelworld from bcel frombcel catch type catchtype high priority highpriority associate with targets associatewithtargets start handler start handlerstart get access flags getaccessflags access flags accessflags set access flags setaccessflags new flags newflags access flags accessflags new flags newflags type get argument types getargumenttypes initialize argument types argumenttypes lazy class gen lazyclassgen get enclosing class getenclosingclass enclosing class enclosingclass get max locals getmaxlocals max locals maxlocals string get name getname type get return type getreturntype initialize return type returntype set max locals setmaxlocals max locals maxlocals max locals maxlocals max locals maxlocals instruction list instructionlist get body getbody mark as changed markaschanged body has body hasbody saved method savedmethod saved method savedmethod get code getcode body attribute get attributes getattributes attributes string get declared exceptions getdeclaredexceptions declared exceptions declaredexceptions string get class name getclassname enclosing class enclosingclass get name getname packing method gen methodgen pack kill nops killnops method gen methodgen gen method gen methodgen get access flags getaccessflags get return type getreturntype get argument types getargumenttypes get argument names getargumentnames get name getname get enclosing class getenclosingclass get name getname instruction list instructionlist get enclosing class getenclosingclass get constant pool gen getconstantpoolgen len declared exceptions declaredexceptions length len gen add exception addexception declared exceptions declaredexceptions len attributes length len gen add attribute addattribute attributes new annotations newannotations iterator iter new annotations newannotations iterator iter has next hasnext annotation x annotationx element annotation x annotationx iter gen add annotation addannotation annotation gen annotationgen element get bcel annotation getbcelannotation gen get constant pool getconstantpool member view memberview member view memberview get annotations getannotations member view memberview get annotations getannotations length annotation x annotationx ans member view memberview get annotations getannotations len ans length len annotation ans get bcel annotation getbcelannotation gen add annotation addannotation annotation gen annotationgen gen get constant pool getconstantpool is synthetic issynthetic constant pool gen constantpoolgen cpg gen get constant pool getconstantpool cpg add utf addutf synthetic gen add attribute addattribute synthetic cpg get constant pool getconstantpool has body hasbody pack body packbody gen gen set max locals setmaxlocals gen set max stack setmaxstack gen set instruction list setinstructionlist gen make synthetic makesynthetic is synthetic issynthetic lvposition instruction handle instructionhandle start instruction handle instructionhandle fill newly created method gen body inspired instruction list instructionlist copy pack body packbody method gen methodgen gen instruction list instructionlist fresh gen get instruction list getinstructionlist map map copy all instructions except range instructions into copyallinstructionsexceptrangeinstructionsinto fresh point range handles rangehandles fresh update branch targets insert attributes insert exception handlers exceptionhandlers sorted list order instruction handle instructionhandle old instruction handle oldinstructionhandle get body getbody get start getstart instruction handle instructionhandle new instruction handle newinstructionhandle fresh get start getstart linked list linkedlist exception list exceptionlist linked list linkedlist map localvariabletag instruction handle map local variables localvariables hash map hashmap curr line currline line number offset linenumberoffset from filename fromfilename get enclosing class getenclosingclass get source debug extension offset getsourcedebugextensionoffset from filename fromfilename old instruction handle oldinstructionhandle map old instruction handle oldinstructionhandle range instruction didn copy handle range instruction handlerangeinstruction old instruction handle oldinstructionhandle exception list exceptionlist increment old instruction handle oldinstructionhandle old instruction handle oldinstructionhandle get next getnext map instruction old instruction oldinstruction old instruction handle oldinstructionhandle get instruction getinstruction instruction new instruction newinstruction new instruction handle newinstructionhandle get instruction getinstruction old instruction oldinstruction branch instruction branchinstruction handle branch instruction handlebranchinstruction map old instruction oldinstruction new instruction newinstruction deal numbers store info local variables instruction targeter instructiontargeter targeters old instruction handle oldinstructionhandle get targeters gettargeters targeters targeters length instruction targeter instructiontargeter targeter targeters targeter line number tag linenumbertag line number tag linenumbertag targeter get line number getlinenumber curr line currline gen add line number addlinenumber new instruction handle newinstructionhandle line number offset linenumberoffset curr line currline targeter local variable tag localvariabletag local variable tag localvariabletag lvt local variable tag localvariabletag targeter lvposition lvposition local variables localvariables lvt update position lvposition newp lvposition newp start newp new instruction handle newinstructionhandle local variables localvariables lvt newp new instruction handle newinstructionhandle old instruction handle oldinstructionhandle old instruction handle oldinstructionhandle get next getnext new instruction handle newinstructionhandle new instruction handle newinstructionhandle get next getnext add exception handlers addexceptionhandlers gen map exception list exceptionlist add local variables addlocalvariables gen local variables localvariables todo conditional debug info produced gen get line numbers getlinenumbers length gen add line number addlinenumber gen get instruction list getinstructionlist get start getstart add local variables addlocalvariables method gen methodgen gen map local variables localvariables add local variables gen remove local variables removelocalvariables iteration overkill problems bcel duplicate local variables patching bcel paranoid compiler map duplicated local map duplicatedlocalmap hash map hashmap iterator iter local variables localvariables key set keyset iterator iter has next hasnext local variable tag localvariabletag tag local variable tag localvariabletag iter slot number start location lvposition lvpos lvposition local variables localvariables tag instruction handle instructionhandle start lvpos start slots duplicated local map duplicatedlocalmap start slots slots hash set hashset duplicated local map duplicatedlocalmap start slots slots integer tag get slot getslot starting tag slot slots add integer tag get slot getslot type tag get real type getrealtype bcel world bcelworld make bcel type makebceltype unresolved type unresolvedtype for signature forsignature tag get type gettype gen add local variable addlocalvariable tag get name getname tag get slot getslot instruction handle instructionhandle start instruction handle instructionhandle lvpos add exception handlers addexceptionhandlers method gen methodgen gen map map linked list linkedlist exn list exnlist add exception handlers iterator iter exn list exnlist iterator iter has next hasnext exception range exceptionrange exception range exceptionrange iter is empty isempty gen add exception handler addexceptionhandler remap get real start getrealstart map remap get real end getrealend map remap get handler gethandler map get catch type getcatchtype object type objecttype bcel world bcelworld make bcel type makebceltype get catch type getcatchtype handle branch instruction handlebranchinstruction map map instruction old instruction oldinstruction instruction new instruction newinstruction branch instruction branchinstruction old branch instruction oldbranchinstruction branch instruction branchinstruction old instruction oldinstruction branch instruction branchinstruction new branch instruction newbranchinstruction branch instruction branchinstruction new instruction newinstruction target instruction handle instructionhandle old target oldtarget old branch instruction oldbranchinstruction get target gettarget target hash map new branch instruction newbranchinstruction set target settarget remap old target oldtarget map old branch instruction oldbranchinstruction select lookupswitch tableswitch instruction handle instructionhandle old targets oldtargets select old branch instruction oldbranchinstruction get targets gettargets instruction handle instructionhandle new targets newtargets select new branch instruction newbranchinstruction get targets gettargets old targets oldtargets length update targets new targets newtargets remap old targets oldtargets map new targets newtargets add targeter addtargeter new branch instruction newbranchinstruction handle range instruction handlerangeinstruction instruction handle instructionhandle linked list linkedlist exn list exnlist range instruction range range get range getrange exception range exceptionrange exception range exceptionrange exception range exceptionrange get start getstart system err println is empty isempty order insert handlers order start insert handler inserthandler exn list exnlist shadow range equally useless forget copies instructions append list associate instruction references mapping map copy all instructions except range instructions into copyallinstructionsexceptrangeinstructionsinto instruction list instructionlist into list intolist hash map hashmap map hash map hashmap instruction handle instructionhandle get body getbody get start getstart get next getnext range is range handle israngehandle instruction get instruction getinstruction instruction utility copy instruction copyinstruction branch instruction branchinstruction map into list intolist append branch instruction branchinstruction map into list intolist append map procedure kill nops killnops instruction handle instructionhandle curr body get start getstart curr instruction handle instructionhandle curr get next getnext curr get instruction getinstruction nop instruction targeter instructiontargeter targeters curr get targeters gettargeters targeters len targeters length len instruction targeter instructiontargeter targeter targeters targeter update target updatetarget curr body delete curr target lost exception targetlostexception curr instruction handle instructionhandle remap instruction handle instructionhandle map map object ret map ret get next getnext instruction handle instructionhandle ret update comments asc priorities create exception handlers complex task account priority enables couple bugs fixed code block exception ordering dealing priority inversions earlier counting tree structure code fact xxx comment wrong exception preceeds exception exception table iff original method preceeded original exception table higher priority preceeds priority start earliest priority outermost exception priority implement linked list linkedlist implement java util sorted set sortedset don trust implementation tree set treeset insert handler inserthandler exception range exceptionrange fresh linked list linkedlist implementation simply add fresh list iterator listiterator iter list iterator listiterator iter has next hasnext exception range exceptionrange exception range exceptionrange iter rreal get real start getrealstart get position getposition fresh get priority getpriority get priority getpriority iter previous iter add fresh reached add fresh is private isprivate modifier is private isprivate get access flags getaccessflags is protected isprotected modifier is protected isprotected get access flags getaccessflags is default isdefault is protected isprotected is private isprivate is public ispublic is public ispublic modifier is public ispublic get access flags getaccessflags good body body properties branch instruction body target body branch instruction body target targeter instruction body branch instruction targeter body range handle instruction body instruction targeter branch instruction exception range tag range handle instruction body targeter range range handle instruction body range targeting body instruction body exception range targeting body exception range body handler body targeters ranges properly nested ranges start preceeds start preceeds shorthand body start body body instruction handle instructionhandle stored field exception handle body assert good body assertgoodbody enable debugging cheaper to string tostring defining type definingtype get name as identifier getnameasidentifier get name getname to string tostring assert good body assertgoodbody get body getbody to string tostring assert good body assertgoodbody instruction list instructionlist string enabled debugging body hash set hashset stack ranges stack instruction handle instructionhandle get start getstart get next getnext body add get instruction getinstruction branch instruction branchinstruction body add get instruction getinstruction instruction handle instructionhandle get start getstart get next getnext assert good handle assertgoodhandle body ranges instruction targeter instructiontargeter get targeters gettargeters length assert good targeter assertgoodtargeter body assert good handle assertgoodhandle instruction handle instructionhandle body stack ranges string instruction inst get instruction getinstruction inst branch instruction branchinstruction branch handle branchhandle bcexception bad instruction handle pair range is range handle israngehandle assert good range handle assertgoodrangehandle body ranges inst branch instruction branchinstruction assert good branch instruction assertgoodbranchinstruction branch handle branchhandle branch instruction branchinstruction inst body ranges assert good branch instruction assertgoodbranchinstruction branch handle branchhandle branch instruction branchinstruction inst body stack ranges string get target gettarget inst get target gettarget bcexception bad branch instruction handle pair instruction handle instructionhandle target get target gettarget assert in body assertinbody target body assert targeted by asserttargetedby target inst inst select select sel select inst instruction handle instructionhandle itargets sel get targets gettargets itargets length assert in body assertinbody itargets body assert targeted by asserttargetedby itargets inst instruction handle instructionhandle branch instruction branchinstruction assert in body assertinbody object body string body bcexception body assert good range handle assertgoodrangehandle instruction handle instructionhandle body stack ranges string range get range and assert exactly one getrangeandassertexactlyone assert good range assertgoodrange body get start getstart ranges push get end getend ranges peek bcexception bad range inclusion ranges pop assert good range assertgoodrange range body string assert in body assertinbody get start getstart body assert range handle assertrangehandle get start getstart assert targeted by asserttargetedby get start getstart assert in body assertinbody get end getend body assert range handle assertrangehandle get end getend assert targeted by asserttargetedby get end getend exception range exceptionrange exception range exceptionrange exception range exceptionrange assert in body assertinbody get handler gethandler body assert targeted by asserttargetedby get handler gethandler assert range handle assertrangehandle instruction handle instructionhandle string range is range handle israngehandle bcexception bad range handle assert targeted by asserttargetedby instruction handle instructionhandle target instruction targeter instructiontargeter targeter string instruction targeter instructiontargeter target get targeters gettargeters bcexception bad targeting relationship length targeter runtime exception runtimeexception bad targeting relationship assert targets asserttargets instruction targeter instructiontargeter targeter instruction handle instructionhandle target string targeter range range range targeter get start getstart target get end getend target exception range exceptionrange exception range exceptionrange get handler gethandler target targeter branch instruction branchinstruction branch instruction branchinstruction branch instruction branchinstruction targeter get target gettarget target targeter select select sel select targeter instruction handle instructionhandle itargets sel get targets gettargets itargets length itargets target targeter tag bcexception targeter doesn target target range get range and assert exactly one getrangeandassertexactlyone instruction handle instructionhandle string range ret instruction targeter instructiontargeter get targeters gettargeters bcexception range handle range length range ret bcexception range handle multiple ranges ret range ret bcexception range handle range ret assert good targeter assertgoodtargeter instruction targeter instructiontargeter instruction handle instructionhandle body string assert targets asserttargets range assert good range assertgoodrange range body branch instruction branchinstruction assert in body assertinbody body is advice method isadvicemethod member view memberview get associated shadow munger getassociatedshadowmunger is aj synthetic isajsynthetic member view memberview member view memberview is aj synthetic isajsynthetic isource location isourcelocation get source location getsourcelocation member view memberview member view memberview get source location getsourcelocation aj attribute ajattribute effective signature attribute effectivesignatureattribute get effective signature geteffectivesignature member view memberview effective signature effectivesignature effective signature effectivesignature member view memberview get effective signature geteffectivesignature set effective signature seteffectivesignature resolved member resolvedmember member shadow kind kind should weave shouldweave effective signature effectivesignature aj attribute ajattribute effective signature attribute effectivesignatureattribute member kind should weave shouldweave string get signature getsignature member view memberview member view memberview get signature getsignature member impl memberimpl types to signature typestosignature bcel world bcelworld from bcel frombcel get return type getreturntype bcel world bcelworld from bcel frombcel get argument types getargumenttypes string get parameter signature getparametersignature member view memberview member view memberview get parameter signature getparametersignature member impl memberimpl types to signature typestosignature bcel world bcelworld from bcel frombcel get argument types getargumenttypes bcel method bcelmethod get member view getmemberview member view memberview force public forcepublic mark as changed markaschanged access flags accessflags utility make public makepublic access flags accessflags get can inline getcaninline can inline caninline set can inline setcaninline can inline caninline can inline caninline can inline caninline adds attribute method param attr add attribute addattribute attribute attr attribute new attributes newattributes attribute attributes length system arraycopy attributes new attributes newattributes attributes length new attributes newattributes attributes length attr attributes new attributes newattributes