copyright xerox corporation palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation org aspectj testing harness bridge java util java util arrays java util collections java util comparator java util iterator java util list org aspectj bridge imessage org aspectj bridge imessage handler imessagehandler org aspectj bridge imessage holder imessageholder org aspectj bridge message handler messagehandler org aspectj bridge message util messageutil org aspectj bridge imessage kind org aspectj testing util bridge util bridgeutil org aspectj testing util diffs org aspectj util lang util langutil handle messages test calculate differences expected actual messages ajc message handler ajcmessagehandler message handler messagehandler comparator enclosed imessage diffs comparator comp imessage bridge util bridgeutil comparators medium imessage comparator enclosed file diffs comparator comp file bridge util bridgeutil comparators weak file unmodifiable list imessage messages type list expected messages as list expectedmessagesaslist imessage holder imessageholder variant expected messages as list expectedmessagesaslist imessage holder imessageholder expected messages expectedmessages number messages fail worse num expected failed numexpectedfailed error worse messages expected expecting command true expectingcommandtrue unmodifiable list file expected recompiled list expected recompiled expectedrecompiled unused reinstate supported ignore warnings calculating diffs passed ignore warnings ignorewarnings list file recompiled list actual recompiled actualrecompiled cache expected actual diffs nullify message compiler diffs compilerdiffs diffs ajc message handler ajcmessagehandler imessage holder imessageholder expected messages expectedmessages expected messages expectedmessages param messages constant imessage holder imessageholder expected messages ajc message handler ajcmessagehandler imessage holder imessageholder expected messages expectedmessages ignore warnings ignorewarnings lang util langutil throw iax if null throwiaxifnull messages messages expected messages expectedmessages expected messages expectedmessages expected messages as list expectedmessagesaslist expected messages expectedmessages get unmodifiable list view getunmodifiablelistview expected recompiled expectedrecompiled collections empty list ignore warnings ignorewarnings ignore warnings ignorewarnings fails errors iterator iter expected messages as list expectedmessagesaslist iterator iter has next hasnext imessage imessage iter imessage kind kind get kind getkind imessage fail is same or less than issameorlessthan kind fails is error iserror errors expecting command true expectingcommandtrue errors fails num expected failed numexpectedfailed fails clear actual values init init actual recompiled actualrecompiled diffs kind message store messages bridge tools impl error handler adapter errorhandleradapter do show message doshowmessage imessage message handled processing abort handle message handlemessage imessage message message illegal argument exception illegalargumentexception message handle message handlemessage message expecting message actual files recompiled param list file recompiled modified illegal state exception illegalstateexception set recompiled setrecompiled list list actual recompiled actualrecompiled illegal state exception illegalstateexception actual recompiled actual recompiled actualrecompiled lang util langutil safe list safelist list generate differences expected actual errors warnings compiler diffs compilerdiffs get compiler diffs getcompilerdiffs diffs list expected list actual ignore warnings ignorewarnings expected expected messages expectedmessages get unmodifiable list view getunmodifiablelistview actual get unmodifiable list view getunmodifiablelistview expected arrays as list aslist expected messages expectedmessages get messages getmessages imessage error actual arrays as list aslist get messages getmessages imessage error ignore unexpected info messages test expected diffs messages xxx extract api shake period using new usingnew using new usingnew imessage kind noskips imessage kind imessage kind skip actual skipactual imessage kind imessage info expected info expectedinfo message util messageutil num messages nummessages expected imessage info expected info expectedinfo fyi expecting info messages expect skip actual skipactual noskips messages diffs make diffs makediffs message imessage expected to array toarray imessage imessage actual to array toarray imessage noskips skip actual skipactual messages diffs make diffs makediffs message expected actual comp imessage diffs accept compiler diffs compilerdiffs skip unexpected info diffs recompiled diffs make diffs makediffs recompiled expected recompiled expectedrecompiled actual recompiled actualrecompiled comp file diffs compiler diffs compilerdiffs messages recompiled diffs current result ignoring differences warnings request note passed expected error messages fail abort messages expected errors warnings recompiled match actual passed get compiler diffs getcompilerdiffs expecting command fail expected errors expecting command true expectingcommandtrue expecting command true expectingcommandtrue report handler adding messages creating fail messages diff report imessage handler imessagehandler handler handler message util messageutil debug report handler report messages expected fail messages reported handler client gack xxx verbose report expected fail messages fast fail fastfail num expected failed numexpectedfailed message util messageutil handle all handleall handler fast fail fastfail imessage get messages without expected fails getmessageswithoutexpectedfails message util messageutil handle all handleall handler fast fail fastfail compiler diffs compilerdiffs diffs get compiler diffs getcompilerdiffs diffs diffs messages report handler imessage fail diffs recompiled report handler imessage fail string consisting differences messages string to string tostring compiler diffs compilerdiffs diffs get compiler diffs getcompilerdiffs string buffer stringbuffer string buffer stringbuffer to string tostring string eol append eol render unexpected message eol diffs messages unexpected render missing message eol diffs messages missing render fail eol get list getlist imessage fail render abort eol get list getlist imessage abort render info eol get list getlist imessage info xxx cache to string tostring to string tostring check message expected clear diffs expect message kind number expecting imessage message match message iterator iter expected messages as list expectedmessagesaslist iterator iter has next hasnext text matches matches comp imessage compare message iter match match diffs match imessage get messages without expected fails getmessageswithoutexpectedfails imessage result get messages getmessages remove expected fail costly array list arraylist list array list arraylist left to filter lefttofilter num expected failed numexpectedfailed result length left to filter lefttofilter imessage fail is same or less than issameorlessthan result get kind getkind list add result failure expected expected messages has match for expectedmessageshasmatchfor result don add left to filter lefttofilter list add result result imessage list to array toarray imessage result param actual actual imessage seek match expected messages actual message matched expected messages expected messages has match for expectedmessageshasmatchfor imessage actual iterator iter expected messages as list expectedmessagesaslist iterator iter has next hasnext imessage expected imessage iter comp imessage compare expected actual immutable list kind kinds list get list getlist imessage kind kind kind num messages nummessages kind imessage holder imessageholder equal collections empty list arrays as list aslist get messages getmessages kind imessage holder imessageholder equal items prefix item suffix lang util langutil render string buffer stringbuffer result string prefix string suffix list items items iterator iter items iterator iter has next hasnext result append prefix iter suffix compiler errors warnings recompiled files compiler diffs compilerdiffs skip info messages reporting unexpected messages diffs filter skip unexpected info diffs filter accept object imessage imessage is info isinfo diffs messages diffs recompiled compiler diffs compilerdiffs diffs messages diffs recompiled recompiled recompiled messages messages messages recompiled