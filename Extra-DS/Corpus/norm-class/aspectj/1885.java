copyright xerox corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation org aspectj testing util java file java file writer filewriter java lang reflect method java net url java net urlclass loader urlclassloader install programmatically http url strange java tool classpath accept http url code java classpath testing jar org aspectj testing util web install webinstall http aspectj org download distribution aspectj tools jar text install properties code omit code text install properties code file called install properties current directory properties file define properties code output dir code code context java path javapath code properties platform specifie ways property values backslash escaped backslash directory separators valid windows pre output dir output dir context java path javapath apps jdk pre installer complete programmatically output directory empty colliding files fail stack trace wrong simple input errors driver installers options baseurl pre baseurl baseurl version version context java path javapath path jdk properties form output dir path out dir outdir properties form including trailing outdir path out dir outdir actual form pre url code baseurl package prefix packageprefix version package suffix packagesuffix jar code paths context java path javapath output dir properties compliant format ant script test product xml installing files driven command web install webinstall todo defined string eol string syntax java web install webinstall url args eol url installer eol args text install properties eol install properties eol arguments assume file code install properties code current directory string args string text install properties param args string code url text props path propspath code main string args exception args args length baseurl equals args driver args web install webinstall install args throwable system err println error installing args args length system err println args print stack trace printstacktrace system err jar packages prefix suffix string packages string aspectj tools aspectj docs ajde forte module fortemodule ajde jbuilder open tool jbuilderopentool drive install jar based installers param args string pre baseurl baseurl version version context java path javapath path jdk properties form output dir path out dir outdir properties form including trailing outdir path out dir outdir actual form pre url code baseurl package prefix packageprefix version package suffix packagesuffix jar code paths context java path javapath output dir properties compliant format driver string args exception string baseurl string version string output dir outputdir file outdir string jdk args length baseurl equals args baseurl args version equals args version args context java path javapath equals args jdk args output dir equals args output dir outputdir args outdir equals args outdir file args get canonical file getcanonicalfile outdir is directory isdirectory outdir mkdir file props file create temp file createtempfile web install webinstall string args string text props get canonical path getcanonicalpath packages length string packages version packages file out dir outdir file outdir file writer filewriter out dir outdir is directory isdirectory out dir outdir mkdir file writer filewriter props write output dir output dir outputdir write context java path javapath jdk close args baseurl jar main args close ignore java ioexception props exists props delete driver print error printerror string err err system err println err system err println syntax err create classloader argument presumed url classloader construct installer invoke remaining arguments args install string args exception args args length args args length print error printerror expecting installer url url urls url url args system err println render args args get args getargs args system err println render args urlclass loader urlclassloader urlclass loader urlclassloader urls todo dependency load class loadclass installer org aspectj main method get method getmethod main string invoke object args string render string args string buffer stringbuffer string buffer stringbuffer append args length append append args append to string tostring args args args arguments string get args getargs string args args args length args string result string args length system arraycopy args result result length result