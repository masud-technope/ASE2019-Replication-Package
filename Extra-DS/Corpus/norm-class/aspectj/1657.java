copyright xerox corporation palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation todo distribution license org aspectj testing compare org aspectj testing compare regexp java util java utility logging log log string log system err println log system get property getproperty debug throwable utility handling errors err handler errhandler err handler errhandler err handler errhandler action info action info invoke string message system println info message action warn action warn invoke string message system err println warning message action halt action halt invoke string message runtime exception runtimeexception message action abort action abort invoke string message error message action exit action exit invoke string message system err println message system exit action string action string to lower case tolowercase trim invoke string message string to string tostring handle err handleerr string message throwable handle message handle err handleerr string message handle message handle err handleerr string message action suggestion handle message suggestion handle string message handle message info handle string message throwable string e message emessage get class getclass get name getname get message getmessage handle message e message emessage halt implementation takes suggested action param message string pass action param suggestion action proposed caller handle string message action suggestion suggestion invoke message process files minimal version sed read superclass line number reader linenumberreader read line readline preprocess white space operations replace operations input order code read line readline code method circumvent regular expression replacement processing regexp filter regexpfilter string strings string methods process file system sed calls code regexp filter reader regexpfilterreader main args code param args init string regexp filter regexpfilter main string args ioexception regexp filter reader regexpfilterreader main args todo move string string commas utility initialize regexp filter regexpfilter based command style arguments single string code init string regexp filter regexpfilter code strings separated escaped trimmed note escape characters removed param spec string string param to set toset regexp filter regexpfilter initialize construct file argument stdin file argument regexp filter regexpfilter init string arg regexp filter regexpfilter to set toset arg arg length init strings to set toset string tokenizer stringtokenizer string tokenizer stringtokenizer arg vector result vector string string has more tokens hasmoretokens next token nexttoken ends with endswith has more tokens hasmoretokens substring length result add trim string args string result size result copy into copyinto args regexp filter regexpfilter init args to set toset regexp filter regexpfilter init string args regexp filter regexpfilter to set toset string syntax syntax file pattern pattern file patternfile regexp filter regexpfilter result to set toset to set toset regexp filter regexpfilter args args length args length string arg args arg arg length arg starts with startswith arg char at charat result ignore case ignorecase result ignore case ignorecase result collapse whitespace collapsewhitespace result collapse whitespace collapsewhitespace result trim whitespace trimwhitespace result trim whitespace trimwhitespace args length result get operation list getoperationlist add operation addoperation args string err arg syntax err handler errhandler handle err handleerr err err handler errhandler warn args length result get operation list getoperationlist add file addfile args string err arg syntax err handler errhandler handle err handleerr err err handler errhandler warn string err unrecognized flag arg syntax err handler errhandler handle err handleerr err err handler errhandler warn result err handler errhandler handle err handleerr unexpected arg arg syntax err handler errhandler warn file file file arg file exists file can read canread result set file setfile file result ignore case ignorecase collapse whitespace collapsewhitespace trim whitespace trimwhitespace replace operation list operationlist operations err handler errhandler handler err handler errhandler file file regexp filter regexpfilter set file setfile file file file file file get file getfile file operation list operationlist get operation list getoperationlist operations operations operation list operationlist replace operations string process string string string label process string log label string string result string ignore case ignorecase result result to upper case touppercase trim whitespace trimwhitespace result result trim collapse whitespace collapsewhitespace string buffer stringbuffer collapse string buffer stringbuffer string tokenizer stringtokenizer tokens string tokenizer stringtokenizer result has more tokens hasmoretokens tokens has more tokens hasmoretokens has more tokens hasmoretokens collapse append tokens next token nexttoken has more tokens hasmoretokens tokens has more tokens hasmoretokens has more tokens hasmoretokens collapse append result collapse to string tostring replace result get operation list getoperationlist replace result log label result result result container replace operations replaceoperations constructs add runs operations input operation list operationlist array list arraylist list operation list operationlist list array list arraylist input operations list result param input string process string result running input replace operations order string replace string input input iterator operations operations operations has next hasnext replace operation replaceoperation operation replace operation replaceoperation operations input operation replace input input add operations read file ignoring empty lines comments delimits operations add operation addoperation string escape search replace segments add file addfile string path path handler handle path err handler errhandler abort file file file path file exists file can read canread handler handle invalid path path err handler errhandler abort buffered reader bufferedreader reader line number linenumber string reader buffered reader bufferedreader file reader filereader file reader read line readline line number linenumber loc index of indexof loc substring loc loc index of indexof loc substring loc trim length add operation addoperation ioexception string message error processing file path line number linenumber get class getclass get name getname get message getmessage handler handle message err handler errhandler abort reader reader close ioexception add operation list emitting warning returning created add multiple operations separating search replace escaped param operation string acceptable code replace operation replaceoperation make replace operation makereplaceoperation string err handler errhandler code form search replace add operation addoperation string operation string tokenizer stringtokenizer string tokenizer stringtokenizer operation string replace operation replaceoperation to add toadd all added alladded has more tokens hasmoretokens grab tokens accumulating escapes delimiter string next token nexttoken ends with endswith has more tokens hasmoretokens substring length to add toadd replace operation replaceoperation make replace operation makereplaceoperation handler to add toadd list add to add toadd string label regexp filter regexpfilter operation list operationlist add operation addoperation operation handler handle label input accepted err handler errhandler warn all added alladded all added alladded all added alladded iterator list replace operation replaceoperation iterator operations list iterator operation list operationlist encapsulate search replace operation reg exp regexp replace operation replaceoperation accepts sed substitute command delimiter character search replace strings escaped delimiter character note replace globally supported input implementation param operation string form search replace replace operation replaceoperation make replace operation makereplaceoperation string operation err handler errhandler handler replace operation replaceoperation result string buffer stringbuffer err handler string buffer stringbuffer string syntax search replace todo point is valid operation isvalidoperation operation operation err err append operation operation length err err append empty operation operation starts with startswith err err append expecting syntax string sep operation substring mid operation index of indexof sep mid handler err append expecting middle sep syntax mid handler err append expecting search middle sep syntax operation index of indexof sep mid handler err append expecting sep syntax string search operation substring mid replace operation replaceoperation is valid search isvalidsearch search handler err append invalid search search syntax string replace operation substring mid replace operation replaceoperation is valid replace isvalidreplace replace handler err append invalid replace replace syntax result replace operation replaceoperation search replace operation ends with endswith handler err length handler err append operation operation handler handle err to string tostring err handler errhandler halt result input string represents valid search operation param replace string representing search expression is valid search isvalidsearch string search todo weak search search length point mid input string represents valid search operation param search string representing search expression point is valid operation isvalidoperation string search search length search length length string sep search substring mid search index of indexof sep mid search index of indexof sep mid length length search ends with endswith point mid input string represents valid replace operation param replace string representing replace expression is valid replace isvalidreplace string replace todo weak result replace result is valid replace isvalidreplace instance members repeat replace todo repeat supported repeat search pattern string search replace pattern string replace regexp processor regexp regexp replace buffer read replace buffer replacebuffer error handler err handler errhandler handler constructors replace operation replaceoperation string search string replace repeat err handler errhandler handler search search replace replace replace buffer replacebuffer replace to char array tochararray repeat repeat handler handler handler err handler errhandler regexp regexp factory regexpfactory make regexp makeregexp regexp set pattern setpattern search exception handler handle setting search search input matched search string replace operation replaceoperation param input string compare input matched search string replace operation replaceoperation matches string input input regexp matches input matches replace search text input replacement text returning input match emit unmatched prefix emit replacement text replacement text replaced matching subsection input text emit unmatched suffix param input string search replace illegal argument exception illegalargumentexception input string replace string input input illegal argument exception illegalargumentexception input string label replace input log label matches input string buffer stringbuffer buffer string buffer stringbuffer length replace buffer replacebuffer length vector groups regexp get groups getgroups input groups groups size handler handle label matched groups input buffer set length setlength group input print prefix suffix string matched part matchedpart string groups element at elementat match start matchstart input index of indexof matched part matchedpart match end matchend match start matchstart matched part matchedpart length match start matchstart buffer append input substring match start matchstart escaping special esp replace special char specialchar length replace buffer replacebuffer special char specialchar supported character digit groups size buffer append string groups element at elementat buffer append special char specialchar log buffer append special char specialchar special char specialchar handler handle label register replace err handler errhandler abort match end matchend input length buffer append input substring match end matchend input buffer to string tostring input