copyright contributors rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors andy clement initial implementation org aspectj systemtest incremental tools java buffered reader bufferedreader java data output stream dataoutputstream java file java file output stream fileoutputstream java file reader filereader java ioexception java util array list arraylist java util hash set hashset java util iterator java util list java util org aspectj ajdt internal core builder aj state ajstate org aspectj ajdt internal core builder incremental state manager incrementalstatemanager org aspectj asm asm manager asmmanager org aspectj asm iprogram element iprogramelement org aspectj bridge imessage org aspectj testing util file util fileutil superclass talking ajde compiler superclass isn charge knowing simulate overlays incremental builds ability generate valid build configs based directory structure support access sandbox directory sandbox managed superclass assumes builds occur sandbox dir sandboxdir project name projectname idea initialize multiple projects sandbox built independently exploiting incremental compilation builds alter contents project alter method overlays files current adding files changing existing drive build check behaves expected multi project incremental tests multiprojectincrementaltests ajde interaction testbed ajdeinteractiontestbed verbose set up setup exception set up setup ajde interaction testbed ajdeinteractiontestbed verbose verbose aj state ajstate force incremental testing tear down teardown exception tear down teardown aj state ajstate force incremental testing compile single simple project test the basics testthebasics initialise project initialiseproject build batch build build check wasnt full build checkwasntfullbuild check compile weave count checkcompileweavecount source code doesnt matter checking invalid path handling test invalid aspectpath testinvalidaspectpath initialise project initialiseproject file file foo jar hash set hashset add configure aspect path configureaspectpath build batch build check for error checkforerror invalid aspectpath entry simple project adding test simple changes testsimplechanges initialise project initialiseproject build batch build adds single alter build check compile weave count checkcompileweavecount build check compile weave count checkcompileweavecount simple project adding aspect test adding an aspect testaddinganaspect initialise project initialiseproject build weave build adds alter adds aspect alter build build time taken for full build and weave timetakenforfullbuildandweave get time taken for build gettimetakenforbuild full build check was full build checkwasfullbuild source strategy compile delta find check compile weave count checkcompileweavecount aspect changed source compile weave build time taken for simple inc build timetakenforsimpleincbuild get time taken for build gettimetakenforbuild don test timing issues times radically config build time assert true asserttrue longer trivial incremental build time taken for full build and weave timetakenforfullbuildandweave time taken for simple inc build timetakenforsimpleincbuild time taken for simple inc build timetakenforsimpleincbuild time taken for full build and weave timetakenforfullbuildandweave test building two projects in turns testbuildingtwoprojectsinturns configure build structure model configurebuildstructuremodel initialise project initialiseproject initialise project initialiseproject build build build check wasnt full build checkwasntfullbuild build check wasnt full build checkwasntfullbuild order test move weaver pair aj build manager ajbuildmanager instance object perfect sense reusing project switching weaver project test building two projects making small changes testbuildingtwoprojectsmakingsmallchanges configure build structure model configurebuildstructuremodel initialise project initialiseproject initialise project initialiseproject build build build check wasnt full build checkwasntfullbuild build check wasnt full build checkwasntfullbuild adds alter adds aspect alter build adding aspect source check was full build checkwasfullbuild setup simple projects build turn check structure model build test building two projects and verifying model testbuildingtwoprojectsandverifyingmodel configure build structure model configurebuildstructuremodel initialise project initialiseproject initialise project initialiseproject build check for node checkfornode pkg build check for node checkfornode pkg build check for node checkfornode pkg build check for node checkfornode pkg setup simple projects build turn check structure model build test building two projects and verifying stuff testbuildingtwoprojectsandverifyingstuff configure build structure model configurebuildstructuremodel initialise project initialiseproject initialise project initialiseproject build check for node checkfornode pkg build check for node checkfornode pkg build check for node checkfornode pkg build check for node checkfornode pkg complex testing object records structural full build correctly build simple project scratch full build structural build count alter adding method check structural test state management teststatemanagement file bin directory for p bindirectoryforp file get file getfile bin initialise project initialiseproject full build build aj state ajstate ajs incremental state manager incrementalstatemanager find state managing output location findstatemanagingoutputlocation bin directory for p bindirectoryforp assert true asserttrue object project ajs assert true asserttrue structural full build ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild adds method java alter build check wasnt full build checkwasntfullbuild ajs incremental state manager incrementalstatemanager find state managing output location findstatemanagingoutputlocation file get file getfile bin assert true asserttrue project ajs check wasnt full build checkwasntfullbuild assert true asserttrue structural full build ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild complex testing object records structural full build correctly build simple project scratch full build structural build count alter changing body method structure check struc test state management teststatemanagement file bin directory for p bindirectoryforp file get file getfile bin initialise project initialiseproject change applied making alter structural change full build build aj state ajstate ajs incremental state manager incrementalstatemanager find state managing output location findstatemanagingoutputlocation bin directory for p bindirectoryforp assert true asserttrue project ajs assert true asserttrue struc full build ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild body main method change structure java alter build check wasnt full build checkwasntfullbuild ajs incremental state manager incrementalstatemanager find state managing output location findstatemanagingoutputlocation file get file getfile bin assert true asserttrue project ajs check wasnt full build checkwasntfullbuild assert true asserttrue shouldn structural ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild java file modified test field init ctor watch checking structural test state management teststatemanagement file bin dir for interproject bindirforinterproject file get file getfile interprojectdeps bin initialise project initialiseproject interprojectdeps full build build interprojectdeps aj state ajstate ajs incremental state manager incrementalstatemanager find state managing output location findstatemanagingoutputlocation bin dir for interproject bindirforinterproject assert true asserttrue project ajs assert true asserttrue struc full build ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild adds space java alter interprojectdeps build interprojectdeps check wasnt full build checkwasntfullbuild ajs incremental state manager incrementalstatemanager find state managing output location findstatemanagingoutputlocation file get file getfile interprojectdeps bin assert true asserttrue project interprojectdeps ajs check wasnt full build checkwasntfullbuild assert true asserttrue shouldn structural ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild java file modified test ctors checks mangled instance test state management teststatemanagement file bin dir for interproject bindirforinterproject file get file getfile interprojectdeps bin initialise project initialiseproject interprojectdeps full build build interprojectdeps aj state ajstate ajs incremental state manager incrementalstatemanager find state managing output location findstatemanagingoutputlocation bin dir for interproject bindirforinterproject assert true asserttrue project interprojectdeps ajs assert true asserttrue struc full build ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild minor change java alter interprojectdeps build interprojectdeps check wasnt full build checkwasntfullbuild ajs incremental state manager incrementalstatemanager find state managing output location findstatemanagingoutputlocation file get file getfile interprojectdeps bin assert true asserttrue project interprojectdeps ajs check wasnt full build checkwasntfullbuild assert true asserttrue shouldn structural ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild java file modified test ctors reference rise accessor created test state management teststatemanagement file bin dir for interproject bindirforinterproject file get file getfile interprojectdeps bin initialise project initialiseproject interprojectdeps full build build interprojectdeps aj state ajstate ajs incremental state manager incrementalstatemanager find state managing output location findstatemanagingoutputlocation bin dir for interproject bindirforinterproject assert true asserttrue project interprojectdeps ajs assert true asserttrue struc full build ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild minor change java alter interprojectdeps build interprojectdeps check wasnt full build checkwasntfullbuild ajs incremental state manager incrementalstatemanager find state managing output location findstatemanagingoutputlocation file get file getfile interprojectdeps bin assert true asserttrue project interprojectdeps ajs check wasnt full build checkwasntfullbuild assert true asserttrue shouldn structural ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild ajs get number of structural changes since last full build getnumberofstructuralchangessincelastfullbuild complex test create dependancy projects building affect incremental full build structural recorded object control full build test building dependant projects testbuildingdependantprojects initialise project initialiseproject initialise project initialiseproject configure new project dependency configurenewprojectdependency build consistent compiled build adds alter build don full build build check wasnt full build checkwasntfullbuild structurally classes alter build build notices structural change build check was full build checkwasfullbuild alter build build sees change works structural build check wasnt full build checkwasntfullbuild test pr testpr initialise project initialiseproject build alter build parameterization aspects test pr testpr initialise project initialiseproject build check compile weave count checkcompileweavecount alter build aspects type parameters check for error checkforerror aspects type parameters alter build check compile weave count checkcompileweavecount assert true asserttrue errors my task list manager mytasklistmanager get error messages geterrormessages my task list manager mytasklistmanager get error messages geterrormessages size test pr testpr initialise project initialiseproject initialise project initialiseproject configure new project dependency configurenewprojectdependency assert true asserttrue warning messages start my task list manager mytasklistmanager get warning messages getwarningmessages is empty isempty build build list warnings my task list manager mytasklistmanager get warning messages getwarningmessages assert true asserttrue warning warnings size warnings size imessage msg imessage my task list manager mytasklistmanager get warning messages getwarningmessages assert equals assertequals warning ffdc resource ffdc msg get source location getsourcelocation get source file getsourcefile get name getname alter build check wasnt full build checkwasntfullbuild imessage msg imessage my task list manager mytasklistmanager get warning messages getwarningmessages assert equals assertequals warning ffdc resource ffdc msg get source location getsourcelocation get source file getsourcefile get name getname assert false assertfalse warning message generated msg equals msg test pr testpr initialise project initialiseproject build alter build test pr testpr initialise project initialiseproject build assert true asserttrue errors my task list manager mytasklistmanager get error messages geterrormessages my task list manager mytasklistmanager get error messages geterrormessages size test pr testpr initialise project initialiseproject build list my task list manager mytasklistmanager get warning messages getwarningmessages assert true asserttrue warnings size fiddle compiler options manually reset options test test pr testpr initialise project initialiseproject configure non standard compile options configurenonstandardcompileoptions proceed on error proceedonerror build check compile weave count checkcompileweavecount my build options adapter mybuildoptionsadapter reset test pr testpr initialise project initialiseproject build alter build check was full build checkwasfullbuild alter build source aspect change check was full build checkwasfullbuild test pr testpr ajde interaction testbed ajdeinteractiontestbed verbose ajde interaction testbed ajdeinteractiontestbed configure build structure model configurebuildstructuremodel initialise project initialiseproject build check was full build checkwasfullbuild alter build source aspect check was full build checkwasfullbuild ajde interaction testbed ajdeinteractiontestbed verbose ajde interaction testbed ajdeinteractiontestbed configure build structure model configurebuildstructuremodel test pr testpr ajde interaction testbed ajdeinteractiontestbed verbose ajde interaction testbed ajdeinteractiontestbed configure build structure model configurebuildstructuremodel initialise project initialiseproject build check was full build checkwasfullbuild alter build source check was full build checkwasfullbuild check compile weave count checkcompileweavecount full build fullbuild check was full build checkwasfullbuild ajde interaction testbed ajdeinteractiontestbed verbose ajde interaction testbed ajdeinteractiontestbed configure build structure model configurebuildstructuremodel test pr testpr ajde interaction testbed ajdeinteractiontestbed verbose initialise project initialiseproject build check was full build checkwasfullbuild alter build source check was full build checkwasfullbuild test pr testpr ajde interaction testbed ajdeinteractiontestbed verbose configure build structure model configurebuildstructuremodel initialise project initialiseproject build check was full build checkwasfullbuild alter build check wasnt full build checkwasntfullbuild test pr testpr ajde interaction testbed ajdeinteractiontestbed verbose asm manager asmmanager set reporting setreporting foo txt my build options adapter mybuildoptionsadapter set non standard options setnonstandardoptions show weave info showweaveinfo configure build structure model configurebuildstructuremodel initialise project initialiseproject build check was full build checkwasfullbuild alter build check wasnt full build checkwasntfullbuild test pr testpr verbose initialise project initialiseproject build alter build test pr testpr initialise project initialiseproject build check was full build checkwasfullbuild string file c filec get working dir getworkingdir get absolute path getabsolutepath file separator char separatorchar file separator char separatorchar src file separator char separatorchar pack file separator char separatorchar java file file c filec delete alter build check was full build checkwasfullbuild ajde interaction testbed ajdeinteractiontestbed my state listener mystatelistener detected deletions detecteddeletions size assert true asserttrue expected deleted file noticed detected string string ajde interaction testbed ajdeinteractiontestbed my state listener mystatelistener detected deletions detecteddeletions assert true asserttrue java ends with endswith java test pr testpr initialise project initialiseproject build check was full build checkwasfullbuild string file c filec get working dir getworkingdir get absolute path getabsolutepath file separator char separatorchar file separator char separatorchar src file separator char separatorchar pack file separator char separatorchar java file file c filec delete alter build check was full build checkwasfullbuild ajde interaction testbed ajdeinteractiontestbed my state listener mystatelistener detected deletions detecteddeletions size assert true asserttrue expected deleted file noticed detected string string ajde interaction testbed ajdeinteractiontestbed my state listener mystatelistener detected deletions detecteddeletions assert true asserttrue java ends with endswith java stage compile files pack pack sets field stage field compile error stage add aspect compile error test pr testpr initialise project initialiseproject build assert false assertfalse build compiled my task list manager mytasklistmanager has error messages haserrormessages alter build assert equals assertequals error message foo resolved foo resolved imessage my task list manager mytasklistmanager get error messages geterrormessages get message getmessage alter build assert true asserttrue exceptions handled my error handler myerrorhandler get error messages geterrormessages my error handler myerrorhandler get error messages geterrormessages is empty isempty assert equals assertequals error message foo resolved foo resolved imessage my task list manager mytasklistmanager get error messages geterrormessages get message getmessage stage compile files pack pack aspects field pack pack classes field stage field compile errors stage field aspect compile error shouldn bcexcpetion find delegate pack test pr testpr initialise project initialiseproject build assert false assertfalse build compiled my task list manager mytasklistmanager has error messages haserrormessages alter build full build fullbuild list errors my task list manager mytasklistmanager get error messages geterrormessages assert true asserttrue error errors size assert equals assertequals error message resolved resolved imessage errors get message getmessage alter build assert true asserttrue exceptions handled my error handler myerrorhandler get error messages geterrormessages my error handler myerrorhandler get error messages geterrormessages is empty isempty assert equals assertequals error message resolved resolved imessage errors get message getmessage test pr testpr ajde interaction testbed ajdeinteractiontestbed verbose initialise project initialiseproject build check was full build checkwasfullbuild string file c filec get working dir getworkingdir get absolute path getabsolutepath file separator char separatorchar file separator char separatorchar src file separator char separatorchar pack file separator char separatorchar java file file c filec delete alter build check was full build checkwasfullbuild problems multiple rewrites pointcut incremental builds test pr testpr initialise project initialiseproject build alter build source check was full build checkwasfullbuild alter build test pr testpr initialise project initialiseproject build alter build source check was full build checkwasfullbuild test pr testpr configure non standard compile options configurenonstandardcompileoptions show weave info showweaveinfo initialise project initialiseproject build list first build messages firstbuildmessages my task list manager mytasklistmanager get weaving messages getweavingmessages assert true asserttrue message dec type first build messages firstbuildmessages size alter build source check wasnt full build checkwasntfullbuild list second build messages secondbuildmessages my task list manager mytasklistmanager get weaving messages getweavingmessages check first build messages firstbuildmessages size imessage imessage first build messages firstbuildmessages imessage imessage second build messages secondbuildmessages to string tostring equals to string tostring system err println message build system err println message build fail messages annotation test pr testpr configure non standard compile options configurenonstandardcompileoptions show weave info showweaveinfo initialise project initialiseproject build list first build messages firstbuildmessages my task list manager mytasklistmanager get weaving messages getweavingmessages assert true asserttrue message dec type first build messages firstbuildmessages size alter build source check wasnt full build checkwasntfullbuild list second build messages secondbuildmessages my task list manager mytasklistmanager get weaving messages getweavingmessages check first build messages firstbuildmessages size imessage imessage first build messages firstbuildmessages imessage imessage second build messages secondbuildmessages to string tostring equals to string tostring system err println message build system err println message build fail messages test comment npe test pr testpr configure build structure model configurebuildstructuremodel initialise project initialiseproject build alter build assert true asserttrue exceptions handled my error handler myerrorhandler get error messages geterrormessages my error handler myerrorhandler get error messages geterrormessages is empty isempty assert equals assertequals warning message match type file xlint invalid absolute type name invalidabsolutetypename match type file xlint invalid absolute type name invalidabsolutetypename imessage my task list manager mytasklistmanager get warning messages getwarningmessages get message getmessage configure build structure model configurebuildstructuremodel test comment adding comment file shouldn source recompile force behave ajdt include aspect aj state ajstate timestamp thinks aspect modified logic crosscutting members crosscuttingmembers work correctly haven aspect shouldn source test pr testpr behave ajdt configure build structure model configurebuildstructuremodel initialise project initialiseproject build check was full build checkwasfullbuild alter build shouldn full build check wasnt full build checkwasntfullbuild aspect hasn changed configure build structure model configurebuildstructuremodel test comment simulates ajdt core builder test test bug testbug changing contents method shouldn force full build dependant project force behave ajdt dependant project copy base aj state ajstate thinks somethings changed dependant project build project depended include aspect changed aj state ajstate aspect changed logic crosscutting members crosscuttingmembers equals methods decide correctly don source test pr testpr configure build structure model configurebuildstructuremodel initialise project initialiseproject build full build initializing project check was full build checkwasfullbuild initialise project initialiseproject configure new project dependency configurenewprojectdependency build full build initializing project check was full build checkwasfullbuild alter build incremental build check wasnt full build checkwasntfullbuild includes aspect hasn changed shouldn source alter build incremental build check wasnt full build checkwasntfullbuild changed aspects changed running test configure build structure model configurebuildstructuremodel test pr testpr configure non standard compile options configurenonstandardcompileoptions outxml initialise project initialiseproject build check was full build checkwasfullbuild aop xml file shouldn aspects check xmlaspect count checkxmlaspectcount add aspect included aop xml file alter build check was full build checkwasfullbuild check xmlaspect count checkxmlaspectcount check xmlaspect count checkxmlaspectcount file shouldn affect contents aop xml file alter build check wasnt full build checkwasntfullbuild check xmlaspect count checkxmlaspectcount check xmlaspect count checkxmlaspectcount add aspect included aop xml file duplicate entries file alter build check was full build checkwasfullbuild check xmlaspect count checkxmlaspectcount check xmlaspect count checkxmlaspectcount check xmlaspect count checkxmlaspectcount delete aspect meanss aop xml file file file get working dir getworkingdir get absolute path getabsolutepath file separator char separatorchar file separator char separatorchar delete build check was full build checkwasfullbuild check xmlaspect count checkxmlaspectcount check xmlaspect count checkxmlaspectcount check xmlaspect count checkxmlaspectcount add aspect called pkg included aop xml file alter build check was full build checkwasfullbuild check xmlaspect count checkxmlaspectcount check xmlaspect count checkxmlaspectcount check xmlaspect count checkxmlaspectcount pkg test pr testpr initialise project initialiseproject build alter build alter build assert true asserttrue errors reported my task list manager mytasklistmanager get error messages geterrormessages my task list manager mytasklistmanager get error messages geterrormessages is empty isempty test pr testpr initialise project initialiseproject build alter build assert true asserttrue errors reported my task list manager mytasklistmanager get error messages geterrormessages my task list manager mytasklistmanager get error messages geterrormessages is empty isempty string decisions ajde interaction testbed ajdeinteractiontestbed my state listener mystatelistener get decisions getdecisions string expect recompile assert true asserttrue couldn find build decision expect list decisions decisions decisions index of indexof expect tests memory usage freemem calls relationship map check compiled wove number files passing don care number check compile weave count checkcompileweavecount exp compile expcompile exp woven expwoven exp compile expcompile get compiled files getcompiledfiles size exp compile expcompile fail expected compilation exp compile expcompile files compiled get compiled files getcompiledfiles size print compiled and woven files printcompiledandwovenfiles exp woven expwoven get woven classes getwovenclasses size exp woven expwoven fail expected weaving exp woven expwoven files wove get woven classes getwovenclasses size print compiled and woven files printcompiledandwovenfiles check wasnt full build checkwasntfullbuild assert true asserttrue shouldn full batch build was full build wasfullbuild check was full build checkwasfullbuild assert true asserttrue full batch build was full build wasfullbuild check for node checkfornode string package name packagename string type name typename should be found shouldbefound iprogram element iprogramelement ipe asm manager asmmanager get default getdefault get hierarchy gethierarchy find element for type findelementfortype package name packagename type name typename should be found shouldbefound ipe print model printmodel assert true asserttrue find package name packagename type name typename asm ipe ipe print model printmodel assert true asserttrue find package name packagename type name typename asm ipe print model printmodel asm manager asmmanager dumptree asm manager asmmanager get default getdefault get hierarchy gethierarchy get root getroot ioexception print stack trace printstacktrace build string project name projectname construct up to date lst file constructuptodatelstfile project name projectname build lst build project name projectname build lst ajde interaction testbed ajdeinteractiontestbed verbose print build report printbuildreport full build fullbuild string project name projectname construct up to date lst file constructuptodatelstfile project name projectname build lst full build fullbuild project name projectname build lst ajde interaction testbed ajdeinteractiontestbed verbose print build report printbuildreport construct up to date lst file constructuptodatelstfile string pname string configname file project base projectbase file sandbox dir sandboxdir pname file to construct toconstruct file project base projectbase configname list files for compilation filesforcompilation array list arraylist collect up files collectupfiles project base projectbase project base projectbase files for compilation filesforcompilation file output stream fileoutputstream fos file output stream fileoutputstream to construct toconstruct data output stream dataoutputstream dos data output stream dataoutputstream fos iterator iter files for compilation filesforcompilation iterator iter has next hasnext string file string iter dos write bytes writebytes file dos close ioexception ioe ioe print stack trace printstacktrace check for error checkforerror string an error anerror list messages my task list manager mytasklistmanager get error messages geterrormessages iterator iter messages iterator iter has next hasnext imessage element imessage iter element get message getmessage index of indexof an error anerror fail didn find error message an error anerror n errors nerrors occurred my task list manager mytasklistmanager get error messages geterrormessages collect up files collectupfiles file location file base list collection point collectionpoint string contents location list contents contents length string string contents file file location string is directory isdirectory collect up files collectupfiles base collection point collectionpoint is file isfile get name getname ends with endswith get name getname ends with endswith java string file found filefound file found filefound get canonical path getcanonicalpath string to remove toremove base get canonical path getcanonicalpath file found filefound starts with startswith to remove toremove runtime exception runtimeexception file found filefound to remove toremove captures extra separator collection point collectionpoint add file found filefound substring to remove toremove length ioexception print stack trace printstacktrace fill working directory project base files base folder initialise project initialiseproject string file project src projectsrc file testdata src dir testdatasrcdir file separator char separatorchar file separator char separatorchar base file destination file get working dir getworkingdir destination exists destination mkdir copy project src projectsrc destination applies overlay project tested copying contents overlay directory alter string project name projectname string overlay directory overlaydirectory file project src projectsrc file testdata src dir testdatasrcdir file separator char separatorchar project name projectname file separator char separatorchar overlay directory overlaydirectory file destination file get working dir getworkingdir project name projectname copy project src projectsrc destination copy contents directory location copy recursive copy file file string contents list contents contents length string string contents file file string file file string is directory isdirectory get name getname starts with startswith mkdir copy is file isfile string buffer stringbuffer string buffer stringbuffer verbose system err println copying file util fileutil copy file copyfile length system err println to string tostring log string msg verbose system println msg count number times aspect name aspectname appears aop xml file compare expected number occurrences count number aspects mentioned file pass aspect name aspectname aspect interested check xmlaspect count checkxmlaspectcount string project name projectname string aspect name aspectname expected occurrences expectedoccurrences aspect count aspectcount file aop xml aopxml file get working dir getworkingdir get absolute path getabsolutepath file separator char separatorchar project name projectname file separator char separatorchar bin file separator char separatorchar meta inf file separator char separatorchar aop xml aop xml aopxml exists fail expected file aop xml aopxml get absolute path getabsolutepath exist doesn buffered reader bufferedreader reader buffered reader bufferedreader file reader filereader aop xml aopxml string reader read line readline aspect name aspectname equals index of indexof aspect aspect count aspectcount index of indexof aspect aspect name aspectname aspect count aspectcount reader read line readline reader close ioexception print stack trace printstacktrace aspect count aspectcount expected occurrences expectedoccurrences fail expected aspect aspect name aspectname expected occurrences expectedoccurrences times aop xml file aspect count aspectcount occurrences