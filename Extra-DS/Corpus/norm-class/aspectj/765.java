copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation org aspectj ajdt internal compiler ast java lang reflect modifier java util array list arraylist java util list org aspectj ajdt internal compiler lookup eclipse factory eclipsefactory org aspectj ajdt internal compiler lookup eclipse type munger eclipsetypemunger org aspectj ajdt internal compiler lookup inter type scope intertypescope org aspectj ajdt internal core builder eclipse source context eclipsesourcecontext org aspectj bridge context compilation and weaving context compilationandweavingcontext org aspectj bridge context context token contexttoken org aspectj org eclipse jdt core compiler char operation charoperation org aspectj org eclipse jdt internal compiler class file classfile org aspectj org eclipse jdt internal compiler compilation result compilationresult org aspectj org eclipse jdt internal compiler ast annotation org aspectj org eclipse jdt internal compiler ast parameterized single type reference parameterizedsingletypereference org aspectj org eclipse jdt internal compiler ast single type reference singletypereference org aspectj org eclipse jdt internal compiler ast type reference typereference org aspectj org eclipse jdt internal compiler lookup class scope classscope org aspectj org eclipse jdt internal compiler lookup method scope methodscope org aspectj org eclipse jdt internal compiler lookup problem reference binding problemreferencebinding org aspectj org eclipse jdt internal compiler lookup reference binding referencebinding org aspectj org eclipse jdt internal compiler lookup type binding typebinding org aspectj org eclipse jdt internal compiler lookup type variable binding typevariablebinding org aspectj weaver aj attribute ajattribute org aspectj weaver resolved member resolvedmember org aspectj weaver resolved type munger resolvedtypemunger org aspectj weaver shadow base type inter type declarations including methods fields constructors author jim hugunin inter type declaration intertypedeclaration aj method declaration ajmethoddeclaration type reference typereference on type ontype reference binding referencebinding on type binding ontypebinding resolved type munger resolvedtypemunger munger differ modifiers superclass declared modifiers declaredmodifiers declared selector declaredselector targetting type wanting type variables alternative list strings representing alternative names position list match real type variable target type list type variable aliases typevariablealiases inter type scope intertypescope inter type scope intertypescope scope hierarchy field method declaration correctly modified include intertypescope resolves relative targetted type scope setup scopesetup xxxaj compiler changed exist acc annotation acc enum inter type declaration intertypedeclaration compilation result compilationresult result type reference typereference on type ontype result set on type setontype on type ontype modifiers acc public accpublic acc static accstatic set on type setontype type reference typereference on type ontype on type ontype on type ontype determine type variable aliases determinetypevariablealiases set declared modifiers setdeclaredmodifiers modifiers declared modifiers declaredmodifiers modifiers set selector setselector selector declared selector declaredselector selector selector char operation charoperation concat selector integer to hex string tohexstring source start sourcestart to char array tochararray selector char operation charoperation concat get prefix getprefix selector selector prefix resolution replaces proper get prefix getprefix add at aspect jannotations addataspectjannotations munger annotation ann at aspect jannotation factory ataspectjannotationfactory create itdannotation createitdannotation munger get signature getsignature get declaring type getdeclaringtype get name getname to char array tochararray declared modifiers declaredmodifiers declared selector declaredselector declaration source start declarationsourcestart at aspect jannotation factory ataspectjannotationfactory add annotation addannotation ann scope checks target annotation error message signaled annotation caller processing kind constructor field method is target annotation istargetannotation class scope classscope class scope classscope string kind on type binding ontypebinding get access flags getaccessflags acc annotation class scope classscope problem reporter problemreporter signal error signalerror source start sourcestart source end sourceend inter type kind declarations annotation types ignore further investigation ignorefurtherinvestigation checks target enum error message signaled enum caller processing is target enum istargetenum class scope classscope class scope classscope string kind on type binding ontypebinding get access flags getaccessflags acc enum class scope classscope problem reporter problemreporter signal error signalerror source start sourcestart source end sourceend inter type kind declarations enum types ignore further investigation ignorefurtherinvestigation resolve class scope classscope upper scope upperscope ignore further investigation ignorefurtherinvestigation scope setup scopesetup inter type scope intertypescope inter type scope intertypescope upper scope upperscope on type binding ontypebinding type variable aliases typevariablealiases scope parent inter type scope intertypescope scope is static isstatic modifier is static isstatic declared modifiers declaredmodifiers scope setup scopesetup fix super calls for interface context fixsupercallsforinterfacecontext upper scope upperscope ignore further investigation ignorefurtherinvestigation new parent newparent resolve class scope classscope scope parent fix super calls in body fixsupercallsinbody fix super calls for interface context fixsupercallsforinterfacecontext class scope classscope scope on type binding ontypebinding is interface isinterface context token contexttoken tok compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext fixing calls selector inter super fixer visitor intersuperfixervisitor inter super fixer visitor intersuperfixervisitor eclipse factory eclipsefactory from scope lookup environment fromscopelookupenvironment scope scope traverse scope compilation and weaving context compilationandweavingcontext leaving phase leavingphase tok called aspect declarations aspectdeclarations build inter type and per clause buildintertypeandperclause eclipse type munger eclipsetypemunger build class scope classscope class scope classscope fix super calls in body fixsupercallsinbody context token contexttoken tok compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext fixing calls itds selector super fixer visitor superfixervisitor super fixer visitor superfixervisitor on type binding ontypebinding traverse class scope classscope munger set super methods called setsupermethodscalled super methods called supermethodscalled compilation and weaving context compilationandweavingcontext leaving phase leavingphase tok resolve on type resolveontype class scope classscope class scope classscope check spec checkspec extra checks on type ontype parameterized single type reference parameterizedsingletypereference resolve type parameters for itdon generic type resolvetypeparametersforitdongenerictype class scope classscope on type binding ontypebinding reference binding referencebinding on type ontype get type binding public gettypebindingpublic class scope classscope on type binding ontypebinding is valid binding isvalidbinding class scope classscope problem reporter problemreporter invalid type invalidtype on type ontype on type binding ontypebinding ignore further investigation ignorefurtherinvestigation transform parameterized type binding some type sometype real type some type sometype kind parameterization allowed type variables references type variables target type worked base type intended lots checks verify declaration formed resolve type parameters for itdon generic type resolvetypeparametersforitdongenerictype class scope classscope class scope classscope collapse parameterized reference type parameterized single type reference parameterizedsingletypereference pref parameterized single type reference parameterizedsingletypereference on type ontype pos pref source start sourcestart pref source end sourceend on type ontype single type reference singletypereference pref token pos on type binding ontypebinding reference binding referencebinding on type ontype get type binding public gettypebindingpublic class scope classscope on type binding ontypebinding is valid binding isvalidbinding class scope classscope problem reporter problemreporter invalid type invalidtype on type ontype on type binding ontypebinding ignore further investigation ignorefurtherinvestigation alias count aliascount type variable aliases typevariablealiases type variable aliases typevariablealiases size type alias count aliascount on type binding ontypebinding is generic type isgenerictype scope problem reporter problemreporter signal error signalerror source start sourcestart source end sourceend type parameters target type target type on type binding ontypebinding debug name debugname ignore further investigation ignorefurtherinvestigation check supplied number type parameters target type alias count aliascount type parameters typeparameters length phantom fake ontype typeparameters include extra method on type binding ontypebinding type variables typevariables length alias count aliascount scope problem reporter problemreporter signal error signalerror source start sourcestart source end sourceend incorrect number type parameters supplied type on type binding ontypebinding debug name debugname on type binding ontypebinding type variables typevariables length type parameters alias count aliascount ignore further investigation ignorefurtherinvestigation check stupid names type variables alias count aliascount alias count aliascount string array element string type variable aliases typevariablealiases single type reference singletypereference str single type reference singletypereference array element to char array tochararray type binding typebinding str get type binding public gettypebindingpublic class scope classscope problem reference binding problemreferencebinding scope problem reporter problemreporter signal error signalerror source start sourcestart source end sourceend intertype declarations type parameterized type array element type parameter refers real type ignore further investigation ignorefurtherinvestigation type variable binding typevariablebinding t vars in generic type tvarsingenerictype on type binding ontypebinding type variables typevariables type variable aliases typevariablealiases array list arraylist generic type variable position generictypevariableposition fixme asc dont build type reference typereference targs pref type arguments typearguments targs targs length type reference typereference tref targs type variable aliases typevariablealiases add char operation charoperation to string tostring tref get type name gettypename t vars in generic type tvarsingenerictype check spec checkspec modifier is protected isprotected declared modifiers declaredmodifiers scope problem reporter problemreporter signal error signalerror source start sourcestart source end sourceend inter type declarations allowed ignore further investigation ignorefurtherinvestigation list make effective signature attribute makeeffectivesignatureattribute resolved member resolvedmember sig shadow kind kind weave body weavebody list array list arraylist add eclipse attribute adapter eclipseattributeadapter aj attribute ajattribute effective signature attribute effectivesignatureattribute sig kind weave body weavebody set munger setmunger resolved type munger resolvedtypemunger munger munger get signature getsignature set position setposition source start sourcestart source end sourceend munger get signature getsignature set source context setsourcecontext eclipse source context eclipsesourcecontext compilation result compilationresult munger munger generate info attributes generateinfoattributes class file classfile class file classfile list shadow kind kind get shadow kind for body getshadowkindforbody kind make effective signature attribute makeeffectivesignatureattribute munger get signature getsignature kind array list arraylist add declaration start line attribute adddeclarationstartlineattribute class file classfile class file classfile generate method info attribute generatemethodinfoattribute binding shadow kind get shadow kind for body getshadowkindforbody resolved member resolvedmember get signature getsignature erroneous program munger munger get signature getsignature get declared selector getdeclaredselector declared selector declaredselector type reference typereference get on type getontype on type ontype create list aliases based supplied parameters ontype declaration list some type sometype foo alias list simply type variable declared type some type sometype determine type variable aliases determinetypevariablealiases on type ontype on type ontype parameterized single type reference parameterizedsingletypereference parameterized single type reference parameterizedsingletypereference param ref paramref parameterized single type reference parameterizedsingletypereference on type ontype type reference typereference param ref paramref type arguments typearguments type variable aliases typevariablealiases array list arraylist length type variable aliases typevariablealiases add char operation charoperation to string tostring get type name gettypename called compiler start resolving elements declaration method adds intertypescope methodscope classscope elements type targetted resolved type variables referred ontype resolved ontype aspect ensure scope setup ensurescopesetup don scope setup scopesetup method scope methodscope scope scope type reference typereference on type ontype work real base type parameterized single type reference parameterizedsingletypereference parameterized single type reference parameterizedsingletypereference pref parameterized single type reference parameterizedsingletypereference pos pref source start sourcestart pref source end sourceend single type reference singletypereference pref token pos resolve reference binding referencebinding reference binding referencebinding get type binding public gettypebindingpublic scope parent type variable binding typevariablebinding scope problem reporter problemreporter signal error signalerror source start sourcestart source end sourceend inter type declarations type variables declare parents prevent disgusting cascading errors problem leads arguments return type returntype single type reference singletypereference type reference typereference ignore further investigation ignorefurtherinvestigation reference binding referencebinding closest match closestmatch type variable binding typevariablebinding first bound firstbound closest match closestmatch type variable binding typevariablebinding first bound firstbound enclosing type enclosingtype problem reference binding problemreferencebinding compound name compoundname closest match closestmatch resolution failed report error problem reference binding problemreferencebinding inter type scope intertypescope inter type scope intertypescope scope parent type variable aliases typevariablealiases fixme asc verify choice lines versions tricks jdt variable processing code won complain refer type variable problem caught ajdt code nicer message scope is static isstatic type variable aliases typevariablealiases modifier is static isstatic declared modifiers declaredmodifiers original version tricking jdt grief reinstate variant change expected messages output tests scope is static isstatic modifier is static isstatic declared modifiers declaredmodifiers scope parent inter type scope intertypescope scope setup scopesetup