org aspectj apache bcel org aspectj apache bcel constants org aspectj apache bcel classfile constant org aspectj apache bcel util byte sequence bytesequence java java util iterator java util hash map hashmap java util array list arraylist container list href instruction html instruction objects instructions appended inserted moved deleted instructions wrapped href instruction handle instructionhandle html instruction handles instructionhandles objects returned append insert operations user read access list structure traversed manipulated controlled list dumped code array href get byte code getbytecode get byte code getbytecode version instruction list instructionlist java aclement exp author href mailto markus dahm berlin dahm instruction instruction handle instructionhandle branch handle branchhandle instruction list instructionlist serializable instruction handle instructionhandle start number elements list length code offsets instructions positions create empty instruction list instruction list instructionlist create instruction list instruction param initial instruction instruction list instructionlist instruction append create instruction list instruction param initial instruction instruction list instructionlist branch instruction branchinstruction append initialize list nonnull compound instruction consumes argument list empty param compound instruction list instruction list instructionlist compound instruction compoundinstruction append get instruction list getinstructionlist test empty list is empty isempty start find target instruction handle corresponds target position code offset param ihs array instruction handles get instruction handles getinstructionhandles param pos array positions ihs get instruction positions getinstructionpositions param count length arrays param target target position search target position instruction handle instruction handle instructionhandle find handle findhandle instruction handle instructionhandle ihs pos count target count binary search pos array ordered pos target ihs constrain search area target constrain search area target instruction handle instruction code position pos works properly list freshly initialized array set positions setpositions called method param pos code position search target position instruction handle instruction handle instructionhandle find handle findhandle pos instruction handle instructionhandle ihs get instruction handles getinstructionhandles find handle findhandle ihs positions length pos instruction handle instructionhandle get instructions as array getinstructionsasarray get instruction handles getinstructionhandles instruction handle instructionhandle find handle findhandle pos instruction handle instructionhandle instruction array instructionarray find handle findhandle instruction array instructionarray positions length pos initialize instruction list array param code array instructions instruction list instructionlist code byte sequence bytesequence bytes byte sequence bytesequence code instruction handle instructionhandle ihs instruction handle instructionhandle code length pos code length actual length count pass create object code append list bytes remember offset associate instruction bytes get index getindex pos count read instruction stream position instruction instruction read instruction readinstruction bytes instruction handle instructionhandle proper append method branch instruction branchinstruction append branch instruction branchinstruction append set position setposition ihs count count ioexception class gen exception classgenexception to string tostring trim proper size positions count system arraycopy pos positions count pass branch instruction branchinstruction update targets convert offsets instruction handles count ihs branch handle branchhandle branch instruction branchinstruction branch instruction branchinstruction ihs instruction target position get index getindex code position relative absolute search target position instruction handle instructionhandle find handle findhandle ihs pos count target search failed class gen exception classgenexception couldn find target branch update target set target settarget select instruction update branch targets lookupswitch tableswitch select select select indices get indices getindices indices length target position indices find handle findhandle ihs pos count target search failed class gen exception classgenexception couldn find target update target set target settarget append list instruction handle contained list consumes argument list empty param append instruction list param instruction list append instruction handle pointing appended instruction instruction handle instructionhandle append instruction handle instructionhandle instruction list instructionlist class gen exception classgenexception appending instruction list instructionlist is empty isempty instruction handle instructionhandle ret start start start prev prev update update length length length clear ret append list instruction contained list consumes argument list empty param append instruction list param instruction list append instruction handle pointing appended instruction instruction handle instructionhandle append instruction instruction list instructionlist instruction handle instructionhandle applies empty list find instruction findinstruction class gen exception classgenexception instruction contained list append append list consumes argument list empty param list append list instruction handle appended instruction instruction handle instructionhandle append instruction list instructionlist class gen exception classgenexception appending instruction list instructionlist is empty isempty is empty isempty start start length length clear start instruction append append instruction list param instruction append append instruction handle instructionhandle is empty isempty start prev prev update length length append instruction list param instruction append instruction handle appended instruction instruction handle instructionhandle append instruction instruction handle instructionhandle instruction handle instructionhandle get instruction handle getinstructionhandle append append branch instruction list param branch instruction append branch instruction handle appended instruction branch handle branchhandle append branch instruction branchinstruction branch handle branchhandle branch handle branchhandle get branch handle getbranchhandle append append single instruction instruction list param instruction list param instruction append list instruction handle appended instruction instruction handle instructionhandle append instruction instruction append instruction list instructionlist append compound instruction instruction param instruction list param composite instruction instruction list instructionlist instruction handle appended instruction instruction handle instructionhandle append instruction compound instruction compoundinstruction append get instruction list getinstructionlist append compound instruction param composite instruction instruction list instructionlist instruction handle appended instruction instruction handle instructionhandle append compound instruction compoundinstruction append get instruction list getinstructionlist append compound instruction param append instruction list param composite instruction instruction list instructionlist instruction handle appended instruction instruction handle instructionhandle append instruction handle instructionhandle compound instruction compoundinstruction append get instruction list getinstructionlist append instruction instruction handle contained list param append instruction list param instruction append instruction handle pointing appended instruction instruction handle instructionhandle append instruction handle instructionhandle instruction append instruction list instructionlist append instruction instruction handle contained list param append instruction list param instruction append instruction handle pointing appended instruction branch handle branchhandle append instruction handle instructionhandle branch instruction branchinstruction branch handle branchhandle branch handle branchhandle get branch handle getbranchhandle instruction list instructionlist instruction list instructionlist append append insert list instruction handle contained list consumes argument list empty param append instruction list param instruction list insert instruction handle inserted instruction instruction handle instructionhandle insert instruction handle instructionhandle instruction list instructionlist class gen exception classgenexception inserting instruction list instructionlist is empty isempty instruction handle instructionhandle prev prev ret start prev start prev prev start prev prev start update start start start update length length length clear ret insert list param list insert start list instruction handle inserted instruction instruction handle instructionhandle insert instruction list instructionlist is empty isempty code identical append start insert start insert instruction start list param instruction insert insert instruction handle instructionhandle is empty isempty start prev start prev start prev start length insert list instruction contained list consumes argument list empty param append instruction list param instruction list insert instruction handle pointing inserted instruction get start getstart instruction handle instructionhandle insert instruction instruction list instructionlist instruction handle instructionhandle find instruction findinstruction class gen exception classgenexception instruction contained list insert insert instruction start list param instruction insert instruction handle inserted instruction instruction handle instructionhandle insert instruction instruction handle instructionhandle instruction handle instructionhandle get instruction handle getinstructionhandle insert insert branch instruction start list param branch instruction insert branch instruction handle appended instruction branch handle branchhandle insert branch instruction branchinstruction branch handle branchhandle branch handle branchhandle get branch handle getbranchhandle insert insert single instruction instruction list param instruction list param instruction insert list instruction handle inserted instruction instruction handle instructionhandle insert instruction instruction insert instruction list instructionlist insert compound instruction instruction param instruction list param composite instruction instruction list instructionlist instruction handle inserted instruction instruction handle instructionhandle insert instruction compound instruction compoundinstruction insert get instruction list getinstructionlist insert compound instruction param composite instruction instruction list instructionlist instruction handle inserted instruction instruction handle instructionhandle insert compound instruction compoundinstruction insert get instruction list getinstructionlist insert instruction instruction handle contained list param insert instruction list param instruction insert instruction handle inserted instruction instruction handle instructionhandle insert instruction handle instructionhandle instruction insert instruction list instructionlist insert compound instruction param insert instruction list param composite instruction instruction list instructionlist instruction handle inserted instruction instruction handle instructionhandle insert instruction handle instructionhandle compound instruction compoundinstruction insert get instruction list getinstructionlist insert instruction instruction handle contained list param insert instruction list param instruction insert instruction handle inserted instruction branch handle branchhandle insert instruction handle instructionhandle branch instruction branchinstruction branch handle branchhandle branch handle branchhandle get branch handle getbranchhandle instruction list instructionlist instruction list instructionlist append insert instructions handles start append location target start target located withing range move start list target instruction targeters pointing handles block targets param start moved block param moved block param target moved block move instruction handle instructionhandle start instruction handle instructionhandle instruction handle instructionhandle target start class gen exception classgenexception invalid handle start target start target class gen exception classgenexception invalid range start target target instruction handle instructionhandle start list class gen exception classgenexception invalid range start target target class gen exception classgenexception invalid range start target target step temporarily remove instructions list instruction handle instructionhandle prev start prev prev prev start start start prev prev prev start prev target append start list start start start target target start start prev target prev move single instruction handle location param moved instruction param target location moved instruction move instruction handle instructionhandle instruction handle instructionhandle target move target remove instruction prev instruction contained list target lost exception targetlostexception removed instruction handles targeted param prev start deleting predecessor exclusive param deleting successor exclusive remove instruction handle instructionhandle prev instruction handle instructionhandle target lost exception targetlostexception deleted instruction instruction handle instructionhandle prev singleton list start start prev start list start start prev prev list prev prev prev prev completely separated list prev array list arraylist target vec array list arraylist instruction handle instructionhandle branch instructions branchinstructions release targets get instruction getinstruction dispose string buffer stringbuffer buf string buffer stringbuffer instruction handle instructionhandle length has targeters hastargeters targeters target vec add buf append to string tostring prev dispose buf append target vec is empty isempty instruction handle instructionhandle targeted instruction handle instructionhandle target vec size target vec to array toarray targeted target lost exception targetlostexception targeted buf to string tostring remove instruction list instruction handles reused param instruction handle remove delete instruction handle instructionhandle target lost exception targetlostexception remove prev remove instruction list instruction handles reused param instruction remove delete instruction target lost exception targetlostexception instruction handle instructionhandle find instruction findinstruction class gen exception classgenexception instruction contained list delete remove instructions instruction instruction contained list user ensure instruction risk havoc instruction handles reused param start deleting inclusive param deleting inclusive delete instruction handle instructionhandle instruction handle instructionhandle target lost exception targetlostexception remove prev remove instructions instruction instruction contained list user ensure instruction risk havoc instruction handles reused param start deleting inclusive param deleting inclusive delete instruction instruction target lost exception targetlostexception instruction handle instructionhandle find instruction findinstruction class gen exception classgenexception instruction contained list find instruction findinstruction class gen exception classgenexception instruction contained list delete search instruction reference start list param instruction search instruction success instruction handle instructionhandle find instruction findinstruction instruction instruction handle instructionhandle start instruction search instruction reference start list param instruction search instruction success instruction handle instructionhandle find instruction findinstruction instruction instruction handle instructionhandle prev instruction instruction handle instructionhandle instruction handle instructionhandle start instruction find instruction findinstruction set positions setpositions set positions setpositions instructions position number offset stream list ready dumped param check perform sanity checks targeted instructions belong list set positions setpositions check max additional bytes additional bytes count pos length pass sanity checks check instruction handle instructionhandle start instruction instruction target instruction list branch instruction branchinstruction instruction inst branch instruction branchinstruction get target gettarget instruction inst class gen exception classgenexception branch target constants opcode names opcode inst instruction list select instruction handle instructionhandle targets select get targets gettargets targets length inst targets instruction inst class gen exception classgenexception branch target constants opcode names opcode inst instruction list branch handle branchhandle class gen exception classgenexception branch instruction constants opcode names opcode inst contained branch handle branchhandle pass position numbers sum maximum number bytes instruction shifted instruction handle instructionhandle start instruction instruction set position setposition pos count estimate additional bytes branch instructions branchinstructions variable length depending target offset alignment issues tableswitch lookupswitch get opcode getopcode constants jsr constants max additional bytes constants tableswitch constants lookupswitch max additional bytes get length getlength pass expand variable length branch instructions depending target offset ensure branch targets list instruction handle instructionhandle start additional bytes update position updateposition additional bytes max additional bytes pass update position numbers changed preceding expansions pass count instruction handle instructionhandle start instruction instruction set position setposition pos count get length getlength trim proper size positions count system arraycopy pos positions count finished method convert instruction list array bytes code ready dumped get byte code getbytecode update position indices instructions set positions setpositions byte array output stream bytearrayoutputstream byte array output stream bytearrayoutputstream data output stream dataoutputstream data output stream dataoutputstream instruction handle instructionhandle start instruction instruction traverse list dump ioexception system err println to byte array tobytearray array instructions target branch instructions instruction get instructions getinstructions byte sequence bytesequence bytes byte sequence bytesequence get byte code getbytecode array list arraylist instructions array list arraylist bytes instructions add instruction read instruction readinstruction bytes ioexception class gen exception classgenexception to string tostring instruction result instruction instructions size instructions to array toarray result result string to string tostring to string tostring param verbose toggle output format string instructions list string to string tostring verbose string buffer stringbuffer buf string buffer stringbuffer instruction handle instructionhandle start buf append to string tostring verbose buf to string tostring enumeration lists instructions handles iterator iterator iterator instruction handle instructionhandle start object instruction handle instructionhandle remove unsupported operation exception unsupportedoperationexception has next hasnext array instructions handles instruction handle instructionhandle get instruction handles getinstructionhandles instruction handle instructionhandle ihs instruction handle instructionhandle length instruction handle instructionhandle start length ihs ihs positions offsets instructions list relies list freshly created code array set positions setpositions called inaccurate array instruction offset code get instruction positions getinstructionpositions positions complete deep copy list instruction list instructionlist copy hash map hashmap map hash map hashmap instruction list instructionlist instruction list instructionlist pass copies instructions append list associate instruction references mapping instruction handle instructionhandle start instruction instruction clone shallow copy instruction copy branch instruction branchinstruction map append branch instruction branchinstruction map append pass update branch targets instruction handle instructionhandle start instruction handle instructionhandle start instruction instruction instruction instruction branch instruction branchinstruction branch instruction branchinstruction branch instruction branchinstruction branch instruction branchinstruction branch instruction branchinstruction target instruction handle instructionhandle itarget get target gettarget target hash map set target settarget instruction handle instructionhandle map itarget lookupswitch tableswitch select instruction handle instructionhandle itargets select get targets gettargets instruction handle instructionhandle ctargets select get targets gettargets update targets update targets itargets length update targets ctargets instruction handle instructionhandle map itargets replace references constant pool references constant pool replace constant pool replaceconstantpool constant pool gen constantpoolgen constant pool gen constantpoolgen instruction handle instructionhandle start instruction instruction cpinstruction cpinstruction cpinstruction constant get constant getconstant get index getindex set index setindex add constant addconstant clear start length delete contents list besser memory utilization system reuse instruction handles method typically called href method gen methodgen html get method getmethod method gen methodgen get method getmethod dispose traverse reverse order overwritten instruction handle instructionhandle prev branch instructions branchinstructions release target targeters calls dispose contained instruction dispose clear start list instruction handle instructionhandle get start getstart start list instruction handle instructionhandle get end getend length list number instructions bytes get length getlength length length list number instructions bytes size length redirect references target target update targets branch instructions param target target instruction handle param target target instruction handle redirect branches redirectbranches instruction handle instructionhandle target instruction handle instructionhandle target instruction handle instructionhandle start instruction get instruction getinstruction branch instruction branchinstruction branch instruction branchinstruction branch instruction branchinstruction instruction handle instructionhandle target get target gettarget target target set target settarget target lookupswitch tableswitch select instruction handle instructionhandle targets select get targets gettargets update targets update targets targets length update targets targets target select set target settarget target redirect references local variables target target param array local variables param target target instruction handle param target target instruction handle method gen methodgen redirect local variables redirectlocalvariables local variable gen localvariablegen instruction handle instructionhandle target instruction handle instructionhandle target length instruction handle instructionhandle start get start getstart instruction handle instructionhandle get end getend start target set start setstart target target set end setend target redirect references exception handlers target target param exceptions array exception handlers param target target instruction handle param target target instruction handle method gen methodgen redirect exception handlers redirectexceptionhandlers code exception gen codeexceptiongen exceptions instruction handle instructionhandle target instruction handle instructionhandle target exceptions length exceptions get start pc getstartpc target exceptions set start pc setstartpc target exceptions get end pc getendpc target exceptions set end pc setendpc target exceptions get handler pc gethandlerpc target exceptions set handler pc sethandlerpc target array list arraylist observers add observer object add observer addobserver instruction list observer instructionlistobserver observers observers array list arraylist observers add remove observer object remove observer removeobserver instruction list observer instructionlistobserver observers observers remove call notify method observers method called automatically changed called user finished editing object update observers iterator observers iterator has next hasnext instruction list observer instructionlistobserver notify