java buffered output stream bufferedoutputstream java file output stream fileoutputstream java ioexception java util array list arraylist java util calendar java util list java util string tokenizer stringtokenizer author noel markham run weave tests runweavetests small med large space arguments script string small program args string medium program args string large program args string warmup args iterations string filename times iterations main string args ioexception parse args parseargs args purely warm system println warming weave tests weavetests main split warmup args iterations small weave tests weavetests main split small program args echo iterations iterations times weave tests weavetests compile times compiletimes iterations times weave tests weavetests execution fast times executionfasttimes iterations times weave tests weavetests execution med times executionmedtimes iterations times weave tests weavetests execution slow times executionslowtimes iterations times weave tests weavetests get fast times getfasttimes iterations times weave tests weavetests get med times getmedtimes iterations times weave tests weavetests get slow times getslowtimes med weave tests weavetests main split medium program args echo iterations iterations iterations times weave tests weavetests compile times compiletimes iterations iterations iterations times weave tests weavetests execution fast times executionfasttimes iterations iterations iterations times weave tests weavetests execution med times executionmedtimes iterations iterations iterations times weave tests weavetests execution slow times executionslowtimes iterations iterations iterations times weave tests weavetests get fast times getfasttimes iterations iterations iterations times weave tests weavetests get med times getmedtimes iterations iterations iterations times weave tests weavetests get slow times getslowtimes iterations large weave tests weavetests main split large program args echo iterations iterations iterations times weave tests weavetests compile times compiletimes iterations iterations iterations times weave tests weavetests execution fast times executionfasttimes iterations iterations iterations times weave tests weavetests execution med times executionmedtimes iterations iterations iterations times weave tests weavetests execution slow times executionslowtimes iterations iterations iterations times weave tests weavetests get fast times getfasttimes iterations iterations iterations times weave tests weavetests get med times getmedtimes iterations iterations iterations times weave tests weavetests get slow times getslowtimes iterations create csv createcsv compatibility jdk string split string list list array list arraylist string tokenizer stringtokenizer string tokenizer stringtokenizer has more tokens hasmoretokens list add next token nexttoken string result string list size list to array toarray result result parse args parseargs string args args args length system println running program tests args equals small system println running small sized program test small med large args equals medium system println running small medium sized program tests small med large args equals large system println running program tests small med large usage usage system err println usage system err println tjava run weave tests runweavetests small medium large system exit create csv createcsv string system get property getproperty separator string buffer stringbuffer csv string buffer stringbuffer csv append test small iterations csv append small program args med iterations csv append medium program args large iterations csv append large program args csv append csv append compile small iterations csv append times med iterations iterations csv append times large iterations iterations csv append times csv append csv append weave tests weavetests execution fast small iterations csv append times med iterations iterations csv append times large iterations iterations csv append times csv append csv append weave tests weavetests execution med small iterations csv append times med iterations iterations csv append times large iterations iterations csv append times csv append csv append weave tests weavetests execution slow small iterations csv append times med iterations iterations csv append times large iterations iterations csv append times csv append csv append weave tests weavetests fast small iterations csv append times med iterations iterations csv append times large iterations iterations csv append times csv append csv append weave tests weavetests med small iterations csv append times med iterations iterations csv append times large iterations iterations csv append times csv append csv append weave tests weavetests slow small iterations csv append times med iterations iterations csv append times large iterations iterations csv append times csv append filename create filename createfilename file output stream fileoutputstream fos file output stream fileoutputstream filename buffered output stream bufferedoutputstream bos buffered output stream bufferedoutputstream fos bos write string csv get bytes getbytes bos close fos close ioexception system err println print file filename system err println csv system println written filename string create filename createfilename get vminfo getvminfo get date and time getdateandtime replace csv string buffer stringbuffer get date and time getdateandtime calendar calendar get instance getinstance string buffer stringbuffer string buffer stringbuffer append calendar year month calendar month month append append month calendar day month append append append hour calendar hour day hour append append hour minute calendar minute minute append append minute calendar append append string buffer stringbuffer get vminfo getvminfo string buffer stringbuffer string buffer stringbuffer string system get property getproperty java vendor equals ibm corporation string vminfo system get property getproperty java info string vminfo components vminfocomponents split vminfo append vminfo components vminfocomponents append vminfo components vminfocomponents append vminfo components vminfocomponents append vminfo components vminfocomponents equals sun microsystems string vminfo system get property getproperty java string vminfo components vminfocomponents split vminfo append sun append system get property getproperty java version append vminfo components vminfocomponents