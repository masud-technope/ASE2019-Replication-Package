copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation alexandre vasseur support aspects org aspectj weaver bcel java byte array input stream bytearrayinputstream java file java file filter filefilter java file input stream fileinputstream java file not found exception filenotfoundexception java ioexception java input stream inputstream java output stream outputstream java util array list arraylist java util collection java util collections java util comparator java util enumeration java util hash map hashmap java util hash set hashset java util iterator java util list java util map java util java util jar attributes java util jar jar entry jarentry java util jar jar file jarfile java util jar manifest java util jar attributes java util zip zip entry zipentry java util zip zip input stream zipinputstream java util zip zip output stream zipoutputstream org aspectj apache bcel classfile class parser classparser org aspectj apache bcel classfile java class javaclass org aspectj bridge imessage org aspectj bridge iprogress listener iprogresslistener org aspectj bridge isource location isourcelocation org aspectj bridge message org aspectj bridge message util messageutil org aspectj bridge source location sourcelocation org aspectj bridge weave message weavemessage org aspectj bridge context compilation and weaving context compilationandweavingcontext org aspectj bridge context context token contexttoken org aspectj util file util fileutil org aspectj util fuzzy boolean fuzzyboolean org aspectj weaver advice org aspectj weaver annotation on type munger annotationontypemunger org aspectj weaver annotation x annotationx org aspectj weaver asm relationship provider asmrelationshipprovider org aspectj weaver bcexception org aspectj weaver concrete type munger concretetypemunger org aspectj weaver crosscutting members set crosscuttingmembersset org aspectj weaver iclass file provider iclassfileprovider org aspectj weaver iweave requestor iweaverequestor org aspectj weaver iweaver org aspectj weaver new parent type munger newparenttypemunger org aspectj weaver reference type referencetype org aspectj weaver reference type delegate referencetypedelegate org aspectj weaver resolved type munger resolvedtypemunger org aspectj weaver resolved type resolvedtype org aspectj weaver shadow org aspectj weaver shadow munger shadowmunger org aspectj weaver unresolved type unresolvedtype org aspectj weaver weaver messages weavermessages org aspectj weaver weaver metrics weavermetrics org aspectj weaver weaver state info weaverstateinfo org aspectj weaver org aspectj weaver patterns and pointcut andpointcut org aspectj weaver patterns binding annotation type pattern bindingannotationtypepattern org aspectj weaver patterns binding type pattern bindingtypepattern org aspectj weaver patterns cflow pointcut cflowpointcut org aspectj weaver patterns concrete cflow pointcut concretecflowpointcut org aspectj weaver patterns declare annotation declareannotation org aspectj weaver patterns declare parents declareparents org aspectj weaver patterns fast match info fastmatchinfo org aspectj weaver patterns if pointcut ifpointcut org aspectj weaver patterns kinded pointcut kindedpointcut org aspectj weaver patterns name binding pointcut namebindingpointcut org aspectj weaver patterns not pointcut notpointcut org aspectj weaver patterns or pointcut orpointcut org aspectj weaver patterns pointcut org aspectj weaver patterns pointcut rewriter pointcutrewriter org aspectj weaver patterns within pointcut withinpointcut bcel weaver bcelweaver iweaver bcel world bcelworld crosscutting members set crosscuttingmembersset xcut set xcutset iprogress listener iprogresslistener progress listener progresslistener progress made progressmade progress per class file progressperclassfile in reweavable mode inreweavablemode bcel weaver bcelweaver bcel world bcelworld weaver metrics weavermetrics reset xcut set xcutset get crosscutting members set getcrosscuttingmembersset bcel weaver bcelweaver bcel world bcelworld fields map source java classes sourcejavaclasses hash map hashmap string unwoven class file unwovenclassfile list added classes addedclasses array list arraylist list unoven class file unovenclassfile list deleted typenames deletedtypenames array list arraylist list string map resources hash map hashmap string unwoven class file unwovenclassfile manifest manifest need to reweave world needtoreweaveworld setup prepare for weave prepareforweave list shadow munger list shadowmungerlist setup prepare for weave prepareforweave list type munger list typemungerlist setup prepare for weave prepareforweave list late type munger list latetypemungerlist setup prepare for weave prepareforweave list declare parents list declareparentslist zip output stream zipoutputstream zip output stream zipoutputstream called testing set shadow mungers setshadowmungers list shadow munger list shadowmungerlist add aspect weaver type resolved support dot classes dollar param aspect name aspectname aspect resolved type resolvedtype add library aspect addlibraryaspect string aspect name aspectname resolve unresolved type unresolvedtype unresolved t unresolvedt unresolved type unresolvedtype for name forname aspect name aspectname unresolved t unresolvedt set needs modifiable delegate setneedsmodifiabledelegate resolved type resolvedtype type resolve unresolved t unresolvedt type is missing ismissing fallback lookup mechanism string fixed name fixedname aspect name aspectname has dot hasdot fixed name fixedname last index of lastindexof has dot hasdot system println bcel weaver bcelweaver add library aspect addlibraryaspect fixed name fixedname fixed name chars fixednamechars fixed name fixedname to char array tochararray fixed name chars fixednamechars has dot hasdot fixed name fixedname string fixed name chars fixednamechars has dot hasdot fixed name fixedname last index of lastindexof unresolved type unresolvedtype unresolved type unresolvedtype for name forname fixed name fixedname set needs modifiable delegate setneedsmodifiabledelegate type resolve type is missing ismissing system println type type aspect name aspectname type is aspect isaspect bug ensure unwoven aspect weaver state info weaverstateinfo wsi type get weaver state getweaverstate wsi wsi is reweavable isreweavable bcel object type bcelobjecttype class type classtype get class type getclasstype type get name getname class type classtype set java class setjavaclass utility make java class makejavaclass class type classtype get java class getjavaclass get file name getfilename wsi get unwoven class file data getunwovenclassfiledata class type classtype get java class getjavaclass get bytes getbytes todo reach lot time type flagged reweavable aspect weaverstate ltw pbly incremental build xcut set xcutset add or replace aspect addorreplaceaspect type type fixme warning aspect aop xml runtime exception runtimeexception register aspect type get name getname aspect name aspectname param in file infile file path directory zip jar archive ioexception add library jar file addlibraryjarfile file in file infile ioexception list added aspects addedaspects in file infile is directory isdirectory added aspects addedaspects add aspects from directory addaspectsfromdirectory in file infile added aspects addedaspects add aspects from jar file addaspectsfromjarfile in file infile iterator added aspects addedaspects iterator has next hasnext resolved type resolvedtype aspect x aspectx resolved type resolvedtype xcut set xcutset add or replace aspect addorreplaceaspect aspect x aspectx list add aspects from jar file addaspectsfromjarfile file in file infile file not found exception filenotfoundexception ioexception buffered zip input stream zipinputstream in stream instream zip input stream zipinputstream file input stream fileinputstream in file infile list added aspects addedaspects array list arraylist zip entry zipentry entry in stream instream get next entry getnextentry entry entry is directory isdirectory entry get name getname ends with endswith fixme asc performance alternative soln class parser classparser parser class parser classparser byte array input stream bytearrayinputstream file util fileutil read as byte array readasbytearray in stream instream entry get name getname java class javaclass parser parse in stream instream close entry closeentry resolved type resolvedtype type add source object type addsourceobjecttype get resolved type x getresolvedtypex type is aspect isaspect added aspects addedaspects add type in stream instream close added aspects addedaspects list add aspects from directory addaspectsfromdirectory file dir file not found exception filenotfoundexception ioexception list added aspects addedaspects array list arraylist file class files classfiles file util fileutil list files listfiles dir file filter filefilter accept file pathname pathname get name getname ends with endswith class files classfiles length file input stream fileinputstream fis file input stream fileinputstream class files classfiles bytes file util fileutil read as byte array readasbytearray fis add if aspect addifaspect bytes class files classfiles get absolute path getabsolutepath added aspects addedaspects added aspects addedaspects add if aspect addifaspect bytes string list to list tolist ioexception class parser classparser parser class parser classparser byte array input stream bytearrayinputstream bytes java class javaclass parser parse resolved type resolvedtype type add source object type addsourceobjecttype get resolved type x getresolvedtypex type is aspect isaspect to list tolist add type ant copy task copy resources copy resources from inpath directories to output copyresourcesfrominpathdirectoriestooutput add files directory outdir files directory subdirectories considered resources copied list add directory contents adddirectorycontents file in file infile file out dir outdir ioexception list added class files addedclassfiles array list arraylist list files isnt directory file files file util fileutil list files listfiles in file infile file filter filefilter accept file accept is directory isdirectory accept file add real file resource files length added class files addedclassfiles add add class file addclassfile files in file infile out dir outdir added class files addedclassfiles adds files jar list add jar file addjarfile file in file infile file out dir outdir can be directory canbedirectory system err println add jar file addjarfile in file infile out dir outdir list added class files addedclassfiles array list arraylist need to reweave world needtoreweaveworld jar file jarfile in jar injar directory in file infile is directory isdirectory can be directory canbedirectory added class files addedclassfiles add all addall add directory contents adddirectorycontents in file infile out dir outdir in jar injar jar file jarfile in file infile add manifest addmanifest in jar injar get manifest getmanifest enumeration entries in jar injar entries entries has more elements hasmoreelements jar entry jarentry entry jar entry jarentry entries next element nextelement input stream inputstream in stream instream in jar injar get input stream getinputstream entry bytes file util fileutil read as byte array readasbytearray in stream instream string filename entry get name getname system println add jar file addjarfile filename filename unwoven class file unwovenclassfile class file classfile unwoven class file unwovenclassfile file out dir outdir filename get absolute path getabsolutepath bytes filename ends with endswith add class file addclassfile class file classfile added class files addedclassfiles add class file classfile entry is directory isdirectory bug copy meta data add resource addresource filename class file classfile in stream instream close in jar injar close file not found exception filenotfoundexception imessage message message find input jar file in file infile get path getpath ignoring source location sourcelocation in file infile get message handler getmessagehandler handle message handlemessage message ioexception imessage message message read input jar file in file infile get path getpath get message getmessage source location sourcelocation in file infile get message handler getmessagehandler handle message handlemessage message in jar injar in jar injar close ioexception imessage message message close input jar file in file infile get path getpath get message getmessage source location sourcelocation in file infile get message handler getmessagehandler handle message handlemessage message added class files addedclassfiles add resource addresource string file in path inpath file out dir outdir ioexception eliminate cvs files relative paths starts with startswith cvs index of indexof cvs ends with endswith cvs system err println add resource addresource buffered input stream bufferedinputstream in stream instream buffered input stream bufferedinputstream file input stream fileinputstream in path inpath bytes in path inpath length in stream instream read bytes in stream instream close bytes file util fileutil read as byte array readasbytearray in path inpath unwoven class file unwovenclassfile resource file resourcefile unwoven class file unwovenclassfile file out dir outdir get absolute path getabsolutepath bytes add resource addresource resource file resourcefile need to reweave world needtoreweaveworld need to reweave world needtoreweaveworld add or replace addorreplace add class file addclassfile unwoven class file unwovenclassfile class file classfile added classes addedclasses add class file classfile source java classes sourcejavaclasses class file classfile get class name getclassname class file classfile runtime exception runtimeexception class file classfile get class name getclassname add source object type addsourceobjecttype class file classfile get java class getjavaclass unwoven class file unwovenclassfile add class file addclassfile file class file classfile file in path dir inpathdir file out dir outdir ioexception file input stream fileinputstream fis file input stream fileinputstream class file classfile bytes file util fileutil read as byte array readasbytearray fis string relative path relativepath files get path getpath files get absolute path getabsolutepath starts with startswith in file infile get absolute path getabsolutepath trouble string filename class file classfile get absolute path getabsolutepath substring in path dir inpathdir get absolute path getabsolutepath length unwoven class file unwovenclassfile ucf unwoven class file unwovenclassfile file out dir outdir filename get absolute path getabsolutepath bytes filename ends with endswith system err println bcelweaver processing input directory class file classfile add class file addclassfile ucf fis close ucf delete class file deleteclassfile string typename deleted typenames deletedtypenames add typename source java classes sourcejavaclasses remove typename delete source object type deletesourceobjecttype unresolved type unresolvedtype for name forname typename add resource addresource string unwoven class file unwovenclassfile resource file resourcefile bug change error warning copy resource resources contains key containskey resources resource file resourcefile show message showmessage imessage warning duplicate resource weave preparation prepare for weave prepareforweave need to reweave world needtoreweaveworld xcut set xcutset has changed since last reset haschangedsincelastreset cflow pointcut cflowpointcut clear caches clearcaches update mungers iterator added classes addedclasses iterator has next hasnext unwoven class file unwovenclassfile unwoven class file unwovenclassfile string get class name getclassname resolved type resolvedtype type resolve system err println type aspect type is aspect isaspect type is aspect isaspect need to reweave world needtoreweaveworld xcut set xcutset add or replace aspect addorreplaceaspect type iterator deleted typenames deletedtypenames iterator has next hasnext string string xcut set xcutset delete aspect deleteaspect unresolved type unresolvedtype for name forname need to reweave world needtoreweaveworld shadow munger list shadowmungerlist xcut set xcutset get shadow mungers getshadowmungers rewrite pointcuts rewritepointcuts shadow munger list shadowmungerlist error occurs rewriting pointcuts ambiguous bindings detected fail prepare continuing inconsistent pointcuts lead problems type munger list typemungerlist xcut set xcutset get type mungers gettypemungers late type munger list latetypemungerlist xcut set xcutset get late type mungers getlatetypemungers declare parents list declareparentslist xcut set xcutset get declare parents getdeclareparents ordering based string compare to string tostring mungers breaks style advice names programmatically generated changed sorting based source location file reliable source locations missing assume sorted order collection correct enables stuff work properly processing starts filling source locations mungers code bit alteration collections sort shadow munger list shadowmungerlist comparator compare object object shadow munger shadowmunger shadow munger shadowmunger shadow munger shadowmunger shadow munger shadowmunger get source location getsourcelocation get source location getsourcelocation get source location getsourcelocation get source location getsourcelocation get offset getoffset get source location getsourcelocation get offset getoffset rewrite pointcuts efficient form subsequent matching ensure equals binding pcds making references point instance pointcuts remember match decision shadow matching faster pointcuts share common elements single pointcut common element side dnf rewriting rewrite pointcuts rewritepointcuts list shadow munger shadowmunger shadow mungers shadowmungers pointcut rewriter pointcutrewriter rewriter pointcut rewriter pointcutrewriter iterator iter shadow mungers shadowmungers iterator iter has next hasnext shadow munger shadowmunger munger shadow munger shadowmunger iter pointcut munger get pointcut getpointcut pointcut new p newp rewriter rewrite text munger advice advice advice advice munger advice get signature getsignature num formals numformals string names evaluate alternative formals advice get concrete aspect getconcreteaspect is annotation style aspect isannotationstyleaspect advice get declaring aspect getdeclaringaspect advice get declaring aspect getdeclaringaspect resolve is annotation style aspect isannotationstyleaspect num formals numformals advice get base parameter count getbaseparametercount num args numargs advice get signature getsignature get parameter types getparametertypes length num formals numformals names advice get signature getsignature get parameter names getparameternames validate bindings validatebindings new p newp num args numargs names num formals numformals advice get base parameter count getbaseparametercount num formals numformals names advice get base parameter names getbaseparameternames validate bindings validatebindings new p newp num formals numformals names munger set pointcut setpointcut new p newp optimized individual pointcuts optimize pointcuts map key based equality based identity map pointcut pointcut pc map pcmap hash map hashmap iterator iter shadow mungers shadowmungers iterator iter has next hasnext shadow munger shadowmunger munger shadow munger shadowmunger iter pointcut munger get pointcut getpointcut munger set pointcut setpointcut share entries from map shareentriesfrommap pc map pcmap pointcut share entries from map shareentriesfrommap pointcut map pc map pcmap shared name binding pointcut namebindingpointcut if pointcut ifpointcut concrete cflow pointcut concretecflowpointcut and pointcut andpointcut and pointcut andpointcut apc and pointcut andpointcut pointcut left share entries from map shareentriesfrommap apc get left getleft pc map pcmap pointcut share entries from map shareentriesfrommap apc get right getright pc map pcmap and pointcut andpointcut left or pointcut orpointcut or pointcut orpointcut opc or pointcut orpointcut pointcut left share entries from map shareentriesfrommap opc get left getleft pc map pcmap pointcut share entries from map shareentriesfrommap opc get right getright pc map pcmap or pointcut orpointcut left not pointcut notpointcut not pointcut notpointcut npc not pointcut notpointcut pointcut share entries from map shareentriesfrommap npc get negated pointcut getnegatedpointcut pc map pcmap not pointcut notpointcut primitive pcd based equality pc map pcmap contains key containskey instance identity pointcut pc map pcmap pc map pcmap user pointcut userpointcut pointcut user wrote program text dnf pointcut dnfpointcut pointcut rewritten dnf num formals numformals number formal parameters pointcut num formals numformals branch disjunction bind formal addition left branches disjunction hold join point kinds common validate bindings validatebindings pointcut dnf pointcut dnfpointcut pointcut user pointcut userpointcut num formals numformals string names check num formals numformals problems dont match dnf pointcut dnfpointcut could match kinds couldmatchkinds shadow shadow kinds bits dnf pointcut dnfpointcut or pointcut orpointcut or pointcut orpointcut or based dnfpointcut orbaseddnfpointcut or pointcut orpointcut dnf pointcut dnfpointcut pointcut left bindings leftbindings pointcut num formals numformals pointcut right bindings rightbindings pointcut num formals numformals validate or branch validateorbranch or based dnfpointcut orbaseddnfpointcut user pointcut userpointcut num formals numformals names left bindings leftbindings right bindings rightbindings pointcut bindings pointcut num formals numformals validate single branch validatesinglebranch dnf pointcut dnfpointcut user pointcut userpointcut num formals numformals names bindings validate or branch validateorbranch or pointcut orpointcut pointcut user pointcut userpointcut num formals numformals string names pointcut left bindings leftbindings pointcut right bindings rightbindings pointcut left get left getleft pointcut get right getright left or pointcut orpointcut pointcut new right bindings newrightbindings pointcut num formals numformals validate or branch validateorbranch or pointcut orpointcut left user pointcut userpointcut num formals numformals names left bindings leftbindings new right bindings newrightbindings left could match kinds couldmatchkinds shadow shadow kinds bits validate single branch validatesinglebranch left user pointcut userpointcut num formals numformals names left bindings leftbindings or pointcut orpointcut pointcut new left bindings newleftbindings pointcut num formals numformals validate or branch validateorbranch or pointcut orpointcut user pointcut userpointcut num formals numformals names new left bindings newleftbindings right bindings rightbindings could match kinds couldmatchkinds shadow shadow kinds bits validate single branch validatesinglebranch user pointcut userpointcut num formals numformals names right bindings rightbindings kinds in common kindsincommon left could match kinds couldmatchkinds could match kinds couldmatchkinds kinds in common kindsincommon shadow shadow kinds bits could ever match same join points couldevermatchsamejoinpoints left branch binds formal ambiguity branch binds list ambiguous names ambiguousnames array list arraylist num formals numformals left bindings leftbindings right bindings rightbindings ambiguous names ambiguousnames add names left bindings leftbindings equals right bindings rightbindings ambiguous names ambiguousnames add names ambiguous names ambiguousnames is empty isempty raise ambiguity in disjunction error raiseambiguityindisjunctionerror user pointcut userpointcut ambiguous names ambiguousnames pointcut disjunctions check formal bound negation doesn count num formals numformals called validate single branch validatesinglebranch pointcut pointcut user pointcut userpointcut num formals numformals string names pointcut bindings found formals foundformals num formals numformals found formals foundformals length found formals foundformals validate single branch recursion validatesinglebranchrecursion user pointcut userpointcut found formals foundformals names bindings found formals foundformals length found formals foundformals ignore ataj soften unbound error implicit bindings join point joinpoint style user pointcut userpointcut ignore unbound binding for names ignoreunboundbindingfornames length names names equals user pointcut userpointcut ignore unbound binding for names ignoreunboundbindingfornames ignore ignore raise unbound formal error raiseunboundformalerror names user pointcut userpointcut formal validate single branch recursion validatesinglebranchrecursion pointcut pointcut user pointcut userpointcut found formals foundformals string names pointcut bindings not pointcut notpointcut nots leaves dnf not pointcut notpointcut not pointcut notpointcut get negated pointcut getnegatedpointcut name binding pointcut namebindingpointcut name binding pointcut namebindingpointcut nnbp name binding pointcut namebindingpointcut get negated pointcut getnegatedpointcut nnbp get binding annotation type patterns getbindingannotationtypepatterns is empty isempty nnbp get binding type patterns getbindingtypepatterns is empty isempty raise negation binding error raisenegationbindingerror user pointcut userpointcut and pointcut andpointcut and pointcut andpointcut and pointcut andpointcut validate single branch recursion validatesinglebranchrecursion get left getleft user pointcut userpointcut found formals foundformals names bindings validate single branch recursion validatesinglebranchrecursion get right getright user pointcut userpointcut found formals foundformals names bindings name binding pointcut namebindingpointcut list binding type pattern bindingtypepattern btps name binding pointcut namebindingpointcut get binding type patterns getbindingtypepatterns iterator iter btps iterator iter has next hasnext binding type pattern bindingtypepattern btp binding type pattern bindingtypepattern iter btp get formal index getformalindex bindings found formals foundformals raise ambiguous binding error raiseambiguousbindingerror names user pointcut userpointcut found formals foundformals list binding annotation type pattern bindingannotationtypepattern baps name binding pointcut namebindingpointcut get binding annotation type patterns getbindingannotationtypepatterns iterator iter baps iterator iter has next hasnext binding annotation type pattern bindingannotationtypepattern bap binding annotation type pattern bindingannotationtypepattern iter bap get formal index getformalindex bindings found formals foundformals raise ambiguous binding error raiseambiguousbindingerror names user pointcut userpointcut found formals foundformals concrete cflow pointcut concretecflowpointcut concrete cflow pointcut concretecflowpointcut cfp concrete cflow pointcut concretecflowpointcut slots cfp get used formal slots getusedformalslots slots length bindings slots cfp found formals foundformals slots raise ambiguous binding error raiseambiguousbindingerror names slots user pointcut userpointcut found formals foundformals slots returning method allowing binding variable side conservative overriding varargs autoboxing effects itds interfaces fact join points multiple signatures could ever match same join points couldevermatchsamejoinpoints pointcut left pointcut left or pointcut orpointcut or pointcut orpointcut left or pointcut leftorpointcut or pointcut orpointcut left could ever match same join points couldevermatchsamejoinpoints left or pointcut leftorpointcut get left getleft could ever match same join points couldevermatchsamejoinpoints left or pointcut leftorpointcut get right getright or pointcut orpointcut or pointcut orpointcut right or pointcut rightorpointcut or pointcut orpointcut could ever match same join points couldevermatchsamejoinpoints left right or pointcut rightorpointcut get left getleft could ever match same join points couldevermatchsamejoinpoints left right or pointcut rightorpointcut get right getright withins within pointcut withinpointcut left within leftwithin within pointcut withinpointcut find first pointcut in findfirstpointcutin left within pointcut withinpointcut within pointcut withinpointcut right within rightwithin within pointcut withinpointcut find first pointcut in findfirstpointcutin within pointcut withinpointcut left within leftwithin right within rightwithin left within leftwithin could ever match same join points as couldevermatchsamejoinpointsas right within rightwithin kinded kinded pointcut kindedpointcut left kind leftkind kinded pointcut kindedpointcut find first pointcut in findfirstpointcutin left kinded pointcut kindedpointcut kinded pointcut kindedpointcut right kind rightkind kinded pointcut kindedpointcut find first pointcut in findfirstpointcutin kinded pointcut kindedpointcut left kind leftkind right kind rightkind left kind leftkind could ever match same join points as couldevermatchsamejoinpointsas right kind rightkind pointcut find first pointcut in findfirstpointcutin pointcut to search tosearch to look for tolookfor to search tosearch not pointcut notpointcut to look for tolookfor is instance isinstance to search tosearch to search tosearch to search tosearch and pointcut andpointcut and pointcut andpointcut apc and pointcut andpointcut to search tosearch pointcut left find first pointcut in findfirstpointcutin apc get left getleft to look for tolookfor left left find first pointcut in findfirstpointcutin apc get right getright to look for tolookfor param user pointcut userpointcut raise negation binding error raisenegationbindingerror pointcut user pointcut userpointcut show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages negation doesnt binding user pointcut userpointcut get source context getsourcecontext make source location makesourcelocation user pointcut userpointcut param param user pointcut userpointcut raise ambiguous binding error raiseambiguousbindingerror string pointcut user pointcut userpointcut show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages ambiguous binding user pointcut userpointcut get source context getsourcecontext make source location makesourcelocation user pointcut userpointcut param user pointcut userpointcut raise ambiguity in disjunction error raiseambiguityindisjunctionerror pointcut user pointcut userpointcut list names string buffer stringbuffer formal names formalnames string buffer stringbuffer names to string tostring names size formal names formalnames append formal names formalnames append names show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages ambiguous binding formal names formalnames user pointcut userpointcut get source context getsourcecontext make source location makesourcelocation user pointcut userpointcut param param user pointcut userpointcut raise unbound formal error raiseunboundformalerror string pointcut user pointcut userpointcut show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages unbound formal user pointcut userpointcut get source context getsourcecontext make source location makesourcelocation user pointcut userpointcut dump unwoven dumpunwoven file file ioexception buffered output stream bufferedoutputstream file util fileutil make output stream makeoutputstream file zip output stream zipoutputstream zip output stream zipoutputstream dump unwoven dumpunwoven bug dump resources to out jar dumpresourcestooutjar zip output stream zipoutputstream close flushes closes acutal file dump unwoven dumpunwoven ioexception collection files to dump filestodump hash set hashset source java classes sourcejavaclasses values iterator files to dump filestodump iterator has next hasnext unwoven class file unwovenclassfile class file classfile unwoven class file unwovenclassfile dump unchanged dumpunchanged class file classfile dump resources to out path dumpresourcestooutpath ioexception system err println dump resources to out path dumpresourcestooutpath resources resources key set keyset iterator resources key set keyset iterator has next hasnext unwoven class file unwovenclassfile res unwoven class file unwovenclassfile resources dump unchanged dumpunchanged res resources hash map hashmap bug dump resources to out jar dumpresourcestooutjar ioexception system err println dump resources to out jar dumpresourcestooutjar resources resources key set keyset iterator resources key set keyset iterator has next hasnext string string unwoven class file unwovenclassfile res unwoven class file unwovenclassfile resources write zip entry writezipentry res get bytes getbytes resources hash map hashmap halfway house jar managed weaver resources copied weaver dump resources to out jar dumpresourcestooutjar zip output stream zipoutputstream zos ioexception zip output stream zipoutputstream zos dump resources to out jar dumpresourcestooutjar add manifest addmanifest manifest new manifest newmanifest system println add manifest addmanifest new manifest newmanifest new manifest newmanifest manifest manifest new manifest newmanifest string manifest meta inf manifest string weaver manifest version attributes created created string weaver created aspect j aspectj compiler manifest get manifest getmanifest should create shouldcreate manifest should create shouldcreate manifest manifest attributes attributes manifest get main attributes getmainattributes attributes manifest version weaver manifest version attributes created weaver created manifest weaving test cases collection weave file file ioexception output stream outputstream file util fileutil make output stream makeoutputstream file zip output stream zipoutputstream zip output stream zipoutputstream prepare for weave prepareforweave collection weave iclass file provider iclassfileprovider is apply at aspect jmungers only isapplyataspectjmungersonly iterator get class file iterator getclassfileiterator added classes addedclasses iterator iweave requestor iweaverequestor get requestor getrequestor iweave requestor iweaverequestor accept result acceptresult unwoven class file unwovenclassfile result write zip entry writezipentry result filename result bytes ioexception processing reweavable state processingreweavablestate adding type mungers addingtypemungers weaving aspects weavingaspects weaving classes weavingclasses weave completed weavecompleted bug dump resources to out jar dumpresourcestooutjar flushes closes acutal file zip output stream zipoutputstream close collection weave ioexception prepare for weave prepareforweave collection files to weave filestoweave need to reweave world needtoreweaveworld files to weave filestoweave source java classes sourcejavaclasses values files to weave filestoweave added classes addedclasses collection woven class names wovenclassnames array list arraylist show message showmessage imessage info weave files to weave filestoweave need to reweave world needtoreweaveworld system err println type mungers typemungers type munger list typemungerlist prepare to process reweavable state preparetoprocessreweavablestate clear files reweaving iterator files to weave filestoweave iterator has next hasnext unwoven class file unwovenclassfile class file classfile unwoven class file unwovenclassfile string class name classname class file classfile get class name getclassname bcel object type bcelobjecttype class type classtype get class type getclasstype class name classname process reweavable state if present processreweavablestateifpresent class name classname class type classtype xxx isn place iterator files to weave filestoweave iterator has next hasnext unwoven class file unwovenclassfile class file classfile unwoven class file unwovenclassfile string class name classname class file classfile get class name getclassname add type mungers addtypemungers class name classname weave aspects iterator files to weave filestoweave iterator has next hasnext unwoven class file unwovenclassfile class file classfile unwoven class file unwovenclassfile string class name classname class file classfile get class name getclassname bcel object type bcelobjecttype class type classtype bcel world bcelworld get bcel object type getbcelobjecttype resolve class name classname class type classtype is aspect isaspect weave class file classfile class type classtype woven class names wovenclassnames add class name classname weave aspects iterator files to weave filestoweave iterator has next hasnext unwoven class file unwovenclassfile class file classfile unwoven class file unwovenclassfile string class name classname class file classfile get class name getclassname bcel object type bcelobjecttype class type classtype bcel world bcelworld get bcel object type getbcelobjecttype resolve class name classname class type classtype is aspect isaspect weave class file classfile class type classtype woven class names wovenclassnames add class name classname zip output stream zipoutputstream need to reweave world needtoreweaveworld collection files to dump filestodump hash set hashset source java classes sourcejavaclasses values files to dump filestodump remove all removeall files to weave filestoweave iterator files to dump filestodump iterator has next hasnext unwoven class file unwovenclassfile class file classfile unwoven class file unwovenclassfile dump unchanged dumpunchanged class file classfile added classes addedclasses array list arraylist deleted typenames deletedtypenames array list arraylist woven class names wovenclassnames variation weave sources files external source collection weave iclass file provider iclassfileprovider input ioexception context token contexttoken weave token weavetoken compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext weaving collection woven class names wovenclassnames array list arraylist iweave requestor iweaverequestor requestor input get requestor getrequestor special at aspect jmunger only ataspectjmungeronly input is apply at aspect jmungers only isapplyataspectjmungersonly context token contexttoken at aspect jmungers only ataspectjmungersonly compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext processing ataspectjtype mungers requestor weaving aspects weavingaspects context token contexttoken aspect token aspecttoken compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext weaving aspects iterator input get class file iterator getclassfileiterator has next hasnext unwoven class file unwovenclassfile class file classfile unwoven class file unwovenclassfile string class name classname class file classfile get class name getclassname resolved type resolvedtype the type thetype resolve class name classname the type thetype is annotation style aspect isannotationstyleaspect bcel object type bcelobjecttype class type classtype bcel world bcelworld get bcel object type getbcelobjecttype the type thetype class type classtype bcexception find bcel delegate class name classname type the type thetype get class getclass lazy class gen lazyclassgen clazz class type classtype get lazy class gen getlazyclassgen bcel per clause aspect adder bcelperclauseaspectadder self munger selfmunger bcel per clause aspect adder bcelperclauseaspectadder the type thetype the type thetype get per clause getperclause get kind getkind self munger selfmunger force munge forcemunge clazz class type classtype finished with finishedwith unwoven class file unwovenclassfile new classes newclasses get class files for getclassfilesfor clazz news news new classes newclasses length news requestor accept result acceptresult new classes newclasses news woven class names wovenclassnames add class file classfile get class name getclassname requestor weave completed weavecompleted compilation and weaving context compilationandweavingcontext leaving phase leavingphase at aspect jmungers only ataspectjmungersonly woven class names wovenclassnames requestor processing reweavable state processingreweavablestate context token contexttoken reweave token reweavetoken compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext processing reweavable prepare to process reweavable state preparetoprocessreweavablestate clear files reweaving iterator input get class file iterator getclassfileiterator has next hasnext unwoven class file unwovenclassfile class file classfile unwoven class file unwovenclassfile string class name classname class file classfile get class name getclassname bcel object type bcelobjecttype class type classtype get class type getclasstype class name classname reweavable bravely claimed class type classtype context token contexttoken tok compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext processing reweavable class name classname process reweavable state if present processreweavablestateifpresent class name classname class type classtype compilation and weaving context compilationandweavingcontext leaving phase leavingphase tok compilation and weaving context compilationandweavingcontext leaving phase leavingphase reweave token reweavetoken context token contexttoken type munging token typemungingtoken compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext processing type mungers requestor adding type mungers addingtypemungers process type mungers groups mungers change type hierarchy normal type mungers process types predictable order order encountered order superclasses superinterfaces mechanism applied recursively list types to process typestoprocess array list arraylist iterator iter input get class file iterator getclassfileiterator iter has next hasnext unwoven class file unwovenclassfile clf unwoven class file unwovenclassfile iter types to process typestoprocess add clf get class name getclassname types to process typestoprocess size weave parents for weaveparentsfor types to process typestoprocess string types to process typestoprocess iterator input get class file iterator getclassfileiterator has next hasnext unwoven class file unwovenclassfile class file classfile unwoven class file unwovenclassfile string class name classname class file classfile get class name getclassname add normal type mungers addnormaltypemungers class name classname compilation and weaving context compilationandweavingcontext leaving phase leavingphase type munging token typemungingtoken requestor weaving aspects weavingaspects context token contexttoken aspect token aspecttoken compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext weaving aspects weave aspects iterator input get class file iterator getclassfileiterator has next hasnext unwoven class file unwovenclassfile class file classfile unwoven class file unwovenclassfile string class name classname class file classfile get class name getclassname resolved type resolvedtype the type thetype resolve class name classname the type thetype is aspect isaspect bcel object type bcelobjecttype class type classtype bcel world bcelworld get bcel object type getbcelobjecttype the type thetype class type classtype bcel delegate couldn problem occurred compile time previous compiler delegate eclipse source type eclipsesourcetype ignore problem original compile error reported eclipse source type reference type delegate referencetypedelegate the delegate thedelegate reference type referencetype the type thetype get delegate getdelegate the delegate thedelegate get class getclass get name getname ends with endswith eclipse source type eclipsesourcetype bcexception find bcel delegate class name classname type the type thetype get class getclass weave and notify weaveandnotify class file classfile class type classtype requestor woven class names wovenclassnames add class name classname compilation and weaving context compilationandweavingcontext leaving phase leavingphase aspect token aspecttoken requestor weaving classes weavingclasses context token contexttoken class token classtoken compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext weaving classes weave aspects iterator input get class file iterator getclassfileiterator has next hasnext unwoven class file unwovenclassfile class file classfile unwoven class file unwovenclassfile string class name classname class file classfile get class name getclassname resolved type resolvedtype the type thetype resolve class name classname the type thetype is aspect isaspect bcel object type bcelobjecttype class type classtype bcel world bcelworld get bcel object type getbcelobjecttype the type thetype class type classtype bug comment bug reference type delegate referencetypedelegate the delegate thedelegate reference type referencetype the type thetype get delegate getdelegate the delegate thedelegate get class getclass get name getname ends with endswith eclipse source type eclipsesourcetype bcexception find bcel delegate class name classname type the type thetype get class getclass weave and notify weaveandnotify class file classfile class type classtype requestor woven class names wovenclassnames add class name classname compilation and weaving context compilationandweavingcontext leaving phase leavingphase class token classtoken added classes addedclasses array list arraylist deleted typenames deletedtypenames array list arraylist warn on unmatched advice warnonunmatchedadvice requestor weave completed weavecompleted compilation and weaving context compilationandweavingcontext leaving phase leavingphase weave token weavetoken woven class names wovenclassnames mode xlint advice did not match advicedidnotmatch enabled messages mungers match warn on unmatched advice warnonunmatchedadvice advice location advicelocation line no lineno unresolved type unresolvedtype in aspect inaspect advice location advicelocation bcel advice bceladvice advice line no lineno advice get source location getsourcelocation get line getline in aspect inaspect advice get declaring aspect getdeclaringaspect equals object obj obj advice location advicelocation advice location advicelocation advice location advicelocation obj line no lineno line no lineno in aspect inaspect equals in aspect inaspect hash code hashcode line no lineno in aspect inaspect hash code hashcode piece advice hasn matched mode warning is in java isinjava mode get lint getlint advice did not match advicedidnotmatch is enabled isenabled list get crosscutting members set getcrosscuttingmembersset get shadow mungers getshadowmungers already warned locations alreadywarnedlocations hash set hashset iterator iter iterator iter has next hasnext shadow munger shadowmunger element shadow munger shadowmunger iter incorrectly reporting deow checkers element bcel advice bceladvice bcel advice bceladvice bcel advice bceladvice element has matched something hasmatchedsomething find get signature getsignature bcel method bcelmethod cflow entry munger get signature getsignature check haven warned advice cflow creates multiple mungers advice advice location advicelocation loc advice location advicelocation already warned locations alreadywarnedlocations loc already warned locations alreadywarnedlocations add loc get signature getsignature bcel method bcelmethod utility is suppressing issuppressing annotation x annotationx get signature getsignature get annotations getannotations advice did not match advicedidnotmatch get lint getlint advice did not match advicedidnotmatch signal get declaring aspect getdeclaringaspect to string tostring element get source location getsourcelocation type to weave typetoweave types for weaving typesforweaving list routine ensures process supertypes classes interfaces type to weave typetoweave types for weaving typesforweaving list type to weave typetoweave types to weave typestoweave removed types for weaving typesforweaving list note gotcha supplying partial hierarchies algorithm hierarchy weaver choose weave order problems supplying partial hierarchies weave parents for weaveparentsfor list types for weaving typesforweaving string type to weave typetoweave supertype resolved type resolvedtype rtx resolve type to weave typetoweave resolved type resolvedtype super type supertype rtx get superclass getsuperclass super type supertype types for weaving typesforweaving super type supertype get name getname weave parents for weaveparentsfor types for weaving typesforweaving super type supertype get name getname superinterface list resolved type resolvedtype interface types interfacetypes rtx get declared interfaces getdeclaredinterfaces interface types interfacetypes length resolved type resolvedtype rtx i rtxi interface types interfacetypes types for weaving typesforweaving rtx i rtxi get name getname weave parents for weaveparentsfor types for weaving typesforweaving rtx i rtxi get name getname context token contexttoken tok compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext processing declare parents rtx get name getname type weave parent type mungers weaveparenttypemungers rtx compilation and weaving context compilationandweavingcontext leaving phase leavingphase tok remove list process types for weaving typesforweaving remove type to weave typetoweave prepare to process reweavable state preparetoprocessreweavablestate in reweavable mode inreweavablemode show message showmessage imessage info weaver messages weavermessages format weaver messages weavermessages reweavable mode process reweavable state if present processreweavablestateifpresent string class name classname bcel object type bcelobjecttype class type classtype marked reweavable check aspects built weaver state info weaverstateinfo wsi class type classtype get weaver state getweaverstate check types wsi wsi is reweavable isreweavable show message showmessage imessage info weaver messages weavermessages format weaver messages weavermessages processing reweavable class name classname class type classtype get source location getsourcelocation get source file getsourcefile aspects previously in world aspectspreviouslyinworld wsi get aspects affecting type getaspectsaffectingtype aspects previously in world aspectspreviouslyinworld track ensure unique missing aspect error reporting already confirmed reweavable state alreadyconfirmedreweavablestate hash set hashset iterator iter aspects previously in world aspectspreviouslyinworld iterator iter has next hasnext string required type name requiredtypename string iter already confirmed reweavable state alreadyconfirmedreweavablestate required type name requiredtypename resolved type resolvedtype rtx resolve unresolved type unresolvedtype for name forname required type name requiredtypename exists rtx is missing ismissing exists show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages missing reweavable type required type name requiredtypename class name classname class type classtype get source location getsourcelocation xcut set xcutset contains aspect containsaspect rtx show message showmessage imessage error weaver messages weavermessages format weaver messages weavermessages reweavable aspect registered required type name requiredtypename class name classname get message handler getmessagehandler is ignoring isignoring imessage info show message showmessage imessage info weaver messages weavermessages format weaver messages weavermessages verified reweavable type required type name requiredtypename rtx get source location getsourcelocation get source file getsourcefile already confirmed reweavable state alreadyconfirmedreweavablestate add required type name requiredtypename class type classtype set java class setjavaclass utility make java class makejavaclass class type classtype get java class getjavaclass get file name getfilename wsi get unwoven class file data getunwovenclassfiledata reweavable clever diff class type classtype set java class setjavaclass utility make java class makejavaclass class type classtype get java class getjavaclass get file name getfilename wsi get unwoven class file data getunwovenclassfiledata class type classtype get java class getjavaclass get bytes getbytes class type classtype reset state resetstate weave and notify weaveandnotify unwoven class file unwovenclassfile class file classfile bcel object type bcelobjecttype class type classtype iweave requestor iweaverequestor requestor ioexception context token contexttoken tok compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext weaving type class type classtype get resolved type x getresolvedtypex get name getname lazy class gen lazyclassgen clazz weave without dump weavewithoutdump class file classfile class type classtype class type classtype finished with finishedwith clazz classfile unchanged weaving clazz unwoven class file unwovenclassfile new classes newclasses get class files for getclassfilesfor clazz new classes newclasses length requestor accept result acceptresult new classes newclasses requestor accept result acceptresult class file classfile class type classtype weaving completed weavingcompleted compilation and weaving context compilationandweavingcontext leaving phase leavingphase tok helper method underlying delegate eclipse source type eclipsesourcetype bcel object type bcelobjecttype bcel object type bcelobjecttype get class type getclasstype string for class forclass bcel world bcelworld get bcel object type getbcelobjecttype resolve for class forclass add parent type mungers addparenttypemungers string type name typename weave parent type mungers weaveparenttypemungers resolve type name typename add normal type mungers addnormaltypemungers string type name typename weave normal type mungers weavenormaltypemungers resolve type name typename unwoven class file unwovenclassfile get class files for getclassfilesfor lazy class gen lazyclassgen clazz list child classes childclasses clazz get child classes getchildclasses unwoven class file unwovenclassfile ret unwoven class file unwovenclassfile child classes childclasses size ret unwoven class file unwovenclassfile clazz get file name getfilename clazz get java class bytes including reweavable getjavaclassbytesincludingreweavable iterator iter child classes childclasses iterator iter has next hasnext unwoven class file unwovenclassfile child class childclass element unwoven class file unwovenclassfile child class childclass iter unwoven class file unwovenclassfile child class childclass unwoven class file unwovenclassfile clazz get file name getfilename element element bytes ret child class childclass ret weaves parents annotations type declare parents declare type algorithm pass parents annotations pass record parent mungers don match wild annotation type pattern annotation mungers don match multiple subsequent passes munger lists constructed pass repeatedly applying fixme asc confirm algorithm optimal weave parent type mungers weaveparenttypemungers resolved type resolvedtype on type ontype on type ontype is raw type israwtype on type ontype on type ontype get generic type getgenerictype on type ontype clear inter type mungers clearintertypemungers list decp to repeat decptorepeat array list arraylist a parent change occurred aparentchangeoccurred an annotation change occurred anannotationchangeoccurred pass apply decp mungers iterator declare parents list declareparentslist iterator has next hasnext declare parents declareparents decp declare parents declareparents type changed typechanged apply declare parents applydeclareparents decp on type ontype type changed typechanged a parent change occurred aparentchangeoccurred matched dec type modified type decp get child getchild is star annotation isstarannotation decp to repeat decptorepeat add decp pass apply dec type mungers iterator xcut set xcutset get declare annotation on types getdeclareannotationontypes iterator has next hasnext declare annotation declareannotation dec a deca declare annotation declareannotation type changed typechanged apply declare at type applydeclareattype dec a deca on type ontype type changed typechanged an annotation change occurred anannotationchangeoccurred a parent change occurred aparentchangeoccurred an annotation change occurred anannotationchangeoccurred decp to repeat decptorepeat is empty isempty an annotation change occurred anannotationchangeoccurred a parent change occurred aparentchangeoccurred list decp to repeat next time decptorepeatnexttime array list arraylist iterator iter decp to repeat decptorepeat iterator iter has next hasnext declare parents declareparents decp declare parents declareparents iter type changed typechanged apply declare parents applydeclareparents decp on type ontype type changed typechanged a parent change occurred aparentchangeoccurred decp to repeat next time decptorepeatnexttime add decp iterator iter xcut set xcutset get declare annotation on types getdeclareannotationontypes iterator iter has next hasnext declare annotation declareannotation dec a deca declare annotation declareannotation iter type changed typechanged apply declare at type applydeclareattype dec a deca on type ontype type changed typechanged an annotation change occurred anannotationchangeoccurred decp to repeat decptorepeat decp to repeat next time decptorepeatnexttime apply declare type change type apply declare at type applydeclareattype declare annotation declareannotation dec a deca resolved type resolvedtype on type ontype report problems reportproblems did something didsomething dec a deca matches on type ontype on type ontype has annotation hasannotation dec a deca get annotation x getannotationx get signature getsignature annotation x annotationx anno x annox dec a deca get annotation x getannotationx check annotation suitable target problem reported problemreported verify target is ok verifytargetisok dec a deca on type ontype anno x annox report problems reportproblems problem reported problemreported asm relationship provider asmrelationshipprovider get default getdefault add declare annotation relationship adddeclareannotationrelationship dec a deca get source location getsourcelocation on type ontype get source location getsourcelocation tag weaving message weavingmessage get world getworld get message handler getmessagehandler is ignoring isignoring imessage weaveinfo get world getworld get message handler getmessagehandler handle message handlemessage weave message weavemessage construct weaving message constructweavingmessage weave message weavemessage weavemessage annotates string on type ontype to string tostring utility beautify location beautifylocation on type ontype get source location getsourcelocation dec a deca get annotation string getannotationstring type dec a deca get aspect getaspect to string tostring utility beautify location beautifylocation dec a deca get source location getsourcelocation did something didsomething resolved type munger resolvedtypemunger new annotation tm newannotationtm annotation on type munger annotationontypemunger anno x annox new annotation tm newannotationtm set source location setsourcelocation dec a deca get source location getsourcelocation on type ontype add inter type munger addintertypemunger bcel type munger bceltypemunger new annotation tm newannotationtm dec a deca get aspect getaspect resolve dec a deca copy annotation to copyannotationto on type ontype did something didsomething checks target annotation ensures annotation attached target type matched verify target is ok verifytargetisok declare annotation declareannotation dec a deca resolved type resolvedtype on type ontype annotation x annotationx anno x annox output problems outputproblems problem reported problemreported anno x annox specifies target specifiestarget on type ontype is annotation isannotation anno x annox allowed on annotation type allowedonannotationtype anno x annox allowed on regular type allowedonregulartype output problems outputproblems dec a deca is exact pattern isexactpattern get message handler getmessagehandler handle message handlemessage message util messageutil error weaver messages weavermessages format weaver messages weavermessages incorrect target declare annotation on type ontype get name getname anno x annox stringify anno x annox get valid targets getvalidtargets dec a deca get source location getsourcelocation get lint getlint invalid target for annotation invalidtargetforannotation is enabled isenabled get lint getlint invalid target for annotation invalidtargetforannotation signal string on type ontype get name getname anno x annox stringify anno x annox get valid targets getvalidtargets dec a deca get source location getsourcelocation isource location isourcelocation on type ontype get source location getsourcelocation problem reported problemreported problem reported problemreported apply single declare parents change type apply declare parents applydeclareparents declare parents declareparents resolved type resolvedtype on type ontype did something didsomething list new parents newparents find matching new parents findmatchingnewparents on type ontype new parents newparents is empty isempty did something didsomething bcel object type bcelobjecttype class type classtype bcel world bcelworld get bcel object type getbcelobjecttype on type ontype system err println declare parents on type ontype iterator new parents newparents iterator has next hasnext resolved type resolvedtype new parent newparent resolved type resolvedtype imminent matching itds succeed haven file transform calls bcel type munger bceltypemunger munge new parent mungenewparent class type classtype add parent addparent new parent newparent resolved type munger resolvedtypemunger new parent munger newparentmunger new parent type munger newparenttypemunger new parent newparent new parent munger newparentmunger set source location setsourcelocation get source location getsourcelocation on type ontype add inter type munger addintertypemunger bcel type munger bceltypemunger new parent munger newparentmunger xcut set xcutset find aspect declaring parents findaspectdeclaringparents did something didsomething weave normal type mungers weavenormaltypemungers resolved type resolvedtype on type ontype context token contexttoken tok compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext processing type mungers on type ontype get name getname on type ontype is raw type israwtype on type ontype is parameterized type isparameterizedtype on type ontype on type ontype get generic type getgenerictype iterator type munger list typemungerlist iterator has next hasnext concrete type munger concretetypemunger concrete type munger concretetypemunger is late munger islatemunger matches on type ontype on type ontype add inter type munger addintertypemunger compilation and weaving context compilationandweavingcontext leaving phase leavingphase tok exposed class loader classloader dynamic weaving lazy class gen lazyclassgen weave without dump weavewithoutdump unwoven class file unwovenclassfile class file classfile bcel object type bcelobjecttype class type classtype ioexception weave class file classfile class type classtype testing lazy class gen lazyclassgen weave unwoven class file unwovenclassfile class file classfile bcel object type bcelobjecttype class type classtype ioexception lazy class gen lazyclassgen ret weave class file classfile class type classtype progress listener progresslistener progress made progressmade progress per class file progressperclassfile progress listener progresslistener set progress setprogress progress made progressmade progress listener progresslistener set text settext woven class file classfile get filename getfilename ret lazy class gen lazyclassgen weave unwoven class file unwovenclassfile class file classfile bcel object type bcelobjecttype class type classtype dump ioexception don touch synthetic classes class type classtype is synthetic issynthetic dump dump unchanged dumpunchanged class file classfile list shadow mungers shadowmungers fast match fastmatch shadow munger list shadowmungerlist class type classtype get resolved type x getresolvedtypex list type mungers typemungers class type classtype get resolved type x getresolvedtypex get inter type mungers getintertypemungers class type classtype get resolved type x getresolvedtypex check inter type mungers checkintertypemungers decide actual weaving might need to weave mightneedtoweave shadow mungers shadowmungers size type mungers typemungers size class type classtype is aspect isaspect get declare annotation on methods getdeclareannotationonmethods size get declare annotation on fields getdeclareannotationonfields size bridge methods hierarchy itds might need bridge methods mightneedbridgemethods is in java isinjava mode class type classtype is interface isinterface class type classtype get resolved type x getresolvedtypex get inter type mungers including supers getintertypemungersincludingsupers size lazy class gen lazyclassgen clazz might need to weave mightneedtoweave might need bridge methods mightneedbridgemethods clazz class type classtype get lazy class gen getlazyclassgen system err println lazy gen clazz clazz get weaver state getweaverstate is changed ischanged might need to weave mightneedtoweave is changed ischanged bcel class weaver bcelclassweaver weave clazz shadow mungers shadowmungers type mungers typemungers late type munger list latetypemungerlist might need bridge methods mightneedbridgemethods is changed ischanged bcel class weaver bcelclassweaver calculate any required bridge methods calculateanyrequiredbridgemethods clazz is changed ischanged is changed ischanged dump dump class file classfile clazz clazz runtime exception runtimeexception string message text messagetext trouble clazz to long string tolongstring get world getworld get message handler getmessagehandler handle message handlemessage message message text messagetext imessage abort error string message text messagetext trouble clazz to long string tolongstring get world getworld get message handler getmessagehandler handle message handlemessage message message text messagetext imessage abort odd behavior happy dump dump unchanged dumpunchanged class file classfile clazz aggressively defines aspect may have aspect mayhaveaspect clazz clazz get child classes getchildclasses is empty isempty clazz writing dump unchanged dumpunchanged unwoven class file unwovenclassfile class file classfile ioexception zip output stream zipoutputstream write zip entry writezipentry get entry name getentryname class file classfile get java class getjavaclass get class name getclassname class file classfile get bytes getbytes class file classfile write unchanged bytes writeunchangedbytes string get entry name getentryname string class name classname xxx bcel get class name getclassname names class name classname replace dump unwoven class file unwovenclassfile class file classfile lazy class gen lazyclassgen clazz ioexception zip output stream zipoutputstream string main class name mainclassname class file classfile get java class getjavaclass get class name getclassname write zip entry writezipentry get entry name getentryname main class name mainclassname clazz get java class getjavaclass get bytes getbytes clazz get child classes getchildclasses is empty isempty iterator clazz get child classes getchildclasses iterator has next hasnext unwoven class file unwovenclassfile child class childclass unwoven class file unwovenclassfile child class childclass write zip entry writezipentry get entry name getentryname main class name mainclassname bytes class file classfile write woven bytes writewovenbytes clazz get java class getjavaclass get bytes getbytes clazz get child classes getchildclasses write zip entry writezipentry string bytes ioexception compression scheme zip entry zipentry new entry newentry zip entry zipentry zip output stream zipoutputstream put next entry putnextentry new entry newentry zip output stream zipoutputstream write bytes zip output stream zipoutputstream close entry closeentry list fast match fastmatch list list resolved type resolvedtype type list collections empty list coarsest grained fast match kind constraints remove obvious matches weaving fast match info fastmatchinfo info fast match info fastmatchinfo type list result array list arraylist iterator iter list iterator iter has next hasnext shadow munger shadowmunger munger shadow munger shadowmunger iter fuzzy boolean fuzzyboolean munger get pointcut getpointcut fast match fastmatch info pass munger get pointcut getpointcut to string tostring info weaver metrics weavermetrics record fast match type result recordfastmatchtyperesult maybe true maybetrue result add munger result set progress listener setprogresslistener iprogress listener iprogresslistener listener previous progress previousprogress progress per class file progressperclassfile progress listener progresslistener listener progress made progressmade previous progress previousprogress progress per class file progressperclassfile progress per class file progressperclassfile set reweavable mode setreweavablemode x not reweavable xnotreweavable in reweavable mode inreweavablemode x not reweavable xnotreweavable weaver state info weaverstateinfo set reweavable mode defaults setreweavablemodedefaults x not reweavable xnotreweavable bcel class weaver bcelclassweaver set reweavable mode setreweavablemode x not reweavable xnotreweavable is reweavable isreweavable in reweavable mode inreweavablemode get world getworld tidy up tidyup setup prepare for weave prepareforweave shadow munger list shadowmungerlist setup prepare for weave prepareforweave type munger list typemungerlist setup prepare for weave prepareforweave late type munger list latetypemungerlist setup prepare for weave prepareforweave declare parents list declareparentslist