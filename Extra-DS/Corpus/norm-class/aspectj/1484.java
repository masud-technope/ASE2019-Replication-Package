copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation alexandre vasseur aspect j aspectj itds org aspectj weaver bcel java lang reflect modifier java util iterator java util list java util org aspectj apache bcel constants org aspectj apache bcel classfile annotation annotation org aspectj apache bcel branch instruction branchinstruction org aspectj apache bcel constant pool gen constantpoolgen org aspectj apache bcel field gen fieldgen org aspectj apache bcel invokespecial org aspectj apache bcel instruction constants instructionconstants org aspectj apache bcel instruction factory instructionfactory org aspectj apache bcel instruction handle instructionhandle org aspectj apache bcel instruction list instructionlist org aspectj apache bcel type org aspectj apache bcel annotation annotation gen annotationgen org aspectj bridge imessage org aspectj bridge isource location isourcelocation org aspectj bridge message org aspectj bridge message util messageutil org aspectj bridge weave message weavemessage org aspectj bridge context compilation and weaving context compilationandweavingcontext org aspectj bridge context context token contexttoken org aspectj weaver ajc member maker ajcmembermaker org aspectj weaver annotation on type munger annotationontypemunger org aspectj weaver annotation x annotationx org aspectj weaver asm relationship provider asmrelationshipprovider org aspectj weaver bcexception org aspectj weaver concrete type munger concretetypemunger org aspectj weaver member org aspectj weaver method delegate type munger methoddelegatetypemunger org aspectj weaver name mangler namemangler org aspectj weaver new constructor type munger newconstructortypemunger org aspectj weaver new field type munger newfieldtypemunger org aspectj weaver new method type munger newmethodtypemunger org aspectj weaver new parent type munger newparenttypemunger org aspectj weaver per object interface type munger perobjectinterfacetypemunger org aspectj weaver privileged access munger privilegedaccessmunger org aspectj weaver resolved member resolvedmember org aspectj weaver resolved type resolvedtype org aspectj weaver resolved type munger resolvedtypemunger org aspectj weaver shadow org aspectj weaver type variable reference typevariablereference org aspectj weaver unresolved type unresolvedtype org aspectj weaver weaver messages weavermessages org aspectj weaver weaver state info weaverstateinfo org aspectj weaver org aspectj weaver patterns declare annotation declareannotation org aspectj weaver patterns pointcut xxx add lazy method gen addlazymethodgen bad bcel type munger bceltypemunger concrete type munger concretetypemunger bcel type munger bceltypemunger resolved type munger resolvedtypemunger munger resolved type resolvedtype aspect type aspecttype munger aspect type aspecttype string to string tostring bcel type munger bceltypemunger get munger getmunger munge bcel class weaver bcelclassweaver weaver context token contexttoken tok compilation and weaving context compilationandweavingcontext entering phase enteringphase compilation and weaving context compilationandweavingcontext munging changed worth reporting worthreporting munger get kind getkind resolved type munger resolvedtypemunger field changed munge new field mungenewfield weaver new field type munger newfieldtypemunger munger munger get kind getkind resolved type munger resolvedtypemunger method changed munge new method mungenewmethod weaver new method type munger newmethodtypemunger munger munger get kind getkind resolved type munger resolvedtypemunger method delegate methoddelegate changed munge method delegate mungemethoddelegate weaver method delegate type munger methoddelegatetypemunger munger munger get kind getkind resolved type munger resolvedtypemunger field host fieldhost changed munge field host mungefieldhost weaver method delegate type munger methoddelegatetypemunger field host type munger fieldhosttypemunger munger munger get kind getkind resolved type munger resolvedtypemunger per object interface perobjectinterface changed munge per object interface mungeperobjectinterface weaver per object interface type munger perobjectinterfacetypemunger munger worth reporting worthreporting munger get kind getkind resolved type munger resolvedtypemunger per type within interface pertypewithininterface ptwimpl transform target type add aspect instance field changed munge per type within transformer mungepertypewithintransformer weaver worth reporting worthreporting munger get kind getkind resolved type munger resolvedtypemunger privileged access privilegedaccess changed munge privileged access mungeprivilegedaccess weaver privileged access munger privilegedaccessmunger munger worth reporting worthreporting munger get kind getkind resolved type munger resolvedtypemunger constructor changed munge new constructor mungenewconstructor weaver new constructor type munger newconstructortypemunger munger munger get kind getkind resolved type munger resolvedtypemunger parent changed munge new parent mungenewparent weaver new parent type munger newparenttypemunger munger munger get kind getkind resolved type munger resolvedtypemunger annotation on type annotationontype changed munge new annotation on type mungenewannotationontype weaver annotation on type munger annotationontypemunger munger worth reporting worthreporting runtime exception runtimeexception unimplemented changed munger changes public signature changespublicsignature weaver state info weaverstateinfo info weaver get lazy class gen getlazyclassgen get or create weaver state info getorcreateweaverstateinfo bcel class weaver bcelclassweaver get reweavable mode getreweavablemode info add concrete munger addconcretemunger changed worth reporting worthreporting munger get kind getkind equals resolved type munger resolvedtypemunger parent asm relationship provider asmrelationshipprovider get default getdefault add relationship addrelationship weaver get lazy class gen getlazyclassgen get type gettype munger get aspect type getaspecttype asm relationship provider asmrelationshipprovider get default getdefault add relationship addrelationship weaver get lazy class gen getlazyclassgen get type gettype munger get aspect type getaspecttype tag weaving message weavingmessage changed worth reporting worthreporting munger weaver get world getworld get message handler getmessagehandler is ignoring isignoring imessage weaveinfo string t name tname weaver get lazy class gen getlazyclassgen get type gettype get source location getsourcelocation get source file getsourcefile get name getname t name tname index of indexof debug info t name tname debug info t name tname get shortname getshortname weaver get lazy class gen getlazyclassgen get type gettype get source location getsourcelocation get source file getsourcefile get path getpath string f name fname get shortname getshortname get aspect type getaspecttype get source location getsourcelocation get source file getsourcefile get path getpath munger get kind getkind equals resolved type munger resolvedtypemunger parent message aj lookup environment ajlookupenvironment add parent addparent parents munging compile time new parent type munger newparenttypemunger parent tm parenttm new parent type munger newparenttypemunger munger parent tm parenttm get new parent getnewparent is interface isinterface weaver get world getworld get message handler getmessagehandler handle message handlemessage weave message weavemessage construct weaving message constructweavingmessage weave message weavemessage weavemessage declareparentsimplements string weaver get lazy class gen getlazyclassgen get type gettype get name getname t name tname parent tm parenttm get new parent getnewparent get name getname f name fname weaver get lazy class gen getlazyclassgen get class name getclassname get aspect type getaspecttype get name getname weaver get world getworld get message handler getmessagehandler handle message handlemessage weave message weavemessage construct weaving message constructweavingmessage weave message weavemessage weavemessage declareparentsextends string weaver get lazy class gen getlazyclassgen get type gettype get name getname t name tname parent tm parenttm get new parent getnewparent get name getname f name fname tag weaving message weavingmessage declare parents report declare parents message reportdeclareparentsmessage weave message weavemessage weavemessage declareparentsextends source type sourcetype parent munger get kind getkind equals resolved type munger resolvedtypemunger field host fieldhost hidden resolved member resolvedmember declared sig declaredsig munger get declared signature getdeclaredsignature declared sig declaredsig declared sig declaredsig munger get signature getsignature weaver get world getworld get message handler getmessagehandler handle message handlemessage weave message weavemessage construct weaving message constructweavingmessage weave message weavemessage weavemessage string weaver get lazy class gen getlazyclassgen get type gettype get name getname t name tname munger get kind getkind to string tostring to lower case tolowercase get aspect type getaspecttype get name getname f name fname declared sig declaredsig weaver get lazy class gen getlazyclassgen get class name getclassname get aspect type getaspecttype get name getname compilation and weaving context compilationandweavingcontext leaving phase leavingphase tok changed string get shortname getshortname string path takefrom path last index of lastindexof takefrom takefrom path last index of lastindexof path substring takefrom munge new annotation on type mungenewannotationontype bcel class weaver bcelclassweaver weaver annotation on type munger annotationontypemunger munger weaver get lazy class gen getlazyclassgen add annotation addannotation munger get new annotation getnewannotation get bcel annotation getbcelannotation munge new parent mungenewparent bcel class weaver bcelclassweaver weaver new parent type munger newparenttypemunger munger lazy class gen lazyclassgen new parent target newparenttarget weaver get lazy class gen getlazyclassgen resolved type resolvedtype new parent newparent munger get new parent getnewparent cont cont enforce decp rule enforcedecprule abstract methods implemented abstractmethodsimplemented weaver munger get source location getsourcelocation new parent target newparenttarget new parent newparent cont enforce decp rule enforcedecprule cant extend final class cantextendfinalclass weaver munger get source location getsourcelocation new parent target newparenttarget new parent newparent cont list methods new parent newparent get methods without iterator getmethodswithoutiterator iterator iter methods iterator iter has next hasnext resolved member resolvedmember super method supermethod resolved member resolvedmember iter super method supermethod get name getname equals init lazy method gen lazymethodgen sub method submethod find matching method findmatchingmethod new parent target newparenttarget super method supermethod sub method submethod sub method submethod is bridge method isbridgemethod fixme asc safe bridge methods cont enforce decp rule enforcedecprule visibility changes visibilitychanges weaver new parent newparent super method supermethod sub method submethod cont cont enforce decp rule enforcedecprule compatible return types compatiblereturntypes weaver super method supermethod sub method submethod cont cont enforce decp rule enforcedecprule cant change from static to nonstatic cantchangefromstatictononstatic weaver munger get source location getsourcelocation super method supermethod sub method submethod cont rule violated error message reported cont new parent newparent is class isclass changing supertype attempt to modify super calls attempttomodifysupercalls weaver new parent target newparenttarget new parent newparent new parent target newparenttarget set super class setsuperclass new parent newparent adding new parent target newparenttarget add interface addinterface new parent newparent get source location getsourcelocation rule declare parents allowed target type override implement inherited methods type declared enforce decp rule enforcedecprule abstract methods implemented abstractmethodsimplemented bcel class weaver bcelclassweaver weaver isource location isourcelocation munger loc mungerloc lazy class gen lazyclassgen new parent target newparenttarget resolved type resolvedtype new parent newparent rule checking succeeded rulecheckingsucceeded new parent target newparenttarget is abstract isabstract new parent target newparenttarget is interface isinterface ignore classes interfaces list methods new parent newparent get methods without iterator getmethodswithoutiterator iterator methods iterator has next hasnext resolved member resolvedmember resolved member resolvedmember is abstract isabstract get name getname starts with startswith ajc inter field interfield ignore methods ajc inter field interfield prefixed methods resolved member resolvedmember discovered impl discoveredimpl list new parent target methods newparenttargetmethods new parent target newparenttarget get type gettype get methods without iterator getmethodswithoutiterator iterator new parent target methods newparenttargetmethods iterator has next hasnext discovered impl discoveredimpl resolved member resolvedmember gen resolved member resolvedmember gen get name getname equals get name getname gen get parameter signature getparametersignature equals get parameter signature getparametersignature gen is abstract isabstract valid implementation discovered impl discoveredimpl gen discovered impl discoveredimpl didnt find valid implementation check itds type satisfy satisfied by itd satisfiedbyitd iterator new parent target newparenttarget get type gettype get inter type mungers including supers getintertypemungersincludingsupers iterator has next hasnext concrete type munger concretetypemunger concrete type munger concretetypemunger get munger getmunger get kind getkind resolved type munger resolvedtypemunger method resolved member resolvedmember sig get signature getsignature modifier is abstract isabstract sig get modifiers getmodifiers type is target type parameterized istargettypeparameterized resolved type resolvedtype generic on type genericontype get world getworld resolve sig get declaring type getdeclaringtype get generic type getgenerictype parameterized for parameterizedfor new parent newparent discover actual occurrence of type in hierarchy discoveractualoccurrenceoftypeinhierarchy generic on type genericontype sig change type parameters filled sig get signature getsignature resolved type resolvedtype matches ajc member maker ajcmembermaker inter method intermethod sig get aspect type getaspecttype sig get declaring type getdeclaringtype resolve weaver get world getworld is interface isinterface satisfied by itd satisfiedbyitd get munger getmunger get kind getkind resolved type munger resolvedtypemunger method delegate methoddelegate check satisfied by itd satisfiedbyitd satisfied by itd satisfiedbyitd error weaver type new parent target newparenttarget get name getname implement inherited method get declaring type getdeclaringtype get name getname get parameter signature getparametersignature new parent target newparenttarget get type gettype get source location getsourcelocation isource location isourcelocation get source location getsourcelocation munger loc mungerloc rule checking succeeded rulecheckingsucceeded rule checking succeeded rulecheckingsucceeded rule extend types enforce decp rule enforcedecprule cant extend final class cantextendfinalclass bcel class weaver bcelclassweaver weaver isource location isourcelocation munger loc mungerloc lazy class gen lazyclassgen new parent target newparenttarget resolved type resolvedtype new parent newparent new parent newparent is final isfinal error weaver type new parent target newparenttarget get name getname extend new parent newparent get name getname new parent target newparenttarget get type gettype get source location getsourcelocation isource location isourcelocation munger loc mungerloc rule narrow visibility methods overriding enforce decp rule enforcedecprule visibility changes visibilitychanges bcel class weaver bcelclassweaver weaver resolved type resolvedtype new parent newparent resolved member resolvedmember super method supermethod lazy method gen lazymethodgen sub method submethod cont super method supermethod is public ispublic sub method submethod is protected isprotected sub method submethod is default isdefault sub method submethod is private isprivate weaver get world getworld get message handler getmessagehandler handle message handlemessage message util messageutil error reduce visibility inherited method super method supermethod new parent newparent get name getname super method supermethod get source location getsourcelocation cont super method supermethod is protected isprotected sub method submethod is default isdefault sub method submethod is private isprivate weaver get world getworld get message handler getmessagehandler handle message handlemessage message util messageutil error reduce visibility inherited method super method supermethod new parent newparent get name getname super method supermethod get source location getsourcelocation cont super method supermethod is default isdefault sub method submethod is private isprivate weaver get world getworld get message handler getmessagehandler handle message handlemessage message util messageutil error reduce visibility inherited method super method supermethod new parent newparent get name getname super method supermethod get source location getsourcelocation cont cont rule incompatible types enforce decp rule enforcedecprule compatible return types compatiblereturntypes bcel class weaver bcelclassweaver weaver resolved member resolvedmember super method supermethod lazy method gen lazymethodgen sub method submethod cont string super return type sig superreturntypesig super method supermethod get return type getreturntype get signature getsignature string sub return type sig subreturntypesig sub method submethod get return type getreturntype get signature getsignature super return type sig superreturntypesig equals sub return type sig subreturntypesig covariance test java resolved type resolvedtype sub type subtype weaver get world getworld resolve sub method submethod get return type getreturntype resolved type resolvedtype super type supertype weaver get world getworld resolve super method supermethod get return type getreturntype super type supertype is assignable from isassignablefrom sub type subtype isource location isourcelocation sloc sub method submethod get source location getsourcelocation weaver get world getworld get message handler getmessagehandler handle message handlemessage message util messageutil error type incompatible super method supermethod get declaring type getdeclaringtype super method supermethod get name getname super method supermethod get parameter signature getparametersignature sub method submethod get source location getsourcelocation cont cont rule method overrides change staticality word override instance method override method instance method enforce decp rule enforcedecprule cant change from static to nonstatic cantchangefromstatictononstatic bcel class weaver bcelclassweaver weaver isource location isourcelocation munger loc mungerloc resolved member resolvedmember super method supermethod lazy method gen lazymethodgen sub method submethod super method supermethod is static isstatic sub method submethod is static isstatic error weaver instance method sub method submethod get name getname sub method submethod get parameter signature getparametersignature override method super method supermethod get declaring type getdeclaringtype get name getname sub method submethod get source location getsourcelocation isource location isourcelocation munger loc mungerloc super method supermethod is static isstatic sub method submethod is static isstatic error weaver method sub method submethod get name getname sub method submethod get parameter signature getparametersignature hide instance method super method supermethod get declaring type getdeclaringtype get name getname sub method submethod get source location getsourcelocation isource location isourcelocation munger loc mungerloc error bcel class weaver bcelclassweaver weaver string text isource location isourcelocation primary loc primaryloc isource location isourcelocation extra locs extralocs imessage msg message text primary loc primaryloc extra locs extralocs weaver get world getworld get message handler getmessagehandler handle message handlemessage msg lazy method gen lazymethodgen find matching method findmatchingmethod lazy class gen lazyclassgen new parent target newparenttarget resolved member resolvedmember lazy method gen lazymethodgen don comparison overriding doesnt iterator new parent target newparenttarget get method gens getmethodgens iterator has next hasnext lazy method gen lazymethodgen gen lazy method gen lazymethodgen gen get name getname equals get name getname gen get parameter signature getparametersignature equals get parameter signature getparametersignature gen main implementing declare parents modify ctor calls target type attempt to modify super calls attempttomodifysupercalls bcel class weaver bcelclassweaver weaver lazy class gen lazyclassgen new parent target newparenttarget resolved type resolvedtype new parent newparent string current parent currentparent new parent target newparenttarget get super classname getsuperclassname target calls type raw parameterized new parent newparent get generic type getgenerictype new parent newparent new parent newparent get generic type getgenerictype list mgs new parent target newparenttarget get method gens getmethodgens ctors modify iterator iter mgs iterator iter has next hasnext lazy method gen lazymethodgen a method amethod lazy method gen lazymethodgen iter a method amethod get name getname equals init instruction list instructionlist ins list inslist a method amethod get body getbody instruction handle instructionhandle handle ins list inslist get start getstart handle handle get instruction getinstruction invokespecial constant pool gen constantpoolgen cpg new parent target newparenttarget get constant pool gen getconstantpoolgen invokespecial invoke special invokespecial invokespecial handle get instruction getinstruction invoke special invokespecial get class name getclassname cpg equals current parent currentparent invoke special invokespecial get method name getmethodname cpg equals init system err println transforming call init get signature getsignature cpg check ctor parent signature resolved member resolvedmember new ctor newctor get constructor with signature getconstructorwithsignature new parent newparent invoke special invokespecial get signature getsignature cpg new ctor newctor check itdcs ctor satisfied by itdc satisfiedbyitdc iterator new parent target newparenttarget get type gettype get inter type mungers including supers getintertypemungersincludingsupers iterator has next hasnext satisfied by itdc satisfiedbyitdc concrete type munger concretetypemunger concrete type munger concretetypemunger get munger getmunger new constructor type munger newconstructortypemunger get signature getsignature get signature getsignature equals invoke special invokespecial get signature getsignature cpg satisfied by itdc satisfiedbyitdc satisfied by itdc satisfiedbyitdc string csig create readable ctor sig createreadablectorsig new parent newparent cpg invoke special invokespecial weaver get world getworld get message handler getmessagehandler handle message handlemessage message util messageutil error unable modify hierarchy new parent target newparenttarget get class name getclassname constructor csig missing get source location getsourcelocation idx cpg add methodref addmethodref new parent newparent get name getname invoke special invokespecial get method name getmethodname cpg invoke special invokespecial get signature getsignature cpg invoke special invokespecial set index setindex idx handle handle get next getnext creates nice signature ctor integer string string create readable ctor sig createreadablectorsig resolved type resolvedtype new parent newparent constant pool gen constantpoolgen cpg invokespecial invoke special invokespecial string buffer stringbuffer string buffer stringbuffer type ctor args ctorargs invoke special invokespecial get argument types getargumenttypes cpg append new parent newparent get class name getclassname append ctor args ctorargs length string argtype ctor args ctorargs to string tostring argtype last index of lastindexof append argtype substring argtype last index of lastindexof append argtype ctor args ctorargs length append append to string tostring resolved member resolvedmember get constructor with signature getconstructorwithsignature resolved type resolvedtype string signature resolved member resolvedmember mems get declared java methods getdeclaredjavamethods mems length resolved member resolvedmember mems get name getname equals init get signature getsignature equals signature munge privileged access mungeprivilegedaccess bcel class weaver bcelclassweaver weaver privileged access munger privilegedaccessmunger munger lazy class gen lazyclassgen gen weaver get lazy class gen getlazyclassgen resolved member resolvedmember member munger get member getmember resolved type resolvedtype on type ontype weaver get world getworld resolve member get declaring type getdeclaringtype munger get source location getsourcelocation on type ontype is raw type israwtype on type ontype on type ontype get generic type getgenerictype system println munging gen member on type ontype equals gen get type gettype member get kind getkind member field system println matched gen add field getter addfieldgetter gen member ajc member maker ajcmembermaker privileged access method for field get privilegedaccessmethodforfieldget aspect type aspecttype member add field setter addfieldsetter gen member ajc member maker ajcmembermaker privileged access method for field set privilegedaccessmethodforfieldset aspect type aspecttype member member get kind getkind member method add method dispatch addmethoddispatch gen member ajc member maker ajcmembermaker privileged access method for method privilegedaccessmethodformethod aspect type aspecttype member member get kind getkind member constructor iterator gen get method gens getmethodgens iterator has next hasnext lazy method gen lazymethodgen lazy method gen lazymethodgen get member view getmemberview get member view getmemberview get kind getkind member constructor get member view getmemberview equals member force public forcepublic bcexception match member gen member get kind getkind member initialization gen force public forcepublic runtime exception runtimeexception unimplemented add field getter addfieldgetter lazy class gen lazyclassgen gen resolved member resolvedmember field resolved member resolvedmember access method accessmethod lazy method gen lazymethodgen make method gen makemethodgen gen access method accessmethod instruction list instructionlist instruction list instructionlist instruction factory instructionfactory fact gen get factory getfactory field is static isstatic append fact create field access createfieldaccess gen get class name getclassname field get name getname bcel world bcelworld make bcel type makebceltype field get type gettype constants getstatic append instruction constants instructionconstants aload append fact create field access createfieldaccess gen get class name getclassname field get name getname bcel world bcelworld make bcel type makebceltype field get type gettype constants getfield append instruction factory instructionfactory create return createreturn bcel world bcelworld make bcel type makebceltype field get type gettype get body getbody insert gen add method gen addmethodgen get signature getsignature get source location getsourcelocation add field setter addfieldsetter lazy class gen lazyclassgen gen resolved member resolvedmember field resolved member resolvedmember access method accessmethod lazy method gen lazymethodgen make method gen makemethodgen gen access method accessmethod instruction list instructionlist instruction list instructionlist instruction factory instructionfactory fact gen get factory getfactory type field type fieldtype bcel world bcelworld make bcel type makebceltype field get type gettype field is static isstatic append instruction factory instructionfactory create load createload field type fieldtype append fact create field access createfieldaccess gen get class name getclassname field get name getname field type fieldtype constants putstatic append instruction constants instructionconstants aload append instruction factory instructionfactory create load createload field type fieldtype append fact create field access createfieldaccess gen get class name getclassname field get name getname field type fieldtype constants putfield append instruction factory instructionfactory create return createreturn type get body getbody insert gen add method gen addmethodgen get signature getsignature get source location getsourcelocation add method dispatch addmethoddispatch lazy class gen lazyclassgen gen resolved member resolvedmember method resolved member resolvedmember access method accessmethod lazy method gen lazymethodgen make method gen makemethodgen gen access method accessmethod instruction list instructionlist instruction list instructionlist instruction factory instructionfactory fact gen get factory getfactory type field type fieldtype bcel world bcelworld make bcel type makebceltype field get type gettype type param types paramtypes bcel world bcelworld make bcel types makebceltypes method get parameter types getparametertypes pos method is static isstatic append instruction constants instructionconstants aload pos len param types paramtypes length len type param type paramtype param types paramtypes append instruction factory instructionfactory create load createload param type paramtype pos pos param type paramtype get size getsize append utility create invoke createinvoke fact bcel world bcelworld aspect type aspecttype get world getworld method append instruction factory instructionfactory create return createreturn bcel world bcelworld make bcel type makebceltype method get return type getreturntype get body getbody insert gen add method gen addmethodgen lazy method gen lazymethodgen make method gen makemethodgen lazy class gen lazyclassgen gen resolved member resolvedmember member lazy method gen lazymethodgen ret lazy method gen lazymethodgen member get modifiers getmodifiers bcel world bcelworld make bcel type makebceltype member get return type getreturntype member get name getname bcel world bcelworld make bcel types makebceltypes member get parameter types getparametertypes unresolved type unresolvedtype get names getnames member get exceptions getexceptions gen ret make synthetic makesynthetic ret field gen fieldgen make field gen makefieldgen lazy class gen lazyclassgen gen resolved member resolvedmember member field gen fieldgen member get modifiers getmodifiers bcel world bcelworld make bcel type makebceltype member get return type getreturntype member get name getname gen get constant pool gen getconstantpoolgen munge per object interface mungeperobjectinterface bcel class weaver bcelclassweaver weaver per object interface type munger perobjectinterfacetypemunger munger system err println munging perobject munger weaver get lazy class gen getlazyclassgen get class name getclassname lazy class gen lazyclassgen gen weaver get lazy class gen getlazyclassgen could match couldmatch gen get bcel object type getbcelobjecttype munger get test pointcut gettestpointcut field gen fieldgen make field gen makefieldgen gen ajc member maker ajcmembermaker per object field perobjectfield gen get type gettype aspect type aspecttype gen add field addfield get field getfield get source location getsourcelocation type field type fieldtype bcel world bcelworld make bcel type makebceltype aspect type aspecttype lazy method gen lazymethodgen lazy method gen lazymethodgen modifier field type fieldtype name mangler namemangler per object interface get perobjectinterfaceget aspect type aspecttype type string gen instruction list instructionlist instruction list instructionlist instruction factory instructionfactory fact gen get factory getfactory append instruction constants instructionconstants aload append fact create field access createfieldaccess gen get class name getclassname get name getname field type fieldtype constants getfield append instruction factory instructionfactory create return createreturn field type fieldtype get body getbody insert gen add method gen addmethodgen lazy method gen lazymethodgen lazy method gen lazymethodgen modifier type name mangler namemangler per object interface set perobjectinterfaceset aspect type aspecttype type field type fieldtype string gen instruction list instructionlist instruction list instructionlist append instruction constants instructionconstants aload append instruction factory instructionfactory create load createload field type fieldtype append fact create field access createfieldaccess gen get class name getclassname get name getname field type fieldtype constants putfield append instruction factory instructionfactory create return createreturn type get body getbody insert gen add method gen addmethodgen gen add interface addinterface munger get interface type getinterfacetype get source location getsourcelocation ptwimpl add field hold aspect instance accessor munge per type within transformer mungepertypewithintransformer bcel class weaver bcelclassweaver weaver lazy class gen lazyclassgen gen weaver get lazy class gen getlazyclassgen could match couldmatch gen get bcel object type getbcelobjecttype munger get test pointcut gettestpointcut add target type field hold aspect instance ajc blah security aspect securityaspect ptw aspect instance ptwaspectinstance field gen fieldgen make field gen makefieldgen gen ajc member maker ajcmembermaker per type within field pertypewithinfield gen get type gettype aspect type aspecttype gen add field addfield get field getfield get source location getsourcelocation add accessor field ajc aspectname local aspect of localaspectof method blah security aspect securityaspect ajc blah security aspect securityaspect local aspect of localaspectof type field type fieldtype bcel world bcelworld make bcel type makebceltype aspect type aspecttype lazy method gen lazymethodgen lazy method gen lazymethodgen modifier modifier field type fieldtype name mangler namemangler per type within local aspect of pertypewithinlocalaspectof aspect type aspecttype type string gen instruction list instructionlist instruction list instructionlist ptwimpl check no aspect bound exception noaspectboundexception instruction factory instructionfactory fact gen get factory getfactory append fact create field access createfieldaccess gen get class name getclassname get name getname field type fieldtype constants getstatic append instruction factory instructionfactory create return createreturn field type fieldtype get body getbody insert gen add method gen addmethodgen method thought matched could match couldmatch bcel object type bcelobjecttype bcel object type bcelobjecttype pointcut pointcut bcel object type bcelobjecttype is interface isinterface munge new method mungenewmethod bcel class weaver bcelclassweaver weaver new method type munger newmethodtypemunger munger weaver get world getworld resolving sort tvars resolved member resolvedmember un mangled inter method unmangledintermethod munger get signature getsignature resolve matching un mangled unmangled add mangled method resolved member resolvedmember inter method body intermethodbody munger get declared inter method body getdeclaredintermethodbody aspect type aspecttype resolved member resolvedmember inter method dispatcher intermethoddispatcher munger get declared inter method dispatcher getdeclaredintermethoddispatcher aspect type aspecttype resolved member resolvedmember member holding any annotations memberholdinganyannotations inter method dispatcher intermethoddispatcher resolved type resolvedtype on type ontype weaver get world getworld resolve un mangled inter method unmangledintermethod get declaring type getdeclaringtype munger get source location getsourcelocation lazy class gen lazyclassgen gen weaver get lazy class gen getlazyclassgen munging interface munginginterface gen is interface isinterface on type ontype is raw type israwtype on type ontype on type ontype get generic type getgenerictype on interface oninterface on type ontype is interface isinterface simple checks annotations enums on type ontype is annotation isannotation signal error signalerror weaver messages weavermessages itdm annotation allowed weaver on type ontype on type ontype is enum isenum signal error signalerror weaver messages weavermessages itdm enum allowed weaver on type ontype on interface oninterface gen get lazy method gen getlazymethodgen un mangled inter method unmangledintermethod get name getname un mangled inter method unmangledintermethod get signature getsignature target declared processing intended target type on type ontype equals gen get type gettype resolved member resolvedmember mangled inter method mangledintermethod ajc member maker ajcmembermaker inter method intermethod un mangled inter method unmangledintermethod aspect type aspecttype on interface oninterface lazy method gen lazymethodgen new method newmethod make method gen makemethodgen gen mangled inter method mangledintermethod munging interface munginginterface modifiers implementors method add new method newmethod set access flags setaccessflags modifier modifier holding weaver get world getworld is in java isinjava mode annotation x annotationx annotations on real member annotationsonrealmember resolved type resolvedtype to look on tolookon aspect type aspecttype aspect type aspecttype is raw type israwtype to look on tolookon aspect type aspecttype get generic type getgenerictype resolved member resolvedmember real member realmember get real member for itdfrom aspect getrealmemberforitdfromaspect to look on tolookon member holding any annotations memberholdinganyannotations real member realmember bcexception couldn find holder member member holding any annotations memberholdinganyannotations aspect aspect type aspecttype annotations on real member annotationsonrealmember real member realmember get annotations getannotations annotations on real member annotationsonrealmember annotations on real member annotationsonrealmember length annotation x annotationx annotation x annotationx annotations on real member annotationsonrealmember annotation annotation x annotationx get bcel annotation getbcelannotation annotation gen annotationgen annotation gen annotationgen weaver get lazy class gen getlazyclassgen get constant pool gen getconstantpoolgen new method newmethod add annotation addannotation annotation x annotationx get annotation getannotation weaver get world getworld loop fixes special stupid aspect declares annotation declared list all decams alldecams weaver get world getworld get declare annotation on methods getdeclareannotationonmethods iterator all decams alldecams iterator has next hasnext declare annotation declareannotation deca mc decamc declare annotation declareannotation deca mc decamc matches un mangled inter method unmangledintermethod weaver get world getworld new method newmethod get enclosing class getenclosingclass get type gettype aspect type aspecttype new method newmethod add annotation addannotation deca mc decamc get annotation x getannotationx doesn target body isnt on interface oninterface modifier is abstract isabstract mangled inter method mangledintermethod get modifiers getmodifiers instruction list instructionlist body new method newmethod get body getbody instruction factory instructionfactory fact gen get factory getfactory pos un mangled inter method unmangledintermethod is static isstatic body append instruction factory instructionfactory create this createthis pos type param types paramtypes bcel world bcelworld make bcel types makebceltypes mangled inter method mangledintermethod get parameter types getparametertypes len param types paramtypes length len type param type paramtype param types paramtypes body append instruction factory instructionfactory create load createload param type paramtype pos pos param type paramtype get size getsize body append utility create invoke createinvoke fact weaver get world getworld inter method body intermethodbody body append instruction factory instructionfactory create return createreturn bcel world bcelworld make bcel type makebceltype mangled inter method mangledintermethod get return type getreturntype don bridge methods mode weaver get world getworld is in java isinjava mode create any bridge methods for covariance createanybridgemethodsforcovariance weaver munger un mangled inter method unmangledintermethod on type ontype gen param types paramtypes get body getbody runtime exception runtimeexception bas xxx check exceptions properly guy weaver add lazy method gen addlazymethodgen new method newmethod weaver get lazy class gen getlazyclassgen warn on added method warnonaddedmethod new method newmethod get method getmethod get signature getsignature get source location getsourcelocation add needed super call methods addneededsupercallmethods weaver on type ontype munger get super methods called getsupermethodscalled on interface oninterface modifier is abstract isabstract un mangled inter method unmangledintermethod get modifiers getmodifiers top implementor gen get type gettype is topmost implementor istopmostimplementor on type ontype resolved type resolvedtype rtx gen get type gettype get topmost implementor gettopmostimplementor on type ontype rtx is exposed to weaver isexposedtoweaver isource location isourcelocation s loc sloc munger get source location getsourcelocation weaver get world getworld get message handler getmessagehandler handle message handlemessage message util messageutil error weaver messages weavermessages format weaver messages weavermessages exposed implementor rtx get aspect type getaspecttype get name getname s loc sloc get aspect type getaspecttype get source location getsourcelocation s loc sloc xxx incorrectly identified top implementor type wasn exposed weaver resolved member resolvedmember mangled inter method mangledintermethod ajc member maker ajcmembermaker inter method intermethod un mangled inter method unmangledintermethod aspect type aspecttype lazy method gen lazymethodgen make method gen makemethodgen gen mangled inter method mangledintermethod copy annotations weaver get world getworld is in java isinjava mode annotation x annotationx annotations on real member annotationsonrealmember resolved type resolvedtype to look on tolookon aspect type aspecttype aspect type aspecttype is raw type israwtype to look on tolookon aspect type aspecttype get generic type getgenerictype resolved member resolvedmember real member realmember get real member for itdfrom aspect getrealmemberforitdfromaspect to look on tolookon member holding any annotations memberholdinganyannotations real member realmember bcexception couldn find holder member member holding any annotations memberholdinganyannotations aspect aspect type aspecttype annotations on real member annotationsonrealmember real member realmember get annotations getannotations annotations on real member annotationsonrealmember annotations on real member annotationsonrealmember length annotation x annotationx annotation x annotationx annotations on real member annotationsonrealmember annotation annotation x annotationx get bcel annotation getbcelannotation annotation gen annotationgen annotation gen annotationgen weaver get lazy class gen getlazyclassgen get constant pool gen getconstantpoolgen add annotation addannotation annotation x annotationx get annotation getannotation weaver get world getworld munging interface munginginterface modifiers implementors method add set access flags setaccessflags modifier modifier type param types paramtypes bcel world bcelworld make bcel types makebceltypes mangled inter method mangledintermethod get parameter types getparametertypes type return type returntype bcel world bcelworld make bcel type makebceltype mangled inter method mangledintermethod get return type getreturntype instruction list instructionlist body get body getbody instruction factory instructionfactory fact gen get factory getfactory pos mangled inter method mangledintermethod is static isstatic body append instruction factory instructionfactory create this createthis pos len param types paramtypes length len type param type paramtype param types paramtypes body append instruction factory instructionfactory create load createload param type paramtype pos pos param type paramtype get size getsize body append utility create invoke createinvoke fact weaver get world getworld inter method body intermethodbody type bcel world bcelworld make bcel type makebceltype inter method body intermethodbody get return type getreturntype equals return type returntype body append fact create cast createcast return type returntype body append instruction factory instructionfactory create return createreturn return type returntype defining type definingtype on type ontype weaver add or replace lazy method gen addorreplacelazymethodgen add needed super call methods addneededsupercallmethods weaver on type ontype munger get super methods called getsupermethodscalled work bridge method method topmostimplementor check munger processed parameterized form original munger munger get declared signature getdeclaredsignature needsbridging resolved member resolvedmember to bridge to tobridgeto munger get declared signature getdeclaredsignature parameterized with parameterizedwith munger get signature getsignature get declaring type getdeclaringtype resolve get world getworld munger get type variable aliases gettypevariablealiases to bridge to tobridgeto get return type getreturntype get erasure signature geterasuresignature equals munger get signature getsignature get return type getreturntype get erasure signature geterasuresignature needsbridging unresolved type unresolvedtype original params originalparams to bridge to tobridgeto get parameter types getparametertypes unresolved type unresolvedtype new params newparams munger get signature getsignature get parameter types getparametertypes original params originalparams length original params originalparams get erasure signature geterasuresignature equals new params newparams get erasure signature geterasuresignature needsbridging to bridge to tobridgeto needsbridging resolved member resolvedmember bridger method bridgermethod ajc member maker ajcmembermaker bridger to inter method bridgertointermethod un mangled inter method unmangledintermethod gen get type gettype resolved member resolvedmember bridging setter bridgingsetter ajc member maker ajcmembermaker inter method intermethod to bridge to tobridgeto aspect type aspecttype fixme asc extract method lazy method gen lazymethodgen bridge method bridgemethod make method gen makemethodgen gen bridging setter bridgingsetter param types paramtypes bcel world bcelworld make bcel types makebceltypes bridging setter bridgingsetter get parameter types getparametertypes type bridging to parms bridgingtoparms bcel world bcelworld make bcel types makebceltypes un mangled inter method unmangledintermethod get parameter types getparametertypes return type returntype bcel world bcelworld make bcel type makebceltype bridging setter bridgingsetter get return type getreturntype body bridge method bridgemethod get body getbody fact gen get factory getfactory pos bridging setter bridgingsetter is static isstatic body append instruction factory instructionfactory create this createthis pos len param types paramtypes length len type param type paramtype param types paramtypes body append instruction factory instructionfactory create load createload param type paramtype pos bridging setter bridgingsetter get parameter types getparametertypes get erasure signature geterasuresignature equals un mangled inter method unmangledintermethod get parameter types getparametertypes get erasure signature geterasuresignature system err println putting param type paramtype bridging to parms bridgingtoparms body append fact create cast createcast param type paramtype bridging to parms bridgingtoparms pos param type paramtype get size getsize body append utility create invoke createinvoke fact weaver get world getworld bridger method bridgermethod body append instruction factory instructionfactory create return createreturn return type returntype gen add method gen addmethodgen bridge method bridgemethod defining type definingtype on type ontype fixme asc extract method create bridge method required covariant returns method applied type override relationship method supertype covariance mismatch values required defines object string defines string string bridge method called object string forwards string string create any bridge methods for covariance createanybridgemethodsforcovariance bcel class weaver bcelclassweaver weaver new method type munger newmethodtypemunger munger resolved member resolvedmember un mangled inter method unmangledintermethod resolved type resolvedtype on type ontype lazy class gen lazyclassgen gen type param types paramtypes performance bottleneck investigating method analysis types hierarchy expensive covariance bridging algorithm step check type created bridge method step override method differ type covariance step create forwarding bridge method resolved type resolvedtype superclass on type ontype get superclass getsuperclass quit right now quitrightnow string local method name localmethodname un mangled inter method unmangledintermethod get name getname string local parameter sig localparametersig un mangled inter method unmangledintermethod get parameter signature getparametersignature string local return type esig localreturntypeesig un mangled inter method unmangledintermethod get return type getreturntype get erasure signature geterasuresignature step compiler already done alreadydone resolved member resolvedmember local methods localmethods on type ontype get declared methods getdeclaredmethods local methods localmethods length resolved member resolvedmember member local methods localmethods member get name getname equals local method name localmethodname check params member get parameter signature getparametersignature equals local parameter sig localparametersig already done alreadydone step already done alreadydone iterator form get methods getmethods work iterator iter on type ontype get superclass getsuperclass get methods getmethods iter has next hasnext quit right now quitrightnow resolved member resolvedmember a method amethod resolved member resolvedmember iter a method amethod get name getname equals local method name localmethodname a method amethod get parameter signature getparametersignature equals local parameter sig localparametersig check types bridging method a method amethod get return type getreturntype get erasure signature geterasuresignature equals local return type esig localreturntypeesig modifier is private isprivate a method amethod get modifiers getmodifiers step create bridge method createbridgemethod weaver get world getworld munger un mangled inter method unmangledintermethod gen param types paramtypes a method amethod quit right now quitrightnow create bridge method munger param param munger param un mangled inter method unmangledintermethod method bridge created subtype param clazz bridge method param param types paramtypes parameter types bridge method passed optimization caller created param the bridge method thebridgemethod create bridge method createbridgemethod bcel world bcelworld new method type munger newmethodtypemunger munger resolved member resolvedmember un mangled inter method unmangledintermethod lazy class gen lazyclassgen clazz type param types paramtypes resolved member resolvedmember the bridge method thebridgemethod instruction list instructionlist body instruction factory instructionfactory fact pos bridge method type signature supertype lazy method gen lazymethodgen bridge method bridgemethod make method gen makemethodgen clazz the bridge method thebridgemethod bridge method bridgemethod set access flags setaccessflags bridge method bridgemethod get access flags getaccessflags unresolved type unresolvedtype new params newparams munger get signature getsignature get parameter types getparametertypes type return type returntype bcel world bcelworld make bcel type makebceltype the bridge method thebridgemethod get return type getreturntype body bridge method bridgemethod get body getbody fact clazz get factory getfactory un mangled inter method unmangledintermethod is static isstatic body append instruction factory instructionfactory create this createthis pos len param types paramtypes length len type param type paramtype param types paramtypes body append instruction factory instructionfactory create load createload param type paramtype pos bridging setter bridgingsetter get parameter types getparametertypes get erasure signature geterasuresignature equals un mangled inter method unmangledintermethod get parameter types getparametertypes get erasure signature geterasuresignature system err println putting param type paramtype bridging to parms bridgingtoparms body append fact create cast createcast param type paramtype bridging to parms bridgingtoparms pos param type paramtype get size getsize body append utility create invoke createinvoke fact un mangled inter method unmangledintermethod body append instruction factory instructionfactory create return createreturn return type returntype clazz add method gen addmethodgen bridge method bridgemethod munge method delegate mungemethoddelegate bcel class weaver bcelclassweaver weaver method delegate type munger methoddelegatetypemunger munger resolved member resolvedmember introduced munger get signature getsignature lazy class gen lazyclassgen gen weaver get lazy class gen getlazyclassgen resolved type resolvedtype from type fromtype weaver get world getworld resolve introduced get declaring type getdeclaringtype munger get source location getsourcelocation from type fromtype is raw type israwtype from type fromtype from type fromtype get generic type getgenerictype gen get type gettype is annotation isannotation gen get type gettype is enum isenum don signal error consequence wild type pattern should apply shouldapply munger matches weaver get lazy class gen getlazyclassgen get type gettype aspect type aspecttype should apply shouldapply lazy method gen lazymethodgen lazy method gen lazymethodgen introduced get modifiers getmodifiers modifier bcel world bcelworld make bcel type makebceltype introduced get return type getreturntype introduced get name getname bcel world bcelworld make bcel types makebceltypes introduced get parameter types getparametertypes bcel world bcelworld make bcel types as class names makebceltypesasclassnames introduced get exceptions getexceptions gen annotation copy annotation weaver get world getworld is in java isinjava mode annotation x annotationx annotations on real member annotationsonrealmember resolved type resolvedtype to look on tolookon weaver get world getworld lookup or create name lookuporcreatename introduced get declaring type getdeclaringtype from type fromtype is raw type israwtype to look on tolookon from type fromtype get generic type getgenerictype lookup method resolved member resolvedmember to look on tolookon get declared java methods getdeclaredjavamethods length resolved member resolvedmember introduced get name getname equals get name getname introduced get signature getsignature equals get signature getsignature annotations on real member annotationsonrealmember get annotations getannotations annotations on real member annotationsonrealmember annotations on real member annotationsonrealmember length annotation x annotationx annotation x annotationx annotations on real member annotationsonrealmember annotation annotation x annotationx get bcel annotation getbcelannotation annotation gen annotationgen annotation gen annotationgen weaver get lazy class gen getlazyclassgen get constant pool gen getconstantpoolgen add annotation addannotation annotation x annotationx get annotation getannotation weaver get world getworld instruction list instructionlist body instruction list instructionlist instruction factory instructionfactory fact gen get factory getfactory getfield body append instruction constants instructionconstants aload body append utility create get createget fact munger get delegate getdelegate weaver get lazy class gen getlazyclassgen get type gettype branch instruction branchinstruction if non null ifnonnull instruction factory instructionfactory create branch instruction createbranchinstruction constants ifnonnull body append if non null ifnonnull create store instance body append instruction constants instructionconstants aload body append fact create new createnew munger get impl class name getimplclassname body append instruction constants instructionconstants dup body append fact create invoke createinvoke munger get impl class name getimplclassname init type type args constants invokespecial body append utility create set createset fact munger get delegate getdelegate weaver get lazy class gen getlazyclassgen get type gettype instance instruction handle instructionhandle if non null else ifnonnullelse body append instruction constants instructionconstants aload if non null ifnonnull set target settarget if non null else ifnonnullelse body append utility create get createget fact munger get delegate getdelegate weaver get lazy class gen getlazyclassgen get type gettype args pos skip happen introduced is static isstatic body append instruction factory instructionfactory create this createthis pos type param types paramtypes bcel world bcelworld make bcel types makebceltypes introduced get parameter types getparametertypes len param types paramtypes length len type param type paramtype param types paramtypes body append instruction factory instructionfactory create load createload param type paramtype pos pos param type paramtype get size getsize body append utility create invoke createinvoke fact constants invokeinterface introduced body append instruction factory instructionfactory create return createreturn bcel world bcelworld make bcel type makebceltype introduced get return type getreturntype get body getbody append body xxx check exceptions properly guy weaver add lazy method gen addlazymethodgen weaver get lazy class gen getlazyclassgen warn on added method warnonaddedmethod get method getmethod get signature getsignature get source location getsourcelocation munge field host mungefieldhost bcel class weaver bcelclassweaver weaver method delegate type munger methoddelegatetypemunger field host type munger fieldhosttypemunger munger lazy class gen lazyclassgen gen weaver get lazy class gen getlazyclassgen gen get type gettype is annotation isannotation gen get type gettype is enum isenum don signal error consequence wild type pattern should apply shouldapply munger matches weaver get lazy class gen getlazyclassgen get type gettype aspect type aspecttype resolved member resolvedmember host ajc member maker ajcmembermaker itd at declare parents field itdatdeclareparentsfield weaver get lazy class gen getlazyclassgen get type gettype munger get signature getsignature get type gettype aspect type aspecttype weaver get lazy class gen getlazyclassgen add field addfield make field gen makefieldgen weaver get lazy class gen getlazyclassgen host get field getfield resolved member resolvedmember get real member for itdfrom aspect getrealmemberforitdfromaspect resolved type resolvedtype aspect type aspecttype resolved member resolvedmember looking for lookingfor is ctor related isctorrelated aspect type aspecttype get world getworld debug debug system err println searching member type aspect type aspecttype system err println member looking for lookingfor resolved member resolvedmember aspect methods aspectmethods aspect type aspecttype get declared methods getdeclaredmethods unresolved type unresolvedtype looking for params lookingforparams looking for lookingfor get parameter types getparametertypes resolved member resolvedmember real member realmember real member realmember aspect methods aspectmethods length resolved member resolvedmember member aspect methods aspectmethods member get name getname equals looking for lookingfor get name getname unresolved type unresolvedtype member params memberparams member get generic parameter types getgenericparametertypes member params memberparams length looking for params lookingforparams length debug system err println reviewing potential candidates member match ok matchok erasure is ctor related isctorrelated member params memberparams length match ok matchok resolved type resolvedtype p member pmember member params memberparams resolve resolved type resolvedtype p looking for plookingfor looking for params lookingforparams resolve p member pmember is type variable reference istypevariablereference p member pmember type variable reference typevariablereference p member pmember get type variable gettypevariable get first bound getfirstbound resolve p member pmember is parameterized type isparameterizedtype p member pmember is generic type isgenerictype p member pmember p member pmember get raw type getrawtype resolve aspect type aspecttype get world getworld p looking for plookingfor is type variable reference istypevariablereference p looking for plookingfor type variable reference typevariablereference p looking for plookingfor get type variable gettypevariable get first bound getfirstbound resolve p looking for plookingfor is parameterized type isparameterizedtype p looking for plookingfor is generic type isgenerictype p looking for plookingfor p looking for plookingfor get raw type getrawtype resolve debug system err println comparing parameter member p member pmember looking for lookingfor p looking for plookingfor p member pmember equals p looking for plookingfor match ok matchok match ok matchok real member realmember member debug real member realmember system err println didn find match real member realmember add needed super call methods addneededsupercallmethods bcel class weaver bcelclassweaver weaver resolved type resolvedtype on type ontype needed super calls neededsupercalls lazy class gen lazyclassgen gen weaver get lazy class gen getlazyclassgen iterator iter needed super calls neededsupercalls iterator iter has next hasnext resolved member resolvedmember super method supermethod resolved member resolvedmember iter weaver add dispatch target adddispatchtarget super method supermethod system err println type super method supermethod get declaring type getdeclaringtype gen get type gettype is super issuper super method supermethod get declaring type getdeclaringtype equals gen get type gettype string dispatch name dispatchname is super issuper dispatch name dispatchname name mangler namemangler super dispatch method superdispatchmethod on type ontype super method supermethod get name getname dispatch name dispatchname name mangler namemangler protected dispatch method protecteddispatchmethod on type ontype super method supermethod get name getname lazy method gen lazymethodgen dispatcher make dispatcher makedispatcher gen dispatch name dispatchname super method supermethod weaver get world getworld is super issuper weaver add lazy method gen addlazymethodgen dispatcher signal error signalerror string msgid bcel class weaver bcelclassweaver weaver unresolved type unresolvedtype on type ontype imessage msg message util messageutil error weaver messages weavermessages format msgid on type ontype get name getname get source location getsourcelocation weaver get world getworld get message handler getmessagehandler handle message handlemessage msg munge new constructor mungenewconstructor bcel class weaver bcelclassweaver weaver new constructor type munger newconstructortypemunger new constructor type munger newconstructortypemunger lazy class gen lazyclassgen current class currentclass weaver get lazy class gen getlazyclassgen instruction factory instructionfactory fact current class currentclass get factory getfactory resolved member resolvedmember new constructor member newconstructormember new constructor type munger newconstructortypemunger get synthetic constructor getsyntheticconstructor resolved type resolvedtype on type ontype new constructor member newconstructormember get declaring type getdeclaringtype resolve weaver get world getworld on type ontype is raw type israwtype on type ontype on type ontype get generic type getgenerictype on type ontype is annotation isannotation signal error signalerror weaver messages weavermessages itdc annotation allowed weaver on type ontype on type ontype is enum isenum signal error signalerror weaver messages weavermessages itdc enum allowed weaver on type ontype on type ontype equals current class currentclass get type gettype resolved member resolvedmember explicit constructor explicitconstructor new constructor type munger newconstructortypemunger get explicit constructor getexplicitconstructor declared parameter count declaredparametercount new constructor type munger newconstructortypemunger get declared parameter count getdeclaredparametercount lazy method gen lazymethodgen make method gen makemethodgen current class currentclass new constructor member newconstructormember set effective signature seteffectivesignature new constructor type munger newconstructortypemunger get signature getsignature shadow constructor execution constructorexecution holding weaver get world getworld is in java isinjava mode resolved member resolvedmember inter method dispatcher intermethoddispatcher ajc member maker ajcmembermaker post introduced constructor postintroducedconstructor aspect type aspecttype on type ontype new constructor type munger newconstructortypemunger get signature getsignature get parameter types getparametertypes annotation x annotationx annotations on real member annotationsonrealmember resolved member resolvedmember real member realmember get real member for itdfrom aspect getrealmemberforitdfromaspect aspect type aspecttype inter method dispatcher intermethoddispatcher real member realmember bcexception couldn find holder member inter method dispatcher intermethoddispatcher aspect aspect type aspecttype annotations on real member annotationsonrealmember real member realmember get annotations getannotations annotations on real member annotationsonrealmember annotations on real member annotationsonrealmember length annotation x annotationx annotation x annotationx annotations on real member annotationsonrealmember annotation annotation x annotationx get bcel annotation getbcelannotation annotation gen annotationgen annotation gen annotationgen weaver get lazy class gen getlazyclassgen get constant pool gen getconstantpoolgen add annotation addannotation annotation x annotationx get annotation getannotation weaver get world getworld loop fixes special stupid aspect declares annotation declared list all decams alldecams weaver get world getworld get declare annotation on methods getdeclareannotationonmethods iterator all decams alldecams iterator has next hasnext declare annotation declareannotation deca mc decamc declare annotation declareannotation deca mc decamc matches explicit constructor explicitconstructor weaver get world getworld get enclosing class getenclosingclass get type gettype aspect type aspecttype add annotation addannotation deca mc decamc get annotation x getannotationx current class currentclass add method gen addmethodgen weaver add lazy method gen addlazymethodgen fresh constructor freshconstructor instruction list instructionlist body get body getbody add body push arts call pre actual args starting skipping declared argcount unresolved type unresolvedtype declared params declaredparams new constructor type munger newconstructortypemunger get signature getsignature get parameter types getparametertypes type param types paramtypes get argument types getargumenttypes frame index frameindex len declared params declaredparams length len body append instruction factory instructionfactory create load createload param types paramtypes frame index frameindex frame index frameindex param types paramtypes get size getsize call pre member pre method premethod ajc member maker ajcmembermaker pre introduced constructor preintroducedconstructor aspect type aspecttype on type ontype declared params declaredparams body append utility create invoke createinvoke fact pre method premethod create local store pre stuff array slot arrayslot allocate local allocatelocal body append instruction factory instructionfactory create store createstore type object array slot arrayslot stack body append instruction constants instructionconstants aload unpack pre args stack unresolved type unresolvedtype super param types superparamtypes explicit constructor explicitconstructor get parameter types getparametertypes len super param types superparamtypes length len body append instruction factory instructionfactory create load createload type object array slot arrayslot body append utility create constant createconstant fact body append instruction factory instructionfactory create array load createarrayload type object body append utility create conversion createconversion fact type object bcel world bcelworld make bcel type makebceltype super param types superparamtypes call body append utility create invoke createinvoke fact explicit constructor explicitconstructor stack body append instruction constants instructionconstants aload unpack params stack member post method postmethod ajc member maker ajcmembermaker post introduced constructor postintroducedconstructor aspect type aspecttype on type ontype declared params declaredparams unresolved type unresolvedtype post param types postparamtypes post method postmethod get parameter types getparametertypes len post param types postparamtypes length len body append instruction factory instructionfactory create load createload type object array slot arrayslot body append utility create constant createconstant fact super param types superparamtypes length body append instruction factory instructionfactory create array load createarrayload type object body append utility create conversion createconversion fact type object bcel world bcelworld make bcel type makebceltype post param types postparamtypes call post body append utility create invoke createinvoke fact post method postmethod don forget body append instruction constants instructionconstants lazy method gen lazymethodgen make dispatcher makedispatcher lazy class gen lazyclassgen on gen ongen string dispatch name dispatchname resolved member resolvedmember super method supermethod bcel world bcelworld is super issuper type param types paramtypes bcel world bcelworld make bcel types makebceltypes super method supermethod get parameter types getparametertypes type return type returntype bcel world bcelworld make bcel type makebceltype super method supermethod get return type getreturntype modifiers modifier on gen ongen is interface isinterface modifiers modifier lazy method gen lazymethodgen lazy method gen lazymethodgen modifiers return type returntype dispatch name dispatchname param types paramtypes unresolved type unresolvedtype get names getnames super method supermethod get exceptions getexceptions on gen ongen instruction list instructionlist body get body getbody on gen ongen is interface isinterface super method supermethod is static isstatic instruction factory instructionfactory fact on gen ongen get factory getfactory pos body append instruction factory instructionfactory create this createthis pos len param types paramtypes length len type param type paramtype param types paramtypes body append instruction factory instructionfactory create load createload param type paramtype pos pos param type paramtype get size getsize is super issuper body append utility create super invoke createsuperinvoke fact super method supermethod body append utility create invoke createinvoke fact super method supermethod body append instruction factory instructionfactory create return createreturn return type returntype munge new field mungenewfield bcel class weaver bcelclassweaver weaver new field type munger newfieldtypemunger munger resolved member resolvedmember init method initmethod munger get init method getinitmethod aspect type aspecttype lazy class gen lazyclassgen gen weaver get lazy class gen getlazyclassgen resolved member resolvedmember field munger get signature getsignature resolved type resolvedtype on type ontype weaver get world getworld resolve field get declaring type getdeclaringtype munger get source location getsourcelocation on type ontype is raw type israwtype on type ontype on type ontype get generic type getgenerictype on interface oninterface on type ontype is interface isinterface on type ontype is annotation isannotation signal error signalerror weaver messages weavermessages itdf annotation allowed weaver on type ontype on type ontype is enum isenum signal error signalerror weaver messages weavermessages itdf enum allowed weaver on type ontype resolved member resolvedmember inter method body intermethodbody munger get init method getinitmethod aspect type aspecttype annotation x annotationx annotations on real member annotationsonrealmember holding weaver get world getworld is in java isinjava mode method aspect type aspecttype get declared methods getdeclaredmethods resolved type resolvedtype to look on tolookon aspect type aspecttype aspect type aspecttype is raw type israwtype to look on tolookon aspect type aspecttype get generic type getgenerictype resolved member resolvedmember real member realmember get real member for itdfrom aspect getrealmemberforitdfromaspect to look on tolookon inter method body intermethodbody real member realmember bcexception couldn find init member inter method body intermethodbody aspect aspect type aspecttype annotations on real member annotationsonrealmember real member realmember get annotations getannotations on type ontype equals gen get type gettype on interface oninterface resolved member resolvedmember itdfield getter itdfieldgetter ajc member maker ajcmembermaker inter field interface getter interfieldinterfacegetter field on type ontype aspect type aspecttype lazy method gen lazymethodgen make method gen makemethodgen gen itdfield getter itdfieldgetter gen add method gen addmethodgen lazy method gen lazymethodgen make method gen makemethodgen gen ajc member maker ajcmembermaker inter field interface setter interfieldinterfacesetter field on type ontype aspect type aspecttype gen add method gen addmethodgen weaver add initializer addinitializer field gen fieldgen make field gen makefieldgen gen ajc member maker ajcmembermaker inter field class field interfieldclassfield field aspect type aspecttype annotations on real member annotationsonrealmember annotations on real member annotationsonrealmember length annotation x annotationx annotation x annotationx annotations on real member annotationsonrealmember annotation annotation x annotationx get bcel annotation getbcelannotation annotation gen annotationgen annotation gen annotationgen weaver get lazy class gen getlazyclassgen get constant pool gen getconstantpoolgen add annotation addannotation gen add field addfield get field getfield get source location getsourcelocation on interface oninterface gen get type gettype is topmost implementor istopmostimplementor on type ontype wew don statics interfaces field is static isstatic runtime exception runtimeexception unimplemented weaver add initializer addinitializer system err println impl body gen get type gettype munger type field type fieldtype bcel world bcelworld make bcel type makebceltype field get type gettype field gen fieldgen make field gen makefieldgen gen ajc member maker ajcmembermaker inter field interface field interfieldinterfacefield field on type ontype aspect type aspecttype annotations on real member annotationsonrealmember annotations on real member annotationsonrealmember length annotation x annotationx annotation x annotationx annotations on real member annotationsonrealmember annotation annotation x annotationx get bcel annotation getbcelannotation annotation gen annotationgen annotation gen annotationgen weaver get lazy class gen getlazyclassgen get constant pool gen getconstantpoolgen add annotation addannotation gen add field addfield get field getfield get source location getsourcelocation shadow munger add init method constructors weaver get shadow mungers getshadowmungers add make init call shadow munger makeinitcallshadowmunger init method initmethod resolved member resolvedmember itdfield getter itdfieldgetter ajc member maker ajcmembermaker inter field interface getter interfieldinterfacegetter field gen get type gettype on type ontype aspect type aspecttype lazy method gen lazymethodgen make method gen makemethodgen gen itdfield getter itdfieldgetter instruction list instructionlist instruction list instructionlist instruction factory instructionfactory fact gen get factory getfactory field is static isstatic append fact create field access createfieldaccess gen get class name getclassname get name getname field type fieldtype constants getstatic append instruction constants instructionconstants aload append fact create field access createfieldaccess gen get class name getclassname get name getname field type fieldtype constants getfield append instruction factory instructionfactory create return createreturn field type fieldtype get body getbody insert gen add method gen addmethodgen check bridge methods field getter setter munger parameterized form original munger munger get declared signature getdeclaredsignature resolved member resolvedmember to bridge to tobridgeto munger get declared signature getdeclaredsignature parameterized with parameterizedwith munger get signature getsignature get declaring type getdeclaringtype resolve get world getworld munger get type variable aliases gettypevariablealiases needsbridging to bridge to tobridgeto get return type getreturntype get erasure signature geterasuresignature equals munger get signature getsignature get return type getreturntype get erasure signature geterasuresignature needsbridging to bridge to tobridgeto needsbridging resolved member resolvedmember bridging getter bridginggetter ajc member maker ajcmembermaker inter field interface getter interfieldinterfacegetter to bridge to tobridgeto gen get type gettype aspect type aspecttype create bridge method for itdf createbridgemethodforitdf weaver gen itdfield getter itdfieldgetter bridging getter bridginggetter resolved member resolvedmember itdfield setter itdfieldsetter ajc member maker ajcmembermaker inter field interface setter interfieldinterfacesetter field gen get type gettype aspect type aspecttype lazy method gen lazymethodgen make method gen makemethodgen gen itdfield setter itdfieldsetter instruction list instructionlist instruction list instructionlist field is static isstatic append instruction factory instructionfactory create load createload field type fieldtype append fact create field access createfieldaccess gen get class name getclassname get name getname field type fieldtype constants putstatic append instruction constants instructionconstants aload append instruction factory instructionfactory create load createload field type fieldtype append fact create field access createfieldaccess gen get class name getclassname get name getname field type fieldtype constants putfield append instruction factory instructionfactory create return createreturn type get body getbody insert gen add method gen addmethodgen munger get declared signature getdeclaredsignature resolved member resolvedmember to bridge to tobridgeto munger get declared signature getdeclaredsignature parameterized with parameterizedwith munger get signature getsignature get declaring type getdeclaringtype resolve get world getworld munger get type variable aliases gettypevariablealiases needsbridging to bridge to tobridgeto get return type getreturntype get erasure signature geterasuresignature equals munger get signature getsignature get return type getreturntype get erasure signature geterasuresignature needsbridging to bridge to tobridgeto needsbridging resolved member resolvedmember bridging setter bridgingsetter ajc member maker ajcmembermaker inter field interface setter interfieldinterfacesetter to bridge to tobridgeto gen get type gettype aspect type aspecttype create bridge method for itdf createbridgemethodforitdf weaver gen itdfield setter itdfieldsetter bridging setter bridgingsetter fixme asc combine create bridge createbridge method avoid duplication create bridge method for itdf createbridgemethodforitdf bcel class weaver bcelclassweaver weaver lazy class gen lazyclassgen gen resolved member resolvedmember itdfield setter itdfieldsetter resolved member resolvedmember bridging setter bridgingsetter instruction factory instructionfactory fact lazy method gen lazymethodgen bridge method bridgemethod make method gen makemethodgen gen bridging setter bridgingsetter type param types paramtypes bcel world bcelworld make bcel types makebceltypes bridging setter bridgingsetter get parameter types getparametertypes type bridging to parms bridgingtoparms bcel world bcelworld make bcel types makebceltypes itdfield setter itdfieldsetter get parameter types getparametertypes type return type returntype bcel world bcelworld make bcel type makebceltype bridging setter bridgingsetter get return type getreturntype instruction list instructionlist body bridge method bridgemethod get body getbody fact gen get factory getfactory pos bridging setter bridgingsetter is static isstatic body append instruction factory instructionfactory create this createthis pos len param types paramtypes length len type param type paramtype param types paramtypes body append instruction factory instructionfactory create load createload param type paramtype pos bridging setter bridgingsetter get parameter types getparametertypes get erasure signature geterasuresignature equals itdfield setter itdfieldsetter get parameter types getparametertypes get erasure signature geterasuresignature une est required system err println putting param type paramtype bridging to parms bridgingtoparms body append fact create cast createcast param type paramtype bridging to parms bridgingtoparms pos param type paramtype get size getsize body append utility create invoke createinvoke fact weaver get world getworld itdfield setter itdfieldsetter body append instruction factory instructionfactory create return createreturn return type returntype gen add method gen addmethodgen bridge method bridgemethod concrete type munger concretetypemunger parameterized for parameterizedfor resolved type resolvedtype target bcel type munger bceltypemunger munger parameterized for parameterizedfor target aspect type aspecttype returns list type variable aliases munger list las list lbs returns list strings list get type variable aliases gettypevariablealiases string munger get type variable aliases gettypevariablealiases equals object bcel type munger bceltypemunger bcel type munger bceltypemunger bcel type munger bceltypemunger get munger getmunger get munger getmunger get munger getmunger equals get munger getmunger get aspect type getaspecttype get aspect type getaspecttype get aspect type getaspecttype equals get aspect type getaspecttype hash code hashcode hash code hashcode hash code hashcode result result result get munger getmunger get munger getmunger hash code hashcode result result get aspect type getaspecttype get aspect type getaspecttype hash code hashcode hash code hashcode result hash code hashcode type mungers created purely implementation shadow mungers support cflow pointcut create cflow field aspect bcel cflow counter field adder bcelcflowcounterfieldadder compilation compare sets type mungers existence shadowy type processed ignore comparison returning method type munger exists support shadowy stuff comparison exists to support shadow munging existstosupportshadowmunging munger munger exists to support shadow munging existstosupportshadowmunging