copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation org aspectj weaver bcel java buffered output stream bufferedoutputstream java file java filename filter filenamefilter java ioexception java util array list arraylist java util collections java util iterator java util list org aspectj apache bcel classfile java class javaclass org aspectj util file util fileutil unwoven class file unwovenclassfile string filename bytes java class javaclass java class javaclass written bytes writtenbytes list child class childclass written child classes writtenchildclasses array list arraylist string class name classname unwoven class file unwovenclassfile string filename bytes filename filename bytes bytes string get filename getfilename filename string make inner file name makeinnerfilename string inner name innername strip string prefix filename substring filename length prefix inner name innername get bytes getbytes bytes bytes java class javaclass get bytes getbytes bytes java class javaclass get java class getjavaclass xxx optimization get bytes getbytes system println bytes get filename getfilename thread current thread currentthread dump stack dumpstack thread dump stack dumpstack utility make java class makejavaclass filename get bytes getbytes java class javaclass java class javaclass utility make java class makejavaclass filename get bytes getbytes java class javaclass exists get bytes getbytes write unchanged bytes writeunchangedbytes ioexception write woven bytes writewovenbytes get bytes getbytes collections empty list write woven bytes writewovenbytes bytes list child classes childclasses ioexception write child classes writechildclasses child classes childclasses system err println write get class name getclassname system err println write written bytes writtenbytes written bytes writtenbytes unchanged bytes written bytes writtenbytes written bytes writtenbytes unchanged bytes written bytes writtenbytes system err println wrote buffered output stream bufferedoutputstream file util fileutil make output stream makeoutputstream file filename write bytes close written bytes writtenbytes bytes write child classes writechildclasses list child classes childclasses ioexception delete written child classes writtenchildclasses names child classes childclasses unclear affect performance delete all child classes deleteallchildclasses xxx child classes childclasses remove all removeall written child classes writtenchildclasses iterator iter child classes childclasses iterator iter has next hasnext child class childclass child class childclass child class childclass iter write child class file writechildclassfile child class childclass child class childclass bytes written child classes writtenchildclasses child classes childclasses write child class file writechildclassfile string inner name innername bytes ioexception buffered output stream bufferedoutputstream file util fileutil make output stream makeoutputstream file make inner file name makeinnerfilename inner name innername write bytes close delete all child classes deleteallchildclasses iterator iter written child classes writtenchildclasses iterator iter has next hasnext child class childclass child class childclass child class childclass iter delete child class file deletechildclassfile child class childclass delete child class file deletechildclassfile string inner name innername file child class file childclassfile file make inner file name makeinnerfilename inner name innername child class file childclassfile delete unchanged len length length len len string get class name getclassname class name classname class name classname get java class getjavaclass get class name getclassname class name classname string to string tostring unwoven class file unwovenclassfile filename get class name getclassname delete file files directory generated result weaving closure delete real file deleterealfile ioexception file victim file filename string name prefix nameprefix victim get name getname name prefix nameprefix name prefix nameprefix substring name prefix nameprefix last index of lastindexof string target prefix targetprefix name prefix nameprefix ajc file dir victim get parent file getparentfile dir file weaver generated weavergenerated dir list files listfiles filename filter filenamefilter accept file dir string starts with startswith target prefix targetprefix weaver generated weavergenerated weaver generated weavergenerated length weaver generated weavergenerated delete victim delete record child class childclass string bytes child class childclass string bytes bytes bytes equals object child class childclass child class childclass child class childclass equals unchanged bytes bytes hash code hashcode hash code hashcode string to string tostring child class childclass