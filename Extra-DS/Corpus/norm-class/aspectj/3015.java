copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation org aspectj ajdt internal compiler batch ignore java java util junit framework org apache bcel classfile org aspectj ajdt ajc org aspectj weaver bcel org aspectj bridge org aspectj testing util test util testutil org aspectj util verify weave test case verifyweavetestcase weave test case weavetestcase regenerate run tests runtests string out dir name outdirname string src dir srcdir testdata file separator src file separator verify weave test case verifyweavetestcase string test compile testcompile ioexception build test buildtest out dir name outdirname do compile docompile string file to compile filetocompile string specified out dir specifiedoutdir list args array list arraylist specified out dir specifiedoutdir args add args add specified out dir specifiedoutdir args add classpath args add runtime bin args add file to compile filetocompile icommand command ajdt command ajdtcommand message handler messagehandler my handler myhandler message handler messagehandler command run command runcommand string args to array toarray string my handler myhandler imessage info my handler myhandler get messages getmessages imessage info imessage holder imessageholder equal system println info messages arrays as list aslist info system println compiled file to compile filetocompile system println errors arrays as list aslist my handler myhandler get errors geterrors system println warnings arrays as list aslist my handler myhandler get warnings getwarnings test build output dir testbuildoutputdir ioexception file util fileutil delete contents deletecontents file out dir name outdirname do compile docompile src dir srcdir java out dir name outdirname assert true asserttrue output dir file out dir name outdirname file separator exists file test file testfile file src dir srcdir xxx test javac compatible behavior output dirs test file testfile delete do compile docompile src dir srcdir java assert true asserttrue output dir test file testfile exists do compile docompile src dir srcdir java assert true asserttrue named dir file src dir srcdir exists do compile docompile src dir srcdir java out dir name outdirname file check file checkfile file out dir name outdirname file separator src file separator assert true asserttrue named dir check file checkfile get absolute path getabsolutepath check file checkfile exists build test buildtest string string out name outname string specified out dir specifiedoutdir ioexception string class dir classdir bin do compile docompile src dir srcdir java specified out dir specifiedoutdir lazy class gen lazyclassgen gen lazy class gen lazyclassgen bcel object type bcelobjecttype class parser classparser out dir name outdirname file separator out name outname parse check class checkclass gen out dir name outdirname out name outname txt run tests runtests test util testutil run main runmain out dir name outdirname error gen print system err runtime exception runtimeexception gen print system err