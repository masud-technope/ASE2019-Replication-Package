org aspectj apache bcel classfile annotation java byte array input stream bytearrayinputstream java data input stream datainputstream java data output stream dataoutputstream java ioexception java util array list arraylist java util iterator java util list org aspectj apache bcel classfile attribute org aspectj apache bcel classfile constant pool constantpool runtime annotations runtimeannotations attribute list annotation annotations visible stream data asks inflated annotation data runtime annotations runtimeannotations attrid visible name idx nameidx len constant pool constantpool cpool attrid name idx nameidx len cpool visible visible annotations array list arraylist runtime annotations runtimeannotations attrid visible name idx nameidx len data constant pool constantpool cpool attrid name idx nameidx len cpool visible visible annotations array list arraylist annotation data data list get annotations getannotations inflated inflate annotations are visible arevisible visible read annotations readannotations data input stream datainputstream dis constant pool constantpool cpool ioexception annotation data length dis read annotation data length inflate data input stream datainputstream dis data input stream datainputstream byte array input stream bytearrayinputstream annotation data number of annotations numberofannotations dis read unsigned short readunsignedshort number of annotations numberofannotations annotations add annotation read dis get constant pool getconstantpool visible dis close inflated ioexception ioe runtime exception runtimeexception unabled inflate annotation data badly formed write annotations writeannotations data output stream dataoutputstream dos ioexception inflated dos write annotation data length dos write short writeshort annotations size iterator annotations iterator has next hasnext annotation ann annotation ann dump dos testing tells annotations inflated object graph is inflated isinflated inflated