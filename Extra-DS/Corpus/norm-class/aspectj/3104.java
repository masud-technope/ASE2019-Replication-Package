copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation org aspectj util java file java lang reflect java lang reflect method java net url java util array list arraylist reflection main parm types string reflection object invokestatic string invokestatic n invokestaticn object object invokestatic string object arg invokestatic n invokestaticn object arg object invokestatic string object arg object arg invokestatic n invokestaticn object arg arg object invokestatic string object arg object arg object arg invokestatic n invokestaticn object arg arg arg object invokestatic n invokestaticn string object args invoke n invoken args object invoke object target string object arg invoke n invoken target object arg object invoke object target string object arg object arg invoke n invoken target object arg arg object invoke object target string object arg object arg object arg invoke n invoken target object arg arg arg object invoke n invoken string object target object args method meth get matching method getmatchingmethod args meth invoke target args illegal access exception illegalaccessexception runtime exception runtimeexception to string tostring invocation target exception invocationtargetexception throwable get target exception gettargetexception error error runtime exception runtimeexception runtime exception runtimeexception print stack trace printstacktrace runtime exception runtimeexception to string tostring method get matching method getmatchingmethod string object args method meths get methods getmethods meths length method meth meths meth get name getname equals is compatible iscompatible meth args meth is compatible iscompatible method meth object args ignore methods overloading lengths meth get parameter types getparametertypes length args length object get static field getstaticfield string get field getfield illegal access exception illegalaccessexception runtime exception runtimeexception unimplemented no such field exception nosuchfieldexception runtime exception runtimeexception unimplemented run main in same vm runmaininsamevm string classpath string class name classname string args security exception securityexception no such method exception nosuchmethodexception illegal argument exception illegalargumentexception illegal access exception illegalaccessexception invocation target exception invocationtargetexception class not found exception classnotfoundexception lang util langutil throw iax if null throwiaxifnull class name classname lang util langutil is empty isempty classpath main class mainclass for name forname class name classname run main in same vm runmaininsamevm main class mainclass args array list arraylist dirs array list arraylist array list arraylist libs array list arraylist array list arraylist urls array list arraylist string entries lang util langutil split classpath splitclasspath classpath entries length string entry entries url url make url makeurl entry url urls add url file file file entries file util fileutil has zip suffix haszipsuffix file libs add file file is directory isdirectory dirs add file url zip dir unsure file dir ra dirra file dirs to array toarray file file lib ra libra file libs to array toarray file url url ra urlra url urls to array toarray url run main in same vm runmaininsamevm url ra urlra lib ra libra dir ra dirra class name classname args run main in same vm runmaininsamevm url urls file libs file dirs string class name classname string args security exception securityexception no such method exception nosuchmethodexception illegal argument exception illegalargumentexception illegal access exception illegalaccessexception invocation target exception invocationtargetexception class not found exception classnotfoundexception lang util langutil throw iax if null throwiaxifnull class name classname lang util langutil throw iax if not assignable throwiaxifnotassignable libs file jars lang util langutil throw iax if not assignable throwiaxifnotassignable dirs file dirs url lib urls liburls file util fileutil get file urls getfileurls libs lang util langutil is empty isempty lib urls liburls lang util langutil is empty isempty urls url temp url lib urls liburls length urls length system arraycopy urls temp urls length system arraycopy urls temp lib urls liburls length urls length urls temp urls lib urls liburls util class loader utilclassloader loader util class loader utilclassloader urls dirs target class targetclass target class targetclass loader load class loadclass class name classname class not found exception classnotfoundexception string unable load class name classname loader loader class not found exception classnotfoundexception method main target class targetclass get method getmethod main main parm types main invoke object args run main in same vm runmaininsamevm main class mainclass string args security exception securityexception no such method exception nosuchmethodexception illegal argument exception illegalargumentexception illegal access exception illegalaccessexception invocation target exception invocationtargetexception lang util langutil throw iax if null throwiaxifnull main class mainclass main method main main class mainclass get method getmethod main main parm types main invoke object args url input valid url make url makeurl string url throwable