copyright xerox corporation palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation org aspectj ajde internal java buffered reader bufferedreader java file java file output stream fileoutputstream java file reader filereader java ioexception java util array list arraylist java util hash set hashset java util iterator java util list java util java util tree set treeset org aspectj ajde ajde org aspectj ajde build config node buildconfignode org aspectj util config parser configparser reading writing build configuration lst files author mik kersten lst build config file updater lstbuildconfigfileupdater adds entry build configuration file update build config file updatebuildconfigfile string build config file buildconfigfile string update add to configuration addtoconfiguration list file contents filecontents read config file readconfigfile build config file buildconfigfile add to configuration addtoconfiguration file contents filecontents add update file contents filecontents remove update write config file writeconfigfile build config file buildconfigfile file contents filecontents adds entry multiple build configuration files update build config files updatebuildconfigfiles list build config files buildconfigfiles list files to update filestoupdate add to configuration addtoconfiguration build config files buildconfigfiles size list file contents filecontents read config file readconfigfile string build config files buildconfigfiles add to configuration addtoconfiguration files to update filestoupdate size file contents filecontents add files to update filestoupdate files to update filestoupdate size file contents filecontents files to update filestoupdate file contents filecontents remove files to update filestoupdate write config file writeconfigfile string build config files buildconfigfiles file contents filecontents checks entry exists build configuration file exists string entry string config file configfile exists entry config file configfile exists string entry string config file configfile string root path rootpath iterator read config file readconfigfile config file configfile iterator has next hasnext entry equals root path rootpath string reads entries configuration file list read config file readconfigfile string file path filepath file config file configfile file file path filepath config file configfile exists ajde get default getdefault get error handler geterrorhandler handle warning handlewarning config file file path filepath exist update failed list file contents filecontents array list arraylist buffered reader bufferedreader reader buffered reader bufferedreader file reader filereader config file configfile string reader read line readline file contents filecontents add replace reader read line readline reader close file contents filecontents ioexception ioe ajde get default getdefault get error handler geterrorhandler handle error handleerror update build config file ioe write config file writeconfigfile string file path filepath list files list imported nodes importednodes string file contents string filecontentsstring included files includedfiles hash set hashset iterator imported nodes importednodes iterator has next hasnext build config node buildconfignode node build config node buildconfignode file contents string filecontentsstring node get resource path getresourcepath string parent path parentpath file file path filepath get parent getparent string imported file path importedfilepath parent path parentpath file separator node get resource path getresourcepath included files includedfiles add all addall get included files getincludedfiles imported file path importedfilepath parent path parentpath iterator files iterator has next hasnext build config node buildconfignode node build config node buildconfignode node get name getname ends with endswith lst node get resource path getresourcepath starts with startswith file contents string filecontentsstring file contents string filecontentsstring node get resource path getresourcepath included files includedfiles node get resource path getresourcepath file contents string filecontentsstring node get resource path getresourcepath write file writefile file contents string filecontentsstring file path filepath list get included files getincludedfiles string path string root path rootpath config parser configparser config parser configparser config parser configparser config parser configparser parse config file parseconfigfile file path list files config parser configparser get files getfiles list relative files relativefiles array list arraylist iterator files iterator has next hasnext relative files relativefiles add relativize path relativizepath file get path getpath root path rootpath relative files relativefiles config parser configparser parse exception parseexception array list arraylist string relativize path relativizepath string path string root path rootpath path path replace root path rootpath root path rootpath replace path index pathindex path index of indexof root path rootpath path index pathindex path substring path index pathindex root path rootpath length path write config file writeconfigfile string file path filepath list file contents filecontents contents set contentsset tree set treeset file contents filecontents string buffer stringbuffer file contents sb filecontentssb string buffer stringbuffer iterator contents set contentsset iterator has next hasnext file contents sb filecontentssb append to string tostring file contents sb filecontentssb append write file writefile file contents sb filecontentssb to string tostring file path filepath write file writefile string contents string file path filepath file output stream fileoutputstream fos fos file output stream fileoutputstream file path filepath fos write contents get bytes getbytes ioexception ioe ajde get default getdefault get error handler geterrorhandler handle error handleerror update build config file file path filepath ioe fos fos close ioexception ioe