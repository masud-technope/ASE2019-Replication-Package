copyright contributors rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors adrian colyer initial implementation org aspectj weaver tools java lang annotation retention java lang annotation retention policy retentionpolicy java lang reflect method java util list org aspectj lang annotation pointcut junit framework test junit framework test case testcase junit framework test suite testsuite author colyer java pointcut expression test pointcutexpressiontest test case testcase test suite test suite testsuite suite test suite testsuite java pointcut expression test pointcutexpressiontest suite add test suite addtestsuite java pointcut expression test pointcutexpressiontest suite pointcut parser pointcutparser parser method method method method test at this testatthis pointcut expression pointcutexpression at this atthis parser parse pointcut expression parsepointcutexpression org aspectj weaver tools java pointcut expression test pointcutexpressiontest my annotation myannotation shadow match shadowmatch s match smatch at this atthis matches method execution matchesmethodexecution shadow match shadowmatch s match smatch at this atthis matches method execution matchesmethodexecution assert true asserttrue matches s match smatch maybe matches maybematches assert true asserttrue matches s match smatch maybe matches maybematches join point match joinpointmatch s match smatch matches join point matchesjoinpoint object assert false assertfalse match matches join point match joinpointmatch s match smatch matches join point matchesjoinpoint object assert true asserttrue matches matches test at target testattarget pointcut expression pointcutexpression at target attarget parser parse pointcut expression parsepointcutexpression target org aspectj weaver tools java pointcut expression test pointcutexpressiontest my annotation myannotation shadow match shadowmatch s match smatch at target attarget matches method execution matchesmethodexecution shadow match shadowmatch s match smatch at target attarget matches method execution matchesmethodexecution assert true asserttrue matches s match smatch maybe matches maybematches assert true asserttrue matches s match smatch maybe matches maybematches join point match joinpointmatch s match smatch matches join point matchesjoinpoint object assert false assertfalse match matches join point match joinpointmatch s match smatch matches join point matchesjoinpoint object assert true asserttrue matches matches test at this with binding testatthiswithbinding pointcut parameter pointcutparameter param parser create pointcut parameter createpointcutparameter my annotation myannotation my b myb my annotation myannotation b annotation bannotation get annotation getannotation my annotation myannotation pointcut expression pointcutexpression at this atthis parser parse pointcut expression parsepointcutexpression pointcut parameter pointcutparameter param shadow match shadowmatch s match smatch at this atthis matches method execution matchesmethodexecution shadow match shadowmatch s match smatch at this atthis matches method execution matchesmethodexecution assert true asserttrue matches s match smatch maybe matches maybematches assert true asserttrue matches s match smatch maybe matches maybematches join point match joinpointmatch s match smatch matches join point matchesjoinpoint object assert false assertfalse match matches join point match joinpointmatch s match smatch matches join point matchesjoinpoint my b myb my b myb object assert true asserttrue matches matches assert equals assertequals get parameter bindings getparameterbindings length assert equals assertequals my b myb annotation b annotation bannotation get parameter bindings getparameterbindings get binding getbinding test at target with binding testattargetwithbinding pointcut parameter pointcutparameter param parser create pointcut parameter createpointcutparameter my annotation myannotation my b myb my annotation myannotation b annotation bannotation get annotation getannotation my annotation myannotation pointcut expression pointcutexpression at this atthis parser parse pointcut expression parsepointcutexpression target pointcut parameter pointcutparameter param shadow match shadowmatch s match smatch at this atthis matches method execution matchesmethodexecution shadow match shadowmatch s match smatch at this atthis matches method execution matchesmethodexecution assert true asserttrue matches s match smatch maybe matches maybematches assert true asserttrue matches s match smatch maybe matches maybematches join point match joinpointmatch s match smatch matches join point matchesjoinpoint object assert false assertfalse match matches join point match joinpointmatch s match smatch matches join point matchesjoinpoint my b myb my b myb object assert true asserttrue matches matches assert equals assertequals get parameter bindings getparameterbindings length assert equals assertequals my b myb annotation b annotation bannotation get parameter bindings getparameterbindings get binding getbinding test at args testatargs pointcut expression pointcutexpression at args atargs parser parse pointcut expression parsepointcutexpression args org aspectj weaver tools java pointcut expression test pointcutexpressiontest my annotation myannotation shadow match shadowmatch s match smatch at args atargs matches method execution matchesmethodexecution shadow match shadowmatch s match smatch at args atargs matches method execution matchesmethodexecution assert true asserttrue matches s match smatch never matches nevermatches assert true asserttrue matches s match smatch maybe matches maybematches join point match joinpointmatch s match smatch matches join point matchesjoinpoint object assert true asserttrue matches matches at args atargs parser parse pointcut expression parsepointcutexpression args org aspectj weaver tools java pointcut expression test pointcutexpressiontest my annotation myannotation org aspectj weaver tools java pointcut expression test pointcutexpressiontest my annotation myannotation s match smatch at args atargs matches method execution matchesmethodexecution s match smatch at args atargs matches method execution matchesmethodexecution assert true asserttrue matches s match smatch never matches nevermatches assert true asserttrue matches s match smatch maybe matches maybematches join point match joinpointmatch s match smatch matches join point matchesjoinpoint object assert false assertfalse match matches s match smatch matches join point matchesjoinpoint object assert true asserttrue matches matches test at args testatargs pointcut expression pointcutexpression at args atargs parser parse pointcut expression parsepointcutexpression args org aspectj weaver tools java pointcut expression test pointcutexpressiontest my annotation myannotation shadow match shadowmatch s match smatch at args atargs matches method execution matchesmethodexecution shadow match shadowmatch s match smatch at args atargs matches method execution matchesmethodexecution assert true asserttrue matches s match smatch maybe matches maybematches assert true asserttrue matches s match smatch maybe matches maybematches join point match joinpointmatch s match smatch matches join point matchesjoinpoint object assert true asserttrue matches matches join point match joinpointmatch s match smatch matches join point matchesjoinpoint object assert false assertfalse match matches test at args with binding testatargswithbinding pointcut parameter pointcutparameter parser create pointcut parameter createpointcutparameter my annotation myannotation pointcut parameter pointcutparameter parser create pointcut parameter createpointcutparameter my annotation myannotation pointcut expression pointcutexpression at args atargs parser parse pointcut expression parsepointcutexpression args pointcut parameter pointcutparameter shadow match shadowmatch s match smatch at args atargs matches method execution matchesmethodexecution assert true asserttrue matches s match smatch maybe matches maybematches join point match joinpointmatch s match smatch matches join point matchesjoinpoint object assert true asserttrue matches matches assert equals assertequals get parameter bindings getparameterbindings length my annotation myannotation b annotation bannotation get annotation getannotation my annotation myannotation assert equals assertequals annotation b annotation bannotation get parameter bindings getparameterbindings get binding getbinding at args atargs parser parse pointcut expression parsepointcutexpression args pointcut parameter pointcutparameter s match smatch at args atargs matches method execution matchesmethodexecution assert true asserttrue matches s match smatch maybe matches maybematches s match smatch matches join point matchesjoinpoint object assert true asserttrue matches matches assert equals assertequals get parameter bindings getparameterbindings length assert equals assertequals annotation b annotation bannotation get parameter bindings getparameterbindings get binding getbinding assert equals assertequals annotation b annotation bannotation get parameter bindings getparameterbindings get binding getbinding test at within testatwithin pointcut expression pointcutexpression at within atwithin parser parse pointcut expression parsepointcutexpression org aspectj weaver tools java pointcut expression test pointcutexpressiontest my annotation myannotation shadow match shadowmatch s match smatch at within atwithin matches method execution matchesmethodexecution shadow match shadowmatch s match smatch at within atwithin matches method execution matchesmethodexecution assert true asserttrue match s match smatch never matches nevermatches assert true asserttrue matches s match smatch always matches alwaysmatches test at within with binding testatwithinwithbinding pointcut parameter pointcutparameter parser create pointcut parameter createpointcutparameter my annotation myannotation pointcut expression pointcutexpression at within atwithin parser parse pointcut expression parsepointcutexpression pointcut parameter pointcutparameter shadow match shadowmatch s match smatch at within atwithin matches method execution matchesmethodexecution shadow match shadowmatch s match smatch at within atwithin matches method execution matchesmethodexecution assert true asserttrue match s match smatch never matches nevermatches assert true asserttrue matches s match smatch always matches alwaysmatches join point match joinpointmatch jpm s match smatch matches join point matchesjoinpoint object assert true asserttrue jpm matches assert equals assertequals jpm get parameter bindings getparameterbindings length my annotation myannotation b annotation bannotation get annotation getannotation my annotation myannotation assert equals assertequals annotation b annotation bannotation jpm get parameter bindings getparameterbindings get binding getbinding test at within code testatwithincode pointcut expression pointcutexpression at within code atwithincode parser parse pointcut expression parsepointcutexpression withincode org aspectj weaver tools java pointcut expression test pointcutexpressiontest my annotation myannotation shadow match shadowmatch s match smatch at within code atwithincode matches method call matchesmethodcall shadow match shadowmatch s match smatch at within code atwithincode matches method call matchesmethodcall assert true asserttrue match s match smatch never matches nevermatches assert true asserttrue matches s match smatch always matches alwaysmatches test at within code with binding testatwithincodewithbinding pointcut parameter pointcutparameter parser create pointcut parameter createpointcutparameter my annotation myannotation pointcut expression pointcutexpression at within code atwithincode parser parse pointcut expression parsepointcutexpression withincode pointcut parameter pointcutparameter shadow match shadowmatch s match smatch at within code atwithincode matches method call matchesmethodcall assert true asserttrue matches s match smatch always matches alwaysmatches join point match joinpointmatch jpm s match smatch matches join point matchesjoinpoint object assert equals assertequals jpm get parameter bindings getparameterbindings length my annotation myannotation ann ona annona get annotation getannotation my annotation myannotation assert equals assertequals my annotation myannotation ann ona annona jpm get parameter bindings getparameterbindings get binding getbinding test at annotation testatannotation pointcut expression pointcutexpression at annotation atannotation parser parse pointcut expression parsepointcutexpression annotation org aspectj weaver tools java pointcut expression test pointcutexpressiontest my annotation myannotation shadow match shadowmatch s match smatch at annotation atannotation matches method call matchesmethodcall shadow match shadowmatch s match smatch at annotation atannotation matches method call matchesmethodcall assert true asserttrue match call s match smatch never matches nevermatches assert true asserttrue matches call s match smatch always matches alwaysmatches test at annotation with binding testatannotationwithbinding pointcut parameter pointcutparameter parser create pointcut parameter createpointcutparameter my annotation myannotation pointcut expression pointcutexpression at annotation atannotation parser parse pointcut expression parsepointcutexpression annotation pointcut parameter pointcutparameter shadow match shadowmatch s match smatch at annotation atannotation matches method call matchesmethodcall assert true asserttrue matches call s match smatch always matches alwaysmatches join point match joinpointmatch jpm s match smatch matches join point matchesjoinpoint object assert true asserttrue jpm matches assert equals assertequals jpm get parameter bindings getparameterbindings length my annotation myannotation ann ona annona get annotation getannotation my annotation myannotation assert equals assertequals my annotation myannotation ann ona annona jpm get parameter bindings getparameterbindings get binding getbinding test reference pointcut no params testreferencepointcutnoparams pointcut expression pointcutexpression parser parse pointcut expression parsepointcutexpression foo pointcut parameter pointcutparameter shadow match shadowmatch s match smatch matches method call matchesmethodcall shadow match shadowmatch s match smatch matches method execution matchesmethodexecution assert true asserttrue match call s match smatch never matches nevermatches assert true asserttrue match execution s match smatch always matches alwaysmatches parser parse pointcut expression parsepointcutexpression org aspectj weaver tools java pointcut expression test pointcutexpressiontest foo s match smatch matches method call matchesmethodcall s match smatch matches method execution matchesmethodexecution assert true asserttrue match call s match smatch never matches nevermatches assert true asserttrue match execution s match smatch always matches alwaysmatches test reference pointcut params testreferencepointcutparams pointcut parameter pointcutparameter parser create pointcut parameter createpointcutparameter pointcut expression pointcutexpression parser parse pointcut expression parsepointcutexpression goo pointcut parameter pointcutparameter shadow match shadowmatch s match smatch matches method call matchesmethodcall shadow match shadowmatch s match smatch matches method execution matchesmethodexecution assert true asserttrue match call s match smatch never matches nevermatches assert true asserttrue match execution s match smatch maybe matches maybematches an a ana join point match joinpointmatch jpm s match smatch matches join point matchesjoinpoint an a ana object assert true asserttrue jpm matches assert equals assertequals bound an a ana an a ana jpm get parameter bindings getparameterbindings get binding getbinding test execution with class file retention annotation testexecutionwithclassfileretentionannotation pointcut expression pointcutexpression parser parse pointcut expression parsepointcutexpression execution org aspectj weaver tools java pointcut expression test pointcutexpressiontest my annotation myannotation pointcut expression pointcutexpression parser parse pointcut expression parsepointcutexpression execution org aspectj weaver tools java pointcut expression test pointcutexpressiontest my class file retention annotation myclassfileretentionannotation shadow match shadowmatch s match smatch matches method execution matchesmethodexecution assert true asserttrue matches s match smatch always matches alwaysmatches s match smatch matches method execution matchesmethodexecution assert true asserttrue match s match smatch never matches nevermatches s match smatch matches method execution matchesmethodexecution assert true asserttrue match s match smatch never matches nevermatches s match smatch matches method execution matchesmethodexecution assert true asserttrue matches s match smatch always matches alwaysmatches test generic method signatures testgenericmethodsignatures exception pointcut expression pointcutexpression parser parse pointcut expression parsepointcutexpression execution java util list org aspectj weaver tools java pointcut expression test pointcutexpressiontest method test bean testbean get method getmethod set friends setfriends list shadow match shadowmatch matches method execution matchesmethodexecution assert true asserttrue match always matches alwaysmatches test annotation in execution testannotationinexecution exception pointcut expression pointcutexpression parser parse pointcut expression parsepointcutexpression execution org springframework test var args matching testvarargsmatching exception pointcut expression pointcutexpression parser parse pointcut expression parsepointcutexpression execution string method uses var args usesvarargs get method getmethod var args varargs string method no var args novarargs get method getmethod non var args nonvarargs string shadow match shadowmatch matches method execution matchesmethodexecution uses var args usesvarargs assert true asserttrue match always matches alwaysmatches shadow match shadowmatch matches method execution matchesmethodexecution no var args novarargs assert false assertfalse match always matches alwaysmatches set up setup exception set up setup parser pointcut parser pointcutparser get pointcut parser supporting all primitives and using specified classloader for resolution getpointcutparsersupportingallprimitivesandusingspecifiedclassloaderforresolution get class getclass get class loader getclassloader get method getmethod get method getmethod get method getmethod get method getmethod retention retention policy retentionpolicy runtime my annotation myannotation my class file retention annotation myclassfileretentionannotation my annotation myannotation my annotation myannotation my class file retention annotation myclassfileretentionannotation an a ana an a ana another a anothera pointcut execution foo pointcut execution arg names argnames goo non var args nonvarargs string strings var args varargs string strings test bean testbean set friends setfriends list friends