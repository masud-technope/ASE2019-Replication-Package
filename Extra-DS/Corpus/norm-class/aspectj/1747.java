copyright palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors parc initial implementation org aspectj weaver bcel java java util junit framework org aspectj apache bcel constants org aspectj apache bcel org aspectj weaver org aspectj weaver patterns org aspectj testing util test util testutil org aspectj util file util fileutil weave test case weavetestcase test case testcase regenerate run tests runtests behave file out dir outdir string out dir path outdirpath bcel world bcelworld bcel world bcelworld add path addpath class dir classdir tests rely comparing output dumping delegates asm delegates don names parameters irrelevant missing dumping asm delegates ensures bcel tests set fast delegate support setfastdelegatesupport weave test case weavetestcase string set up setup out dir outdir bcweaver tests bcweavertests get outdir getoutdir out dir path outdirpath out dir outdir get absolute path getabsolutepath tear down teardown exception tear down teardown bcweaver tests bcweavertests remove out dir removeoutdir out dir outdir out dir path outdirpath instruction list instructionlist get advice tag getadvicetag bcel shadow bcelshadow shadow string string method name methodname ajc shadow get kind getkind to legal java identifier tolegaljavaidentifier instruction factory instructionfactory fact shadow get factory getfactory invoke instruction invokeinstruction fact create invoke createinvoke aspect method name methodname type type constants invokestatic instruction list instructionlist weave test weavetest string string out name outname shadow munger shadowmunger planner ioexception list array list arraylist add planner weave test weavetest out name outname string class dir classdir weaver bin string class dir classdir bcweaver tests bcweavertests testdata path file separator bin weave test weavetest string string out name outname list planners ioexception bcel weaver bcelweaver weaver bcel weaver bcelweaver behave set behave in java setbehaveinjava unwoven class file unwovenclassfile class file classfile make unwoven class file makeunwovenclassfile class dir classdir out dir path outdirpath weaver add class file addclassfile class file classfile weaver set shadow mungers setshadowmungers planners weave test inner weavetestinner weaver class file classfile out name outname behave set behave in java setbehaveinjava weave test inner weavetestinner bcel weaver bcelweaver weaver unwoven class file unwovenclassfile class file classfile string string out name outname ioexception pre errors preerrors current result currentresult error count errorcount bcel object type bcelobjecttype class type classtype bcel world bcelworld get bcel object type getbcelobjecttype resolve class file classfile get class name getclassname lazy class gen lazyclassgen gen weaver weave class file classfile class type classtype gen didn weaving gen lazy class gen lazyclassgen class type classtype gen class type classtype get lazy class gen getlazyclassgen check class checkclass gen out dir path outdirpath out name outname txt run tests runtests system println running out name outname test util testutil run main runmain make class path makeclasspath out dir path outdirpath error system err println comparing out name outname txt gen print system err runtime exception runtimeexception gen print system err string make class path makeclasspath string out dir outdir out dir outdir file path separator pathseparator get trace jar gettracejar file path separator pathseparator class dir classdir file path separator pathseparator system get property getproperty java path location unwoven class file unwovenclassfile make unwoven class file makeunwovenclassfile string class dir classdir string string out dir outdir ioexception file out file outfile file out dir outdir class dir classdir ends with endswith jar string fname unwoven class file unwovenclassfile ret unwoven class file unwovenclassfile out file outfile get absolute path getabsolutepath file util fileutil read as byte array readasbytearray file util fileutil get stream from zip getstreamfromzip class dir classdir fname ret file in file infile file class dir classdir unwoven class file unwovenclassfile out file outfile get absolute path getabsolutepath file util fileutil read as byte array readasbytearray in file infile check class checkclass lazy class gen lazyclassgen gen string out dir outdir string expected file expectedfile ioexception regenerate gen class genclass gen out dir outdir expected file expectedfile real check class realcheckclass gen out dir outdir expected file expectedfile file testdata dir file bcweaver tests bcweavertests testdata path gen class genclass lazy class gen lazyclassgen gen string out dir outdir string expected file expectedfile ioexception class gen classgen get java class getjavaclass out dir outdir class name classname file output stream fileoutputstream file output stream fileoutputstream file testdata dir expected file expectedfile print stream printstream print stream printstream gen print flush real check class realcheckclass lazy class gen lazyclassgen gen string out dir outdir string expected file expectedfile ioexception test util testutil assert multi line string equals assertmultilinestringequals expected file expectedfile classes file util fileutil read as string readasstring file testdata dir expected file expectedfile gen to long string tolongstring shadow munger shadowmunger make concrete advice makeconcreteadvice string munger string mungerstring make concrete advice makeconcreteadvice munger string mungerstring shadow munger shadowmunger make concrete advice makeconcreteadvice string munger string mungerstring extra arg flag extraargflag make concrete advice makeconcreteadvice munger string mungerstring extra arg flag extraargflag shadow munger shadowmunger make concrete advice makeconcreteadvice string munger string mungerstring extra arg flag extraargflag per clause perclause per clause perclause advice my munger mymunger shadow munger shadowmunger munger string mungerstring extra arg flag extraargflag per singleton persingleton per singleton persingleton concretize resolve aspect system err println kinded pointcut kindedpointcut my munger mymunger get pointcut getpointcut get pointcut getpointcut get kind getkind advice advice my munger mymunger concretize my munger mymunger get declaring aspect getdeclaringaspect resolve per clause perclause shadow munger shadowmunger make advice field makeadvicefield string kind string extra arg type extraargtype make concrete advice makeconcreteadvice kind aspect ajc kind field extra arg type extraargtype list make advice all makeadviceall string kind match only println matchonlyprintln list ret array list arraylist match only println matchonlyprintln ret add make concrete advice makeconcreteadvice kind call println aspect ajc kind method execution ret add make concrete advice makeconcreteadvice kind call aspect ajc kind method call ret add make concrete advice makeconcreteadvice kind call aspect ajc kind constructor call ret add make concrete advice makeconcreteadvice kind execution aspect ajc kind method execution ret add make concrete advice makeconcreteadvice kind execution aspect ajc kind constructor execution ret add make concrete munger makeconcretemunger kind staticinitialization aspect ajc kind staticinitialization ret add make concrete advice makeconcreteadvice kind aspect ajc kind field ret add make concrete munger makeconcretemunger kind aspect ajc kind field xxx test advice execution static initialization staticinitialization god pre initialization preinitialization ret list make advice all makeadviceall string kind make advice all makeadviceall kind pointcut make pointcut all makepointcutall make concrete pointcut makeconcretepointcut call execution call execution pointcut make pointcut no zero arg makepointcutnozeroarg make concrete pointcut makeconcretepointcut call execution call execution pointcut make pointcut println makepointcutprintln make concrete pointcut makeconcretepointcut call println pointcut make concrete pointcut makeconcretepointcut string make resolved pointcut makeresolvedpointcut concretize pointcut make resolved pointcut makeresolvedpointcut string pointcut pointcut pointcut from string fromstring pointcut resolve simple scope simplescope formal binding formalbinding string get standard targets getstandardtargets string hello world helloworld fancy hello world fancyhelloworld string get trace jar gettracejar bcweaver tests bcweavertests testdata path tracing jar weave test weavetest string in class names inclassnames string out kind outkind shadow munger shadowmunger pattern munger patternmunger ioexception in class names inclassnames length string in file name infilename in class names inclassnames weave test weavetest in file name infilename out kind outkind in file name infilename pattern munger patternmunger weave test weavetest string in class names inclassnames string out kind outkind list pattern mungers patternmungers ioexception in class names inclassnames length string in file name infilename in class names inclassnames weave test weavetest in file name infilename out kind outkind in file name infilename pattern mungers patternmungers list add lexical order addlexicalorder list iterator iter iterator iter has next hasnext advice element advice iter element set lexical position setlexicalposition xxx cut paster id weave test case idweavetestcase check shadow set checkshadowset list string len length len iterator iterator has next hasnext bcel shadow bcelshadow shadow bcel shadow bcelshadow string shadow string shadowstring shadow to string tostring shadow string shadowstring equals remove assert true asserttrue didn find assert true asserttrue size