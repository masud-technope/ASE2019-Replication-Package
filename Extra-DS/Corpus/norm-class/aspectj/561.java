copyright ibm corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors matthew webster adrian colyer martin lippert initial implementation org aspectj weaver loadtime java file java ioexception java net malformed urlexception malformedurlexception java net url java security code source codesource java util array list arraylist java util hash map hashmap java util list java util map java util string tokenizer stringtokenizer org aspectj weaver extensible urlclass loader extensibleurlclassloader org aspectj weaver tools weaving adaptor weavingadaptor org aspectj weaver tools weaving class loader weavingclassloader weaving urlclass loader weavingurlclassloader extensible urlclass loader extensibleurlclassloader weaving class loader weavingclassloader string weaving path path string weaving aspect path aspect path url aspect urls aspecturls weaving adaptor weavingadaptor adaptor initializing adaptor initializingadaptor map generated classes generatedclasses hash map hashmap constructor needed djava system loader weaving urlclass loader weavingurlclassloader class loader classloader parent get urls geturls get class path getclasspath get urls geturls get aspect path getaspectpath parent system err println weaving urlclass loader weavingurlclassloader init parent weaving urlclass loader weavingurlclassloader url urls class loader classloader parent urls parent system println weaving urlclass loader weavingurlclassloader weaving urlclass loader weavingurlclassloader weaving urlclass loader weavingurlclassloader url class urls classurls url aspect urls aspecturls class loader classloader parent class urls classurls parent system err println weaving urlclass loader weavingurlclassloader init class urls classurls class urls classurls length aspect urls aspecturls aspect urls aspecturls length aspect urls aspecturls aspect urls aspecturls parent aspect path style adaptor aspect urls aspecturls length parent weaving class loader weavingclassloader adaptor weaving adaptor weavingadaptor string get aspect path getaspectpath system get property getproperty weaving aspect path string get class path getclasspath system get property getproperty weaving path url get urls geturls string path list url list urllist array list arraylist string tokenizer stringtokenizer string tokenizer stringtokenizer path file path separator pathseparator has more tokens hasmoretokens file file next token nexttoken trim exists url url to url tourl url url list urllist add url malformed urlexception malformedurlexception url urls url url list urllist size url list urllist to array toarray urls urls add url addurl url url adaptor add url addurl url add url addurl url override weave weaving adaptor weavingadaptor define class defineclass string code source codesource ioexception avoid recursion adaptor initialization initializing adaptor initializingadaptor defer creation recursion constructor execution adaptor initializing adaptor initializingadaptor default weaving context defaultweavingcontext weaving context weavingcontext default weaving context defaultweavingcontext ensures consistent ltw messages testing string get class loader name getclassloadername loader get class getclass get name getname class loader weaving adaptor classloaderweavingadaptor clw adaptor clwadaptor class loader weaving adaptor classloaderweavingadaptor weaving context weavingcontext initializing adaptor initializingadaptor clw adaptor clwadaptor initialize weaving context weavingcontext initializing adaptor initializingadaptor adaptor clw adaptor clwadaptor adaptor weave class weaveclass define class defineclass override find classes generated weaving adaptor weavingadaptor get bytes getbytes string ioexception bytes get bytes getbytes bytes adaptor find class findclass generated classes generatedclasses remove bytes implement method weaving class loader weavingclassloader url get aspect urls getaspecturls aspect urls aspecturls accept class acceptclass string bytes generated classes generatedclasses bytes class pre processor adaptor classpreprocessoradaptor class pre processor classpreprocessor add url addurl url url weaving adaptor pre processor weavingadaptorpreprocessor class pre processor adaptor classpreprocessoradaptor weaving adaptor weavingadaptor adaptor weaving adaptor pre processor weavingadaptorpreprocessor weaving class loader weavingclassloader wcl adaptor weaving adaptor weavingadaptor wcl initialize pre process preprocess string class name classname bytes class loader classloader class loader classloader adaptor weave class weaveclass class name classname bytes add url addurl url url