copyright xerox corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation org aspectj tools ant taskdefs compilers org apache tools ant build exception buildexception org apache tools ant project org apache tools ant taskdefs javac org apache tools ant taskdefs log output stream logoutputstream org apache tools ant taskdefs compilers default compiler adapter defaultcompileradapter org apache tools ant types commandline java file java print stream printstream java util array list arraylist java util arrays java util collections java util list ajc compiler adapter compileradapter task developed href http aspectj org aspect j aspectj project author href mailto palm parc xerox jeffrey palm org aspectj tools ant taskdefs ajc ajc default compiler adapter defaultcompileradapter compiler success ajc compiler success compiler main string main org aspectj tools ajc main list arguments allowed javac ajc list javac only flags javaconlyflags final list finallist string lines vars source nowarn list javac only args javaconlyargs final list finallist string sourcepath encoding target list final list finallist string args list result array list arraylist result add all addall arrays as list aslist args collections unmodifiable list unmodifiablelist result checks command arguments allowed ajc disallowed ajc calls code compile code method good compile org apache tools ant build exception buildexception execute build exception buildexception attributes log ajc project msg verbose compile add ajc options addajcoptions setup javac command setupjavaccommand invokes ajc compiler reflection param cline command pass compiler good compile org apache tools ant build exception buildexception compile commandline cline build exception buildexception print stream printstream err system err print stream printstream system main for name forname main main class not found exception classnotfoundexception main print stream printstream logstr print stream printstream log output stream logoutputstream attributes project msg warn system set out setout logstr system set err seterr logstr integer main get method getmethod compile string invoke main new instance newinstance object remove unsupported removeunsupported cline logstr int value intvalue ajc compiler success exception build exception buildexception build exception buildexception build exception buildexception error starting ajc compiler location system set err seterr err system set out setout removes unsupported arguments code cline code issuing warnings code log code param cline code org apache tools ant types commandline code argument removed code java lang string code array supported arguments code cline code org apache tools ant build exception buildexception string remove unsupported removeunsupported commandline cline print stream printstream log log log system err string args cline get commandline getcommandline list args list argslist array list arraylist args length string arg args javac only flags javaconlyflags arg log println ajc arg javac only args javaconlyargs arg args length arg arg args log println ajc arg args list argslist add args string args list argslist to array toarray string args list argslist size adds arguments setup javac command setupjavaccommand doesn pick param cline code org apache tools ant types commandline code arguments org apache tools ant build exception buildexception ajc compiler ajccompiler ajc only args ajconlyargs org apache tools ant taskdefs compilers default compiler adapter defaultcompileradapter setup javac command setupjavaccommand commandline add ajc options addajcoptions commandline cline build exception buildexception javac javac get javac getjavac org aspectj tools ant taskdefs ajc ajc ajc org aspectj tools ant taskdefs ajc javac class cast exception classcastexception cce build exception buildexception cce ajc get threads getthreads cline create argument createargument set value setvalue threads cline create argument createargument set value setvalue ajc get threads getthreads ajc get nocomments getnocomments cline create argument createargument set value setvalue nocomments ajc get nosymbols getnosymbols cline create argument createargument set value setvalue nosymbols ajc get preprocess getpreprocess cline create argument createargument set value setvalue preprocess ajc get workingdir getworkingdir cline create argument createargument set value setvalue workingdir cline create argument createargument set file setfile ajc get workingdir getworkingdir cline logs compilation parameters adds files compile logs qout nice source list nicesourcelist quot log and add files to compile logandaddfilestocompile commandline cmd behavior default compiler adapter defaultcompileradapter log and add files to compile logandaddfilestocompile attributes log compilation args cmd to string tostring project msg verbose string buffer stringbuffer nice source list nicesourcelist string buffer stringbuffer file compile list compilelist length nice source list nicesourcelist append nice source list nicesourcelist append compiled nice source list nicesourcelist append l sep lsep compile list compilelist length default compiler adapter defaultcompileradapter expects java files deal lst files file file compile list compilelist file string arg file get absolute path getabsolutepath string string file get name getname file command ends with endswith java cmd create argument createargument set value setvalue arg nice source list nicesourcelist append arg l sep lsep attributes log nice source list nicesourcelist to string tostring project msg verbose