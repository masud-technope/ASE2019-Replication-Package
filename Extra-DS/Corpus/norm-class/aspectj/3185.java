copyright xerox corporation palo alto center incorporated parc rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors xerox parc initial implementation org aspectj bridge java java util org aspectj bridge imessage kind org aspectj util convenience api constructing printing sending messages message util messageutil constant content messages variants info debug content imessage abort message aborting imessage abort imessage fail incomplete message completed imessage fail imessage abort nomessage message imessage abort imessage fail nomessage message imessage fail imessage error nomessage message imessage error imessage warning nomessage message imessage warning handle abort message handler abort imessage handler imessagehandler handler string message handler handler handle message handlemessage abort message create handle exception message handler abort imessage handler imessagehandler handler string message throwable handler handler handle message handlemessage abort message create handle fail message handler fail imessage handler imessagehandler handler string message handler handler handle message handlemessage fail message create handle fail message reader handler fail imessage handler imessagehandler handler string message line reader linereader reader handler handler handle message handlemessage fail message reader create handle fail message handler fail imessage handler imessagehandler handler string message throwable thrown handler handler handle message handlemessage fail message thrown create handle error message handler error imessage handler imessagehandler handler string message handler handler handle message handlemessage error message create handle warn message handler warn imessage handler imessagehandler handler string message handler handler handle message handlemessage warn message create handle debug message handler debug imessage handler imessagehandler handler string message handler handler handle message handlemessage debug message create handle info message handler info imessage handler imessagehandler handler string message handler handler handle message handlemessage info message abort nomessage message empty imessage imessage abort string message lang util langutil is empty isempty message abort nomessage message message imessage abort abort imessage thrown message abort nomessage empty imessage abort string message throwable thrown lang util langutil is empty isempty message message message imessage abort thrown thrown abort nomessage message thrown get message getmessage imessage abort thrown fail nomessage message empty imessage imessage fail string message lang util langutil is empty isempty message fail nomessage fail message line reader linereader create fail message message empty thrown thrown get message getmessage message message empty thrown fail nomessage fail nomessage thrown message empty imessage fail message thrown imessage fail string message throwable thrown lang util langutil is empty isempty message thrown fail nomessage message thrown get message getmessage imessage fail thrown message message imessage fail thrown imessage imessage kind fail message text soure location reader imessage fail string message line reader linereader reader isource location isourcelocation loc reader loc isource location isourcelocation empty reader reader get line number getlinenumber loc source location sourcelocation reader get file getfile message message imessage fail loc error nomessage message empty imessage imessage error string message isource location isourcelocation location lang util langutil is empty isempty message error nomessage message message imessage error location warning nomessage message empty imessage imessage warn string message isource location isourcelocation location lang util langutil is empty isempty message warning nomessage message message imessage warning location error nomessage message empty imessage imessage error string message lang util langutil is empty isempty message error nomessage message message imessage error warning nomessage message empty imessage imessage warn string message lang util langutil is empty isempty message warning nomessage message message imessage warning imessage debug message message content imessage debug string message message message imessage debug imessage info message message content imessage info string message message message imessage info isource location isourcelocation current file reader isource location isourcelocation make source location makesourcelocation line reader linereader reader lang util langutil throw iax if null throwiaxifnull reader reader reader get line number getlinenumber source location sourcelocation reader get file getfile printing messages print total counts message print stream starting param message holder messageholder param print message counts printmessagecounts print stream printstream imessage holder imessageholder message holder messageholder message holder messageholder print message counts printmessagecounts message holder messageholder print message counts printmessagecounts print stream printstream imessage holder imessageholder holder string prefix println prefix message holder messageholder message util messageutil render counts rendercounts holder print message print stream starting param message holder messageholder param print print stream printstream string imessage holder imessageholder imessage renderer imessagerenderer imessage handler imessagehandler print print stream printstream imessage holder imessageholder message holder messageholder print message holder messageholder string imessage renderer imessagerenderer imessage handler imessagehandler print message print stream starting prefix param message holder messageholder param print print stream printstream string imessage holder imessageholder imessage renderer imessagerenderer imessage handler imessagehandler print print stream printstream imessage holder imessageholder holder string prefix print holder prefix imessage renderer imessagerenderer imessage handler imessagehandler print message print stream starting prefix renderer param message holder messageholder param param renderer imessage render imessagerender render result message print print stream printstream string imessage holder imessageholder imessage renderer imessagerenderer imessage handler imessagehandler print print stream printstream imessage holder imessageholder holder string prefix imessage renderer imessagerenderer renderer print holder prefix renderer imessage handler imessagehandler print message print stream starting prefix renderer renders summary prefix message holder messageholder summary message form pre prefix kind rendering pre length position kinded messages ignoring selector omissions renderers free render multi output param print stream printstream sink silently param message holder messageholder imessage holder imessageholder messages print param renderer imessage render imessagerender render result message param selector imessage handler imessagehandler select messages render print print stream printstream imessage holder imessageholder holder string prefix imessage renderer imessagerenderer renderer imessage handler imessagehandler selector print holder prefix renderer selector print print stream printstream imessage holder imessageholder holder string prefix imessage renderer imessagerenderer renderer imessage handler imessagehandler selector print summary printsummary holder renderer renderer message selector selector pick print summary printsummary println prefix message holder messageholder message util messageutil render counts rendercounts holder iterator iter imessage kinds iterator iter has next hasnext imessage kind kind imessage kind iter selector is ignoring isignoring kind imessage messages holder get messages getmessages kind imessage holder imessageholder equal messages length selector handle message handlemessage messages string label prefix prefix kind lang util langutil to sized string tosizedstring println label renderer render to string rendertostring messages string to short string toshortstring imessage message message string message get message getmessage throwable message get thrown getthrown message get kind getkind lang util langutil unqualified class name unqualifiedclassname number message kind optionally greater list num messages nummessages list messages kind kind or greater orgreater lang util langutil is empty isempty messages imessage handler imessagehandler selector make selector makeselector kind or greater orgreater imessage result visit messages visitmessages messages selector result length select messages holder kind optionally greater kind messages rejected empty list returned unmodifiable list imessage imessage get messages except getmessagesexcept imessage holder imessageholder holder imessage kind kind or greater orgreater holder kind imessage imessage handler imessagehandler selector imessage handler imessagehandler handle message handlemessage imessage message imessage kind test message get kind getkind or greater orgreater kind is same or less than issameorlessthan test kind test is ignoring isignoring kind kind dont ignore dontignore imessage kind kind visit messages visitmessages holder selector unmodifiable list imessage complying parameters list get messages getmessages imessage holder imessageholder holder imessage kind kind or greater orgreater string infix xxx untested holder collections empty list kind lang util langutil is empty isempty infix holder get unmodifiable list view getunmodifiablelistview imessage handler imessagehandler selector make selector makeselector kind or greater orgreater infix imessage messages visit messages visitmessages holder selector lang util langutil is empty isempty messages collections empty list collections unmodifiable list unmodifiablelist arrays as list aslist messages extract messages type kind input list param messages empty list param kind messages message handler messagehandler get messages getmessages kind list get messages getmessages list messages imessage kind kind messages collections empty list kind messages array list arraylist result array list arraylist iterator iter messages iterator iter has next hasnext imessage element imessage iter kind element get kind getkind result add element result size collections empty list result map kind messages string key param kind string representing kind message imessage kind to string tostring kind imessage kind imessage kind get kind getkind string kind kind kind kind to lower case tolowercase iterator iter imessage kinds iterator iter has next hasnext imessage kind imessage kind iter kind equals to string tostring visitor messages holder optionally accumulating accepted visitor imessage visit messages visitmessages imessage holder imessageholder holder imessage handler imessagehandler visitor accumulate abort on fail abortonfail holder imessage imessage visit messages visitmessages holder get unmodifiable list view getunmodifiablelistview visitor accumulate abort on fail abortonfail visitor messages holder optionally accumulating accepted visitor imessage visit messages visitmessages imessage messages imessage handler imessagehandler visitor accumulate abort on fail abortonfail lang util langutil is empty isempty messages imessage imessage visit messages visitmessages arrays as list aslist messages visitor accumulate abort on fail abortonfail visitor collection messages optionally accumulating accepted visitor param messages empty imessage imessage param visitor visitor handle message handlemessage message message messages empty illegal argument exception illegalargumentexception param accumulate accepted imessage param abort on fail abortonfail visitor returns visiting imessage imessage collection empty accumulate visitor accepted imessage imessage accepted messages illegal argument exception illegalargumentexception collection imessage imessage visit messages visitmessages collection imessage messages imessage handler imessagehandler visitor accumulate abort on fail abortonfail lang util langutil is empty isempty messages imessage imessage lang util langutil throw iax if null throwiaxifnull visitor visitor array list arraylist result accumulate array list arraylist iterator iter messages iterator iter has next hasnext object iter lang util langutil throw iax if false throwiaxiffalse imessage expected imessage imessage imessage visitor handle message handlemessage accumulate result add abort on fail abortonfail accumulate result size imessage imessage imessage result to array toarray imessage imessage imessage handler imessagehandler handles imessage kind greater infix string param kind imessage kind required message param or greater orgreater accept messages greater kinds defined imessage kind comparator param infix string text require message empty accept message kind imessage handler imessagehandler selector works param specs imessage handler imessagehandler make selector makeselector imessage kind kind or greater orgreater string infix or greater orgreater lang util langutil is empty isempty infix kind imessage abort pick abort kind imessage debug pick debug kind imessage debug pick debug kind imessage error pick error kind imessage fail pick fail kind imessage info pick info kind imessage warning pick warning kind selector kindselector kind or greater orgreater infix visitors select messages imessage handler imessagehandler pick kind selector kindselector imessage kind imessage handler imessagehandler pick abort kind selector kindselector imessage abort imessage handler imessagehandler pick debug kind selector kindselector imessage debug imessage handler imessagehandler pick error kind selector kindselector imessage error imessage handler imessagehandler pick fail kind selector kindselector imessage fail imessage handler imessagehandler pick info kind selector kindselector imessage info imessage handler imessagehandler pick warning kind selector kindselector imessage warning imessage handler imessagehandler pick abort kind selector kindselector imessage abort imessage handler imessagehandler pick debug kind selector kindselector imessage debug imessage handler imessagehandler pick error kind selector kindselector imessage error imessage handler imessagehandler pick fail kind selector kindselector imessage fail imessage handler imessagehandler pick info kind selector kindselector imessage info imessage handler imessagehandler pick warning kind selector kindselector imessage warning implementation pick constants kind selector kindselector imessage handler imessagehandler imessage kind sought floor string infix kind selector kindselector imessage kind sought sought kind selector kindselector imessage kind sought floor sought floor kind selector kindselector imessage kind sought floor string infix sought sought floor floor infix lang util langutil is empty isempty infix infix message seek kind exact kind seek text sought handle message handlemessage imessage message message is ignoring isignoring message get kind getkind text in textin message handle message handlemessage message kind is ignoring isignoring imessage kind kind floor sought sought kind sought imessage kind comparator compare sought kind dont ignore dontignore imessage kind kind text in textin imessage message infix string text message get message getmessage message text index of indexof infix parameterize rendering behavior messages imessage renderer imessagerenderer string render to string rendertostring imessage message render message verbosely worse imessage renderer imessagerenderer message scaled imessage renderer imessagerenderer string to string tostring message scaled string render to string rendertostring imessage message message imessage imessage kind kind message get kind getkind level kind imessage abort kind imessage fail level kind imessage error kind imessage warning level level string result level result message tostring render to string rendertostring message result message render to string rendertostring message result message render to string rendertostring message throwable thrown message get thrown getthrown thrown level result thrown lang util langutil render exception short renderexceptionshort thrown result thrown lang util langutil render exception renderexception thrown result render message label imessage renderer imessagerenderer message label imessage renderer imessagerenderer string to string tostring message label string render to string rendertostring imessage message message imessage render message line rendermessageline message render message label source location imessage renderer imessagerenderer message label noloc imessage renderer imessagerenderer string to string tostring message label noloc string render to string rendertostring imessage message message imessage render message line rendermessageline message render message internal sep imessage renderer imessagerenderer message imessage renderer imessagerenderer string to string tostring message string render to string rendertostring imessage message message imessage render message line rendermessageline message render message internal sep trim text needed full source location imessage renderer imessagerenderer message force loc imessage renderer imessagerenderer string to string tostring message force loc string render to string rendertostring imessage message message imessage render message line rendermessageline message render message restriction including throwable imessage renderer imessagerenderer message imessage renderer imessagerenderer string to string tostring message string render to string rendertostring imessage message render message rendermessage message render message restriction including eliding throwable imessage renderer imessagerenderer message elided imessage renderer imessagerenderer string to string tostring message elided string render to string rendertostring imessage message render message rendermessage message render message restriction throwable thrown imessage renderer imessagerenderer message imessage renderer imessagerenderer string to string tostring message string render to string rendertostring imessage message message imessage render message line rendermessageline message render message wide internal sep throwable thrown imessage renderer imessagerenderer message wideline imessage renderer imessagerenderer string to string tostring message wideline string render to string rendertostring imessage message message imessage xxx revert render message line rendermessageline message render message to string tostring imessage imessage renderer imessagerenderer message tostring imessage renderer imessagerenderer string to string tostring message tostring string render to string rendertostring imessage message message imessage message to string tostring render message to short string toshortstring imessage imessage renderer imessagerenderer message imessage renderer imessagerenderer string to string tostring message string render to string rendertostring imessage message to short string toshortstring message renders imessage string ignoring empty elements eliding thrown stack traces imessage string rendering including esp throwable stack trace render source location rendersourcelocation isource location isourcelocation loc string render message rendermessage imessage message render message rendermessage message renders imessage string ignoring empty elements eliding thrown imessage string rendering including esp throwable stack trace render source location rendersourcelocation isource location isourcelocation loc string render message rendermessage imessage message elide message imessage isource location isourcelocation loc message get source location getsourcelocation string loc string locstring loc loc string result message get kind getkind loc string locstring message get message getmessage throwable thrown message get thrown getthrown thrown result lang util langutil render exception short renderexceptionshort thrown result lang util langutil render exception renderexception thrown elide message get extra source locations getextrasourcelocations is empty isempty result add extra source locations addextrasourcelocations message result string add extra source locations addextrasourcelocations imessage message string base message basemessage string writer stringwriter buf string writer stringwriter print writer printwriter writer print writer printwriter buf writer println base message basemessage iterator iter message get extra source locations getextrasourcelocations iterator iter has next hasnext isource location isourcelocation element isource location isourcelocation iter writer print tsee element to string tostring iter has next hasnext writer println buf close ioexception ioe buf get buffer getbuffer to string tostring render isource location isourcelocation string ignoring empty elements isource location isourcelocation file isource location isourcelocation column implementations get column getcolumn passed column input isource location isourcelocation string rendering pre file column pre string render source location rendersourcelocation isource location isourcelocation loc loc isource location isourcelocation string buffer stringbuffer string buffer stringbuffer file source file sourcefile loc get source file getsourcefile source file sourcefile isource location isourcelocation file append source file sourcefile get path getpath append loc get line getline append column loc get column getcolumn column isource location isourcelocation column append column to string tostring render message imessage kind printed unqualified exception remainder text location relative scale fit max characters render thrown unqualified param max number characters forced param text scale textscale relative proportion spend message exception message relative source location message suppressed param loc scale locscale relative proportion spend source location suppressed imessage message spec string render message line rendermessageline imessage message text scale textscale loc scale locscale max message imessage max max max max text scale textscale text scale textscale text scale textscale loc scale locscale loc scale locscale loc scale locscale string text message get message getmessage throwable thrown message get thrown getthrown isource location isourcelocation message get source location getsourcelocation imessage kind kind message get kind getkind string buffer stringbuffer result string buffer stringbuffer result append kind to string tostring result append thrown result append lang util langutil unqualified class name unqualifiedclassname thrown text equals text text thrown get message getmessage text scale textscale text text thrown decide message exception text string thrown get message getmessage length text string loc loc scale locscale file get source file getsourcefile isource location isourcelocation file loc get name getname get line getline col get column getcolumn get end line getendline col ignore numbers loc col col xxx suppressing nonstandard loc lang util langutil is empty isempty loc matching clipping loc loc budget text loc total scale totalscale loc scale locscale text scale textscale remainder max result length remainder total scale totalscale text size textsize remainder text scale textscale total scale totalscale loc size locsize remainder loc scale locscale total scale totalscale adjust underutilization extra loc size locsize loc length extra loc size locsize loc length text size textsize extra extra text size textsize text length extra text size textsize text length loc size locsize loc length loc size locsize extra loc size locsize loc length loc size locsize loc length text size textsize text length text size textsize text length text size textsize result append text substring text size textsize loc size locsize text size textsize result append result append loc substring loc size locsize result to string tostring string form type message kinds skipping string render counts rendercounts imessage holder imessageholder holder holder num messages nummessages messages string buffer stringbuffer string buffer stringbuffer iterator iter imessage kinds iterator iter has next hasnext imessage kind kind imessage kind iter num holder num messages nummessages kind num append num kind to string tostring factory handler adapted print stream printstream xxx weak handles println string param handler imessage handler imessagehandler sink messages generated param kind imessage kind message create param overage ouput stream ouputstream text captured handler system illegal argument exception illegalargumentexception kind handler print stream printstream handler print stream handlerprintstream imessage handler imessagehandler handler imessage kind kind output stream outputstream overage string prefix lang util langutil throw iax if null throwiaxifnull handler handler lang util langutil throw iax if null throwiaxifnull kind kind handler print stream handlerprintstream print stream printstream handler print stream handlerprintstream overage system overage println println println object println to string tostring println string input string text message textmessage prefix input prefix input imessage message text message textmessage kind handler handle message handlemessage handler print stream handlerprintstream utility message util messageutil handle messages handler param handler imessage handler imessagehandler sink messages source param holder imessage holder imessageholder source messages handle param fast fail fastfail failure sink handle message handlemessage failed handle all handleall imessage handler imessagehandler sink imessage holder imessageholder source fast fail fastfail handle all handleall sink source fast fail fastfail handle messages handler param handler imessage handler imessagehandler sink messages source param holder imessage holder imessageholder source messages handle param kind imessage kind select param or greater orgreater accept greater kinds param fast fail fastfail failure sink handle message handlemessage failed handle all handleall imessage handler imessagehandler sink imessage holder imessageholder source imessage kind kind or greater orgreater fast fail fastfail lang util langutil throw iax if null throwiaxifnull sink sink lang util langutil throw iax if null throwiaxifnull source source handle all handleall sink source get messages getmessages kind or greater orgreater fast fail fastfail handle messages handler kind optionally greater pass kind messages returns param handler imessage handler imessagehandler sink messages source param holder imessage holder imessageholder source messages handle param kind imessage kind reject param or greater orgreater reject greater kinds param fast fail fastfail failure sink handle message handlemessage failed handle all except handleallexcept imessage handler imessagehandler sink imessage holder imessageholder source imessage kind kind or greater orgreater fast fail fastfail lang util langutil throw iax if null throwiaxifnull sink sink lang util langutil throw iax if null throwiaxifnull source source kind imessage messages get messages except getmessagesexcept source kind or greater orgreater handle all handleall sink messages fast fail fastfail handle messages sink param handler imessage handler imessagehandler sink messages source param sources imessage messages handle param fast fail fastfail failure sink handle message handlemessage failed illegal argument exception illegalargumentexception sink handle all handleall imessage handler imessagehandler sink imessage sources fast fail fastfail lang util langutil throw iax if null throwiaxifnull sink sink lang util langutil is empty isempty sources result sources length sink handle message handlemessage sources fast fail fastfail result result result