copyright zxing authors licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license google zxing client androidtest android content context android graphics point android graphics rect android hardware camera android build android handler android message android util log android view display android view surface holder surfaceholder android view window manager windowmanager java ioexception object wraps camera service object expects talking implementation encapsulates steps needed preview sized images preview decoding author dswitkin google daniel switkin camera manager cameramanager string tag camera manager cameramanager min frame width min frame height max frame width max frame height camera manager cameramanager camera manager cameramanager camera camera context context point screen resolution screenresolution point camera resolution cameraresolution rect framing rect framingrect handler preview handler previewhandler preview message previewmessage handler auto focus handler autofocushandler auto focus message autofocusmessage initialized previewing preview format previewformat string preview format string previewformatstring use one shot preview callback useoneshotpreviewcallback preview frames delivered pass registered handler clear handler receive message camera preview callback previewcallback preview callback previewcallback camera preview callback previewcallback on preview frame onpreviewframe data camera camera use one shot preview callback useoneshotpreviewcallback camera set preview callback setpreviewcallback preview handler previewhandler message message preview handler previewhandler obtain message obtainmessage preview message previewmessage camera resolution cameraresolution camera resolution cameraresolution data message send to target sendtotarget preview handler previewhandler autofocus callbacks arrive dispatched handler requested camera auto focus callback autofocuscallback auto focus callback autofocuscallback camera auto focus callback autofocuscallback on auto focus onautofocus success camera camera auto focus handler autofocushandler message message auto focus handler autofocushandler obtain message obtainmessage auto focus message autofocusmessage success barcode scanner insert delay continuous focus test app send message message send to target sendtotarget auto focus handler autofocushandler initializes object context calling activity param context activity camera init context context camera manager cameramanager camera manager cameramanager camera manager cameramanager context camera manager cameramanager singleton instance reference camera manager cameramanager singleton camera manager cameramanager camera manager cameramanager camera manager cameramanager context context context context camera initialized previewing camera set one shot preview callback setoneshotpreviewcallback race condition cupcake older camera set preview callback setpreviewcallback earlier donut efficient shot callback older swamp system memory sdk introduced donut sdk use one shot preview callback useoneshotpreviewcallback integer parse int parseint build version sdk build version codes cupcake cupcake use one shot preview callback useoneshotpreviewcallback integer parse int parseint build version sdk opens camera driver initializes hardware parameters param holder surface object camera draw preview frames ioexception camera driver failed open string open driver opendriver surface holder surfaceholder holder get parameters getparameters ioexception string result camera camera camera open camera set preview display setpreviewdisplay holder initialized initialized get screen resolution getscreenresolution get parameters getparameters result collect camera parameters collectcameraparameters set camera parameters setcameraparameters result closes camera driver close driver closedriver camera camera release camera asks camera hardware drawing preview frames screen start preview startpreview camera previewing camera start preview startpreview previewing tells camera drawing preview frames stop preview stoppreview camera previewing use one shot preview callback useoneshotpreviewcallback camera set preview callback setpreviewcallback camera stop preview stoppreview preview handler previewhandler auto focus handler autofocushandler previewing single preview frame returned handler supplied data arrive message obj field width height encoded message arg message arg param handler handler send message param message field message request preview frame requestpreviewframe handler handler message camera previewing preview handler previewhandler handler preview message previewmessage message use one shot preview callback useoneshotpreviewcallback camera set one shot preview callback setoneshotpreviewcallback preview callback previewcallback camera set preview callback setpreviewcallback preview callback previewcallback asks camera hardware perform autofocus param handler handler notify autofocus completes param message message deliver request auto focus requestautofocus handler handler message camera previewing auto focus handler autofocushandler handler auto focus message autofocusmessage message camera auto focus autofocus auto focus callback autofocuscallback calculates framing rect draw user place barcode target helps alignment forces user hold device ensure image focus rectangle draw screen window coordinates rect get framing rect getframingrect framing rect framingrect camera width camera resolution cameraresolution width min frame width width min frame width width max frame width width max frame width height camera resolution cameraresolution height min frame height height min frame height height max frame height height max frame height left offset leftoffset camera resolution cameraresolution width top offset topoffset camera resolution cameraresolution height framing rect framingrect rect left offset leftoffset top offset topoffset left offset leftoffset width top offset topoffset height log tag calculated framing rect framing rect framingrect framing rect framingrect sets camera preview images preview decoding detect preview format build luminance source buildluminancesource build luminance source luminancesource subclass force yuv smallest planar barcode scanning copy cases set camera parameters setcameraparameters camera parameters parameters camera get parameters getparameters camera size size parameters get preview size getpreviewsize log tag preview size size width size height preview format previewformat parameters get preview format getpreviewformat preview format string previewformatstring parameters preview format log tag preview format preview format previewformat preview format string previewformatstring ensure camera resolution multiple screen todo solution request supported preview resolutions pick match parameter standardized cupcake camera resolution cameraresolution point camera resolution cameraresolution screen resolution screenresolution camera resolution cameraresolution screen resolution screenresolution log tag setting preview size camera resolution cameraresolution camera resolution cameraresolution parameters set preview size setpreviewsize camera resolution cameraresolution camera resolution cameraresolution fixme hack turn flash samsung galaxy parameters flash standard setting turn flash devices honor parameters flash mode camera set parameters setparameters parameters string collect camera parameters collectcameraparameters camera parameters parameters camera get parameters getparameters string params parameters flatten split string buffer stringbuffer result string buffer stringbuffer result append camera parameters string param params result append result append param result append result to string tostring point get screen resolution getscreenresolution screen resolution screenresolution window manager windowmanager manager window manager windowmanager context get system service getsystemservice context window service display display manager get default display getdefaultdisplay screen resolution screenresolution point display get width getwidth display get height getheight screen resolution screenresolution