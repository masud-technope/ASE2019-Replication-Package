copyright zxing authors licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license google zxing pdf decoder google zxing format exception formatexception google zxing not found exception notfoundexception google zxing common bit matrix bitmatrix parses bit matrix bitmatrix image codewords author sita lab kevin osullivan sita aero bit matrix parser bitmatrixparser max row difference max rows max columns maximum codewords data error max capacity modules symbol bit matrix bitmatrix bit matrix bitmatrix rows columns left column ecdata leftcolumnecdata right column ecdata rightcolumnecdata erase count erasecount erasures ec level eclevel bit matrix parser bitmatrixparser bit matrix bitmatrix bit matrix bitmatrix bit matrix bitmatrix bit matrix bitmatrix ensure separability rows codewords consecutive rows belong subsets codewords routine scans symbols barcode finds number consecutive rows assumes row codewords processes codeword array array codewords read codewords readcodewords format exception formatexception width bit matrix bitmatrix get width getwidth todo rectangular matrix height width erasures max capacity number pixels module dimension module width modulewidth bit matrix bitmatrix get module width getmodulewidth image sampled reduced module width modulewidth row counters rowcounters width codewords max capacity matching consecutive scans matchingconsecutivescans row in progress rowinprogress row number rownumber row height rowheight height row number rownumber max rows todo error code row difference rowdifference difference previous width previous bit matrix bitmatrix bit matrix bitmatrix row difference rowdifference row difference rowdifference module width modulewidth max row difference width accumulate black pixels bit matrix bitmatrix row counters rowcounters increment number consecutive rows pixels matching consecutive scans matchingconsecutivescans times module size matching consecutive scans matchingconsecutivescans module width modulewidth mgmg previous matches match processing unique row row in progress rowinprogress row in progress rowinprogress process row process row processrow row counters rowcounters row number rownumber row height rowheight codewords todo error code reinitialize row counters row counters rowcounters length row counters rowcounters row number rownumber row height rowheight matching consecutive scans matchingconsecutivescans row in progress rowinprogress row height rowheight check row progress exited row in progress rowinprogress process row row number rownumber max rows todo error code process row processrow row counters rowcounters row number rownumber row height rowheight codewords row number rownumber rows row number rownumber erasures trim array trimarray erasures erase count erasecount trim array trimarray codewords trim array required size param array array param size size trim trimmed array trim array trimarray array size size size size array convert symbols row codewords pdf symbol character consists bar elements space elements modules wide bar space elements measure modules total param row counters rowcounters array counts black pixels column row param row number rownumber current row number codewords param row height rowheight height row pixels param codewords codeword array save codewords param codewords array codeword array processing row process row processrow row counters rowcounters row number rownumber row height rowheight codewords format exception formatexception width bit matrix bitmatrix get width getwidth column number columnnumber symbol width modules symbol real life surely rare misdecode modules symbol row counters rowcounters length format exception formatexception get format instance getformatinstance mask modules symbol mask mask row counters rowcounters modules symbol mask row height rowheight symbol mask column number columnnumber get codeword getcodeword symbol column number columnnumber column number columnnumber width modules symbol skip errors row indicator column erasures erase count erasecount erase count erasecount codewords left row indicator column get codeword getcodeword symbol column number columnnumber column number columnnumber ec level eclevel row number rownumber left column ecdata leftcolumnecdata symbol columns column number columnnumber column number columnnumber column number columnnumber row indicator column codeword columns overwrite codeword row indicator ec level eclevel row number rownumber right column ecdata rightcolumnecdata codewords right column ecdata rightcolumnecdata left column ecdata leftcolumnecdata left column ecdata leftcolumnecdata ec level eclevel right column ecdata rightcolumnecdata rows codewords build symbol pixels symbol character defined digit bar space sequence represents module widths elements symbol character param counters array pixel counter bar space pattern symbol get symbol getsymbol counters module width modulewidth pixels in symbol pixelsinsymbol counters length pixels in symbol pixelsinsymbol counters avg module width avgmodulewidth pixels in symbol pixelsinsymbol toggle shift symbol counters length counters module width modulewidth counters narrow bar space chance counters module width modulewidth calculate number modules symbol modules counters module width modulewidth modules counters module width modulewidth modules counters avg module width avgmodulewidth modules maximum size modules modules modules modules toggle modules symbol shift toggle toggle shift modules symbol translate symbol codeword param symbol codeword symbol get codeword getcodeword symbol sym symbol sym ffff find codeword index findcodewordindex sym codeword table binary search find codeword symbol param symbol symbol barcode codeword table find codeword index findcodewordindex symbol upto symbol table length upto compute mid point mid upto symbol symbol table mid repeat search bottom upto mid symbol symbol table mid repeat search top mid position mid debug system println failed find codeword symbol symbol ends bit faster math rounds argument nearest rounds returns array locations representing erasures get erasures geterasures erasures get eclevel geteclevel ec level eclevel convert symbols row codewords pdf symbol character consists bar elements space elements modules wide bar space elements measure modules total param row counters rowcounters array counts black pixels column row param row number rownumber current row number codewords param row height rowheight height row pixels param module width modulewidth size module pixels param codewords codeword array save codewords param codewords array codeword array processing row not found exception notfoundexception process row processrow row counters rowcounters row number rownumber row height rowheight module width modulewidth codewords width bit matrix bitmatrix get dimension getdimension first black firstblack first black firstblack first black firstblack width first black firstblack step find black pixels row counters rowcounters first black firstblack row height rowheight counters black pixels white time symbol column number columnnumber first black firstblack width white pixels black column black row counters rowcounters row height rowheight width width counters black pixels row don count counters counters row counters rowcounters row height rowheight white pixels width white pixels row chance exit gracefully white pixels counters black pixels counters black white black white black white black white stumbled black column number columnnumber max columns wrong exceeded maximum columns specification todo error code column number columnnumber symbol get symbol getsymbol counters module width modulewidth get codeword getcodeword symbol debug system println to binary string tobinarystring symbol column number columnnumber column number columnnumber erasures erase count erasecount erase count erasecount codewords left row indicator column symbol get symbol getsymbol counters module width modulewidth get codeword getcodeword symbol ec level eclevel row number rownumber left column ecdata leftcolumnecdata step pixel examined pass counters columns column number columnnumber column number columnnumber introduce errors row number rownumber column number columnnumber codewords erasures erase count erasecount erase count erasecount row number rownumber column number columnnumber codewords erasures erase count erasecount erase count erasecount row number rownumber column number columnnumber codewords erasures erase count erasecount erase count erasecount symbol column number columnnumber row indicator column codeword columns overwrite codeword row indicator ec level eclevel row number rownumber right column ecdata rightcolumnecdata codewords right column ecdata rightcolumnecdata left column ecdata leftcolumnecdata left column ecdata leftcolumnecdata ec level eclevel right column ecdata rightcolumnecdata rows codewords sorted table symbols extracted pdf specification symbol table corresponds codeword table symbol table bde bec cde cec cfa dbc dcc dee ebe ece edc afc bbe bce bdc cbe cce cdc dde dec dfa ebc ecc eee efc fbe fce fdc bbc bcc bee cbc ccc cee dbe dce ddc ede eec efc fce fdc cfc fbc fcc bde bec cde cec dbc dcc dee ece edc bbc bcc bee cbc ccc dce efa cfa dcc ebe ece fae abe ace acfc adc adf aef afb afc afc afd afde bae bafc bbce bbe bbe bbe bcb bcbe bcce bce bce bce bdc bdc bdc bdd bde bdfa bea bebc becc bef cae cafc cbb cbbe cbce cbdc cbe cbe cbe cbf ccb ccbe ccce cce cce cce cdc cdc cdc cdd cdde cde cdfa cea cebc cecc cef cef cfa cfac cfca cfd cfd dac daf dba dbcc dbf dbf dca dcbc dccc dcf dcf ddce dde dde dde deb dec dec dec ded dee defa dfa dfa dfa eaf ebb ebc ebc ebc ebd ebde ebe ebec ecb ecc ecc ecc ecd ece ecfa eda edcc edf edf eeb eebe eece eedc eee eee eee efae efb efb efd fab fac fac fac fad fade fae faec fba fba fba fbb fbda table codewords symbols codeword table