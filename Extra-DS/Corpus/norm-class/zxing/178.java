copyright zxing authors licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license google zxing common google zxing barcode format barcodeformat google zxing binary bitmap binarybitmap google zxing decode hint type decodehinttype google zxing luminance source luminancesource google zxing reader google zxing reader exception readerexception google zxing result google zxing result metadata type resultmetadatatype google zxing client buffered image luminance source bufferedimageluminancesource junit framework test case testcase javax imageio image io imageio java awt geom affine transform affinetransform java awt geom rectangle java awt image affine transform op affinetransformop java awt image buffered image bufferedimage java awt image buffered image op bufferedimageop java file java file input stream fileinputstream java filename filter filenamefilter java ioexception java input stream reader inputstreamreader java nio charset charset java util array list arraylist java util hashtable java util list java util map java util properties author sean owen author dswitkin google daniel switkin abstract black box test case abstractblackboxtestcase test case testcase hashtable decode hint type decodehinttype object harder hint harder hint hashtable decode hint type decodehinttype object harder hint decode hint type decodehinttype harder filename filter filenamefilter image filter filename filter filenamefilter accept file dir string string lower case lowercase to lower case tolowercase lower case lowercase ends with endswith jpg lower case lowercase ends with endswith jpeg lower case lowercase ends with endswith gif lower case lowercase ends with endswith png summary results summaryresults total found totalfound total must pass totalmustpass total tests totaltests summary results summaryresults total found totalfound total must pass totalmustpass total tests totaltests summary results summaryresults must pass mustpass total total found totalfound total must pass totalmustpass must pass mustpass total tests totaltests total add summary results summaryresults total found totalfound total found totalfound total must pass totalmustpass total must pass totalmustpass total tests totaltests total tests totaltests string to string tostring n summary nsummary decoded total found totalfound images total tests totaltests total found totalfound total tests totaltests total must pass totalmustpass required test result testresult must pass count mustpasscount try harder count tryhardercount rotation test result testresult must pass count mustpasscount try harder count tryhardercount rotation must pass count mustpasscount must pass count mustpasscount try harder count tryhardercount try harder count tryhardercount rotation rotation get must pass count getmustpasscount must pass count mustpasscount get try harder count gettryhardercount try harder count tryhardercount get rotation getrotation rotation file test base testbase reader barcode reader barcodereader barcode format barcodeformat expected format expectedformat list test result testresult test results testresults abstract black box test case abstractblackboxtestcase string test base path suffix testbasepathsuffix reader barcode reader barcodereader barcode format barcodeformat expected format expectedformat workaround prevent aggravation ide file test base testbase file test base path suffix testbasepathsuffix test base testbase exists starting core test base project root test base testbase file core test base path suffix testbasepathsuffix test base testbase test base testbase barcode reader barcodereader barcode reader barcodereader expected format expectedformat expected format expectedformat test results testresults array list arraylist test result testresult adds test current directory images param must pass count mustpasscount number images decode test pass param try harder count tryhardercount number images pass harder flag param rotation rotation degrees clockwise test add test addtest must pass count mustpasscount try harder count tryhardercount rotation test results testresults add test result testresult must pass count mustpasscount try harder count tryhardercount rotation file get image files getimagefiles assert true asserttrue core directory test base testbase exists test base testbase list files listfiles image filter reader get reader getreader barcode reader barcodereader hashtable decode hint type decodehinttype object get hints gethints workaround abstract negative black box test case abstractnegativeblackboxtestcase overrides method summary results summaryresults test black box testblackbox ioexception test black box counting results testblackboxcountingresults summary results summaryresults test black box counting results testblackboxcountingresults assert on failure assertonfailure ioexception assert false assertfalse test results testresults is empty isempty file image files imagefiles get image files getimagefiles test count testcount test results testresults size passed counts passedcounts test count testcount try harder counts tryhardercounts test count testcount file test image testimage image files imagefiles system println starting test image testimage get absolute path getabsolutepath buffered image bufferedimage image image io imageio read test image testimage string test image file name testimagefilename test image testimage get name getname string file base name filebasename test image file name testimagefilename substring test image file name testimagefilename index of indexof file expected text file expectedtextfile file test base testbase file base name filebasename txt string expected text expectedtext read file as string readfileasstring expected text file expectedtextfile file expected metadata file expectedmetadatafile file test base testbase file base name filebasename metadata txt properties expected metadata expectedmetadata properties expected metadata file expectedmetadatafile exists expected metadata expectedmetadata load file input stream fileinputstream expected metadata file expectedmetadatafile test count testcount rotation test results testresults get rotation getrotation buffered image bufferedimage rotated image rotatedimage rotate image rotateimage image rotation luminance source luminancesource source buffered image luminance source bufferedimageluminancesource rotated image rotatedimage binary bitmap binarybitmap bitmap binary bitmap binarybitmap hybrid binarizer hybridbinarizer source decode bitmap rotation expected text expectedtext expected metadata expectedmetadata passed counts passedcounts decode bitmap rotation expected text expectedtext expected metadata expectedmetadata try harder counts tryhardercounts print tests total found totalfound total must pass totalmustpass test count testcount system println rotation test results testresults get rotation getrotation degrees system println passed counts passedcounts image files imagefiles length images passed test results testresults get must pass count getmustpasscount required system println try harder counts tryhardercounts image files imagefiles length images passed harder test results testresults get try harder count gettryhardercount required total found totalfound passed counts passedcounts total found totalfound try harder counts tryhardercounts total must pass totalmustpass test results testresults get must pass count getmustpasscount total must pass totalmustpass test results testresults get try harder count gettryhardercount total tests totaltests image files imagefiles length test count testcount system println totals decoded total found totalfound images total tests totaltests total found totalfound total tests totaltests total must pass totalmustpass required total found totalfound total must pass totalmustpass system println test lax total found totalfound total must pass totalmustpass images total found totalfound total must pass totalmustpass system println test failed total must pass totalmustpass total found totalfound images failed assert on failure assertonfailure test count testcount assert true asserttrue rotation test results testresults get rotation getrotation degrees images failed passed counts passedcounts test results testresults get must pass count getmustpasscount assert true asserttrue harder rotation test results testresults get rotation getrotation degrees images failed try harder counts tryhardercounts test results testresults get try harder count gettryhardercount summary results summaryresults total found totalfound total must pass totalmustpass total tests totaltests decode binary bitmap binarybitmap source rotation string expected text expectedtext properties expected metadata expectedmetadata try harder tryharder result result string suffix try harder tryharder harder rotation rotation hashtable decode hint type decodehinttype object hints get hints gethints try harder tryharder hints hints harder hint hints decode hint type decodehinttype harder result barcode reader barcodereader decode source hints reader exception readerexception system println suffix expected format expectedformat equals result get barcode format getbarcodeformat system println format mismatch expected expected format expectedformat result get barcode format getbarcodeformat suffix string result text resulttext result get text gettext expected text expectedtext equals result text resulttext system println mismatch expected expected text expectedtext result text resulttext suffix hashtable result metadata resultmetadata result get result metadata getresultmetadata map entry object object metadatum expected metadata expectedmetadata entry set entryset result metadata type resultmetadatatype key result metadata type resultmetadatatype value of valueof metadatum get key getkey to string tostring object expected value expectedvalue metadatum get value getvalue object actual value actualvalue result metadata resultmetadata result metadata resultmetadata key expected value expectedvalue equals actual value actualvalue system println metadata mismatch key key expected expected value expectedvalue actual value actualvalue string read file as string readfileasstring file file ioexception string builder stringbuilder result string builder stringbuilder file length input stream reader inputstreamreader reader input stream reader inputstreamreader file input stream fileinputstream file charset for name forname utf buffer chars read charsread chars read charsread reader read buffer result append buffer chars read charsread reader close result to string tostring buffered image bufferedimage rotate image rotateimage buffered image bufferedimage original degrees degrees original radians math to radians toradians degrees transform simply find bounding box don image affine transform affinetransform affine transform affinetransform rotate radians original get width getwidth original get height getheight buffered image op bufferedimageop affine transform op affinetransformop affine transform op affinetransformop type bicubic rectangle get bounds getbounds original width math ceil get width getwidth height math ceil get height getheight real transform size image translate rotate centered affine transform affinetransform rotate radians width height translate width original get width getwidth height original get height getheight affine transform op affinetransformop affine transform op affinetransformop type bicubic filter original