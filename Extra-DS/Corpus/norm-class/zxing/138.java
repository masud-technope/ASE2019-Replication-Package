copyright zxing authors licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license google zxing multi qrcode detector google zxing decode hint type decodehinttype google zxing not found exception notfoundexception google zxing result point resultpoint google zxing result point callback resultpointcallback google zxing common bit matrix bitmatrix google zxing common collections google zxing common comparator google zxing qrcode detector finder pattern finderpattern google zxing qrcode detector finder pattern finder finderpatternfinder google zxing qrcode detector finder pattern info finderpatterninfo java util hashtable java util vector attempts find finder patterns code finder patterns square markers corners code thread safe reentrant thread allocate object contrast link finder pattern finder finderpatternfinder array code locations image harder hint detection author sean owen author hannes erven multi finder pattern finder multifinderpatternfinder finder pattern finder finderpatternfinder finder pattern info finderpatterninfo empty result array finder pattern info finderpatterninfo todo min module count max module count great hints user limits number regions decode max legal count modules code edge max module count edge min legal count modules code edge min module count edge arbitrary cutoff point determining finder patterns belong code differ diff modsize cutoff percent percent estimated modules sizes diff modsize cutoff percent arbitrary cutoff point determining finder patterns belong code differ diff modsize cutoff pixels module estimated modules sizes diff modsize cutoff comparator orders finder patterns finderpatterns estimated module size module size comparator modulesizecomparator comparator compare object center object center finder pattern finderpattern center get estimated module size getestimatedmodulesize finder pattern finderpattern center get estimated module size getestimatedmodulesize creates finder search image finder patterns param image image search multi finder pattern finder multifinderpatternfinder bit matrix bitmatrix image image multi finder pattern finder multifinderpatternfinder bit matrix bitmatrix image result point callback resultpointcallback result point callback resultpointcallback image result point callback resultpointcallback link finder pattern finderpattern list candidates detected link center quorum times module size differs average patterns not found exception notfoundexception finder patterns exist finder pattern finderpattern select best patterns selectbestpatterns not found exception notfoundexception vector possible centers possiblecenters get possible centers getpossiblecenters size possible centers possiblecenters size size couldn find finder patterns not found exception notfoundexception get not found instance getnotfoundinstance modifications safely detect multiple codes equal size size finder pattern finderpattern finder pattern finderpattern finder pattern finderpattern possible centers possiblecenters element at elementat finder pattern finderpattern possible centers possiblecenters element at elementat finder pattern finderpattern possible centers possiblecenters element at elementat sort estimated module size speed upcoming checks collections insertion sort insertionsort possible centers possiblecenters module size comparator modulesizecomparator start build list tuples finder locations feature module sizes distance estimated module count specification distance upper left left top bottom finder patterns form triangle angle checked comparing top bottom left distance pythagoras note point code region counterintuitive performance penalty big point good quality decision finders represent code chance layouted code layout decoder decode holder vector vector size finder pattern finderpattern finder pattern finderpattern possible centers possiblecenters element at elementat size finder pattern finderpattern finder pattern finderpattern possible centers possiblecenters element at elementat compare expected module sizes skip v mod size vmodsize get estimated module size getestimatedmodulesize get estimated module size getestimatedmodulesize math min get estimated module size getestimatedmodulesize get estimated module size getestimatedmodulesize v mod size vmodsize math abs get estimated module size getestimatedmodulesize get estimated module size getestimatedmodulesize v mod size vmodsize diff modsize cutoff v mod size vmodsize diff modsize cutoff percent interesting elements size finder pattern finderpattern finder pattern finderpattern possible centers possiblecenters element at elementat compare expected module sizes skip v mod size vmodsize get estimated module size getestimatedmodulesize get estimated module size getestimatedmodulesize math min get estimated module size getestimatedmodulesize get estimated module size getestimatedmodulesize v mod size vmodsize math abs get estimated module size getestimatedmodulesize get estimated module size getestimatedmodulesize v mod size vmodsize diff modsize cutoff v mod size vmodsize diff modsize cutoff percent interesting elements finder pattern finderpattern test result point resultpoint order best patterns orderbestpatterns test calculate distances topleft bottomleft topleft topright diagonal finder pattern info finderpatterninfo info finder pattern info finderpatterninfo test result point resultpoint distance info get top left gettopleft info get bottom left getbottomleft result point resultpoint distance info get top right gettopright info get bottom left getbottomleft result point resultpoint distance info get top left gettopleft info get top right gettopright check sizes estimated module count estimatedmodulecount get estimated module size getestimatedmodulesize estimated module count estimatedmodulecount max module count edge estimated module count estimatedmodulecount min module count edge calculate difference edge lengths percent v abbc vabbc math abs math min v abbc vabbc calculate diagonal length assuming angle topleft d cpy dcpy math sqrt compare real distance v py c vpyc math abs d cpy dcpy math min d cpy dcpy v py c vpyc tests passed add element addelement test iterate iterate is empty isempty finder pattern finderpattern result array resultarray finder pattern finderpattern size size result array resultarray finder pattern finderpattern element at elementat result array resultarray not found exception notfoundexception get not found instance getnotfoundinstance finder pattern info finderpatterninfo find multi findmulti hashtable hints not found exception notfoundexception try harder tryharder hints hints contains key containskey decode hint type decodehinttype harder bit matrix bitmatrix image get image getimage max i maxi image get height getheight max j maxj image get width getwidth black white black white black modules ratio tracks number modules assume maximum version code support takes height image account center modules size smallest number pixels center skip harder versions dense i skip iskip max i maxi max modules i skip iskip min skip try harder tryharder i skip iskip min skip state count statecount i skip iskip max i maxi i skip iskip row black white values state count statecount state count statecount state count statecount state count statecount state count statecount current state currentstate max j maxj image black pixel current state currentstate counting white pixels current state currentstate state count statecount current state currentstate white pixel current state currentstate counting black pixels current state currentstate winner found pattern cross foundpatterncross state count statecount confirmed handle possible center handlepossiblecenter state count statecount confirmed advance black pixel max j maxj image white pixel clear start current state currentstate state count statecount state count statecount state count statecount state count statecount state count statecount shift counts state count statecount state count statecount state count statecount state count statecount state count statecount state count statecount state count statecount state count statecount current state currentstate state count statecount current state currentstate counting white pixels state count statecount current state currentstate found pattern cross foundpatterncross state count statecount handle possible center handlepossiblecenter state count statecount max j maxj found pattern cross foundpatterncross i skip iskip finder pattern finderpattern pattern info patterninfo select best patterns selectbestpatterns vector result vector pattern info patterninfo length finder pattern finderpattern pattern pattern info patterninfo result point resultpoint order best patterns orderbestpatterns pattern result add element addelement finder pattern info finderpatterninfo pattern result is empty isempty empty result array finder pattern info finderpatterninfo result array resultarray finder pattern info finderpatterninfo result size result size result array resultarray finder pattern info finderpatterninfo result element at elementat result array resultarray