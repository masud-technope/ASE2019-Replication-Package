copyright zxing authors licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license google zxing common java byte array output stream bytearrayoutputstream easily build array bytes appending bits time author sean owen bit source builder bitsourcebuilder byte array output stream bytearrayoutputstream output next byte nextbyte bits left in next byte bitsleftinnextbyte bit source builder bitsourcebuilder output byte array output stream bytearrayoutputstream next byte nextbyte bits left in next byte bitsleftinnextbyte write num bits numbits num bits numbits bits left in next byte bitsleftinnextbyte next byte nextbyte num bits numbits next byte nextbyte bits left in next byte bitsleftinnextbyte num bits numbits bits left in next byte bitsleftinnextbyte output write next byte nextbyte next byte nextbyte bits left in next byte bitsleftinnextbyte bits to write now bitstowritenow bits left in next byte bitsleftinnextbyte num rest of bits numrestofbits num bits numbits bits to write now bitstowritenow mask x ff xff bits to write now bitstowritenow value to write now valuetowritenow num rest of bits numrestofbits mask write value to write now valuetowritenow bits to write now bitstowritenow write num rest of bits numrestofbits to byte array tobytearray bits left in next byte bitsleftinnextbyte write bits left in next byte bitsleftinnextbyte output to byte array tobytearray