copyright zxing authors licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license google zxing oned google zxing binary bitmap binarybitmap google zxing checksum exception checksumexception google zxing decode hint type decodehinttype google zxing format exception formatexception google zxing not found exception notfoundexception google zxing reader google zxing reader exception readerexception google zxing result google zxing result metadata type resultmetadatatype google zxing result point resultpoint google zxing common bit array bitarray java util enumeration java util hashtable encapsulates functionality implementation common families dimensional barcodes author dswitkin google daniel switkin author sean owen one dreader onedreader reader integer math shift pattern match result scale factor integer math shift result decode binary bitmap binarybitmap image not found exception notfoundexception format exception formatexception decode image note don rotation harder flag rotation supported result decode binary bitmap binarybitmap image hashtable hints not found exception notfoundexception format exception formatexception do decode dodecode image hints not found exception notfoundexception nfe try harder tryharder hints hints contains key containskey decode hint type decodehinttype harder try harder tryharder image is rotate supported isrotatesupported binary bitmap binarybitmap rotated image rotatedimage image rotate counter clockwise rotatecounterclockwise result result do decode dodecode rotated image rotatedimage hints hashtable metadata result get result metadata getresultmetadata orientation metadata metadata contains key containskey result metadata type resultmetadatatype orientation orientation orientation integer metadata result metadata type resultmetadatatype orientation int value intvalue result put metadata putmetadata result metadata type resultmetadatatype orientation integer orientation result point resultpoint points result get result points getresultpoints height rotated image rotatedimage get height getheight points length points result point resultpoint height points get y gety points get x getx result nfe reset examine rows middle outward searching alternately middle time row step rowstep number rows successive attempt middle scan row middle middle row step rowstep middle row step rowstep middle row step rowstep row step rowstep bigger image taller arbitrarily decided moving image pretty good image harder param image image decode param hints hints requested contents decoded barcode not found exception notfoundexception spontaneous errors occur result do decode dodecode binary bitmap binarybitmap image hashtable hints not found exception notfoundexception width image get width getwidth height image get height getheight bit array bitarray row bit array bitarray width middle height try harder tryharder hints hints contains key containskey decode hint type decodehinttype harder row step rowstep math max height try harder tryharder max lines maxlines try harder tryharder image center max lines maxlines height rows spaced roughly middle image max lines maxlines max lines maxlines scanning middle determine row row steps above or below rowstepsaboveorbelow is above isabove row number rownumber middle row step rowstep is above isabove row steps above or below rowstepsaboveorbelow row steps above or below rowstepsaboveorbelow row number rownumber row number rownumber height oops top bottom estimate black point row load row image get black row getblackrow row number rownumber row not found exception notfoundexception nfe handle decoding upside barcodes attempt attempt attempt attempt reverse row row reverse start center hints hints contains key containskey decode hint type decodehinttype result point callback clone hashtable new hints newhints hashtable enumeration hint enum hintenum hints hint enum hintenum has more elements hasmoreelements object key hint enum hintenum next element nextelement key equals decode hint type decodehinttype result point callback new hints newhints key hints key hints new hints newhints barcode result result decode row decoderow row number rownumber row hints barcode attempt upside note result put metadata putmetadata result metadata type resultmetadatatype orientation integer remember flip result points horizontally result point resultpoint points result get result points getresultpoints points result point resultpoint width points get x getx points get y gety points result point resultpoint width points get x getx points get y gety result reader exception readerexception not found exception notfoundexception get not found instance getnotfoundinstance records size successive runs white black pixels row starting point values recorded array number runs recorded equal size array row starts white pixel start point count recorded white pixels starting point count black pixels row black pixels point param row row count param start offset row start param counters array record counts not found exception notfoundexception counters filled row running pixels record pattern recordpattern bit array bitarray row start counters not found exception notfoundexception num counters numcounters counters length num counters numcounters counters row get size getsize start not found exception notfoundexception get not found instance getnotfoundinstance is white iswhite row start counter position counterposition start pixel row pixel is white iswhite counters counter position counterposition counter position counterposition counter position counterposition num counters numcounters counters counter position counterposition is white iswhite is white iswhite counter side image problem counter position counterposition num counters numcounters counter position counterposition num counters numcounters not found exception notfoundexception get not found instance getnotfoundinstance record pattern in reverse recordpatterninreverse bit array bitarray row start counters not found exception notfoundexception efficient guess num transitions left numtransitionsleft counters length row start start num transitions left numtransitionsleft row start num transitions left numtransitionsleft num transitions left numtransitionsleft not found exception notfoundexception get not found instance getnotfoundinstance record pattern recordpattern row start counters determines closely observed counts runs black white values matches target pattern reported ratio total variance expected pattern proportions pattern elements length pattern param counters observed counters param pattern expected pattern param max individual variance maxindividualvariance counter differ ratio total variance counters pattern compared total pattern size ratio multiplied variance perfect match total variance counters patterns equals pattern length higher values variance pattern match variance patternmatchvariance counters pattern max individual variance maxindividualvariance num counters numcounters counters length total pattern length patternlength num counters numcounters total counters pattern length patternlength pattern total pattern length patternlength reliably match fail integer max fake floating point math integers bits scale pattern length patternlength intermediate values scaled counter scaledcounter digits unit bar width unitbarwidth total integer math shift pattern length patternlength max individual variance maxindividualvariance max individual variance maxindividualvariance unit bar width unitbarwidth integer math shift total variance totalvariance num counters numcounters counter counters integer math shift scaled pattern scaledpattern pattern unit bar width unitbarwidth variance counter scaled pattern scaledpattern counter scaled pattern scaledpattern scaled pattern scaledpattern counter variance max individual variance maxindividualvariance integer max total variance totalvariance variance total variance totalvariance total attempts decode dimensional barcode format single row image param row number rownumber row number top row param row black white pixel data row param hints decode hints link result encoded string start barcode not found exception notfoundexception error occurs barcode result decode row decoderow row number rownumber bit array bitarray row hashtable hints not found exception notfoundexception checksum exception checksumexception format exception formatexception