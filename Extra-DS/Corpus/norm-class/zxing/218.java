copyright zxing authors licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license google zxing common google zxing binarizer google zxing luminance source luminancesource google zxing not found exception notfoundexception binarizer implementation zxing global histogram approach suitable mobile devices don cpu memory local thresholding algorithm picks global black point handle difficult shadows gradients faster mobile devices desktop applications hybrid binarizer hybridbinarizer author dswitkin google daniel switkin author sean owen global histogram binarizer globalhistogrambinarizer binarizer luminance bits luminance shift luminance bits luminance buckets luminance bits luminances buckets global histogram binarizer globalhistogrambinarizer luminance source luminancesource source source applies simple sharpening row data improve performance readers bit array bitarray get black row getblackrow bit array bitarray row not found exception notfoundexception luminance source luminancesource source get luminance source getluminancesource width source get width getwidth row row get size getsize width row bit array bitarray width row clear init arrays initarrays width local luminances localluminances source get row getrow luminances local buckets localbuckets buckets width pixel local luminances localluminances xff local buckets localbuckets pixel luminance shift black point blackpoint estimate black point estimateblackpoint local buckets localbuckets left local luminances localluminances xff center local luminances localluminances xff width local luminances localluminances xff simple box filter weight luminance center left luminance black point blackpoint row left center center row sharpen data call intended readers bit matrix bitmatrix get black matrix getblackmatrix not found exception notfoundexception luminance source luminancesource source get luminance source getluminancesource width source get width getwidth height source get height getheight bit matrix bitmatrix matrix bit matrix bitmatrix width height calculates histogram sampling rows image proved robust blackbox tests sampling diagonal init arrays initarrays width local buckets localbuckets buckets row height local luminances localluminances source get row getrow row luminances width width pixel local luminances localluminances xff local buckets localbuckets pixel luminance shift black point blackpoint estimate black point estimateblackpoint local buckets localbuckets delay reading entire image luminance black point estimation succeeds reading rows consistent motto fail continuous scanning local luminances localluminances source get matrix getmatrix height offset width width pixel local luminances localluminances offset xff pixel black point blackpoint matrix matrix binarizer create binarizer createbinarizer luminance source luminancesource source global histogram binarizer globalhistogrambinarizer source init arrays initarrays luminance size luminancesize luminances luminances length luminance size luminancesize luminances luminance size luminancesize buckets buckets luminance buckets luminance buckets buckets estimate black point estimateblackpoint buckets not found exception notfoundexception find tallest peak histogram num buckets numbuckets buckets length max bucket count maxbucketcount first peak firstpeak first peak size firstpeaksize num buckets numbuckets buckets first peak size firstpeaksize first peak firstpeak first peak size firstpeaksize buckets buckets max bucket count maxbucketcount max bucket count maxbucketcount buckets find tallest peak tallest peak second peak secondpeak second peak score secondpeakscore num buckets numbuckets distance to biggest distancetobiggest first peak firstpeak encourage distant peaks multiplying square distance score buckets distance to biggest distancetobiggest distance to biggest distancetobiggest score second peak score secondpeakscore second peak secondpeak second peak score secondpeakscore score first peak firstpeak corresponds black peak first peak firstpeak second peak secondpeak temp first peak firstpeak first peak firstpeak second peak secondpeak second peak secondpeak temp peaks determine contrast second peak secondpeak first peak firstpeak num buckets numbuckets not found exception notfoundexception get not found instance getnotfoundinstance find valley closer white peak best valley bestvalley second peak secondpeak best valley score bestvalleyscore second peak secondpeak first peak firstpeak from first fromfirst first peak firstpeak score from first fromfirst from first fromfirst second peak secondpeak max bucket count maxbucketcount buckets score best valley score bestvalleyscore best valley bestvalley best valley score bestvalleyscore score best valley bestvalley luminance shift