copyright zxing authors licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license google zxing client android history android app alert dialog alertdialog android content content values contentvalues android content dialog interface dialoginterface android content res resources android database sqlite sqlite database sqlitedatabase android database sqlite sqlite open helper sqliteopenhelper android database cursor android net uri android environment java file java file output stream fileoutputstream java ioexception java output stream writer outputstreamwriter java nio charset charset java text date format dateformat java util java util list java util array list arraylist android util log google zxing barcode format barcodeformat google zxing client android intents google zxing client android google zxing client android capture activity captureactivity google zxing result manages functionality scan history author sean owen history manager historymanager string tag history manager historymanager get simple name getsimplename max items string text col projection dbhelper text col string item col projection dbhelper text col dbhelper format col dbhelper timestamp col string export col projection dbhelper text col dbhelper display col dbhelper format col dbhelper timestamp col string col projection dbhelper col date format dateformat export time format date format dateformat get date time instance getdatetimeinstance capture activity captureactivity activity history manager historymanager capture activity captureactivity activity activity activity list result get history items gethistoryitems sqlite open helper sqliteopenhelper helper dbhelper activity list result items array list arraylist result sqlite database sqlitedatabase helper get readable database getreadabledatabase cursor cursor cursor query dbhelper table item col projection dbhelper timestamp col desc cursor move to next movetonext result result result cursor get string getstring barcode format barcodeformat value of valueof cursor get string getstring cursor get long getlong items add result cursor cursor close close items alert dialog alertdialog build alert buildalert list result items get history items gethistoryitems size items size string dialog items dialogitems string size size dialog items dialogitems items get text gettext resources res activity get resources getresources dialog items dialogitems dialog items dialogitems length res get string getstring string history send dialog items dialogitems dialog items dialogitems length res get string getstring string history clear text dialog interface dialoginterface on click listener onclicklistener click listener clicklistener history click listener historyclicklistener activity dialog items dialogitems items alert dialog alertdialog builder builder alert dialog alertdialog builder activity builder set title settitle string history title builder set items setitems dialog items dialogitems click listener clicklistener builder create add history item addhistoryitem result result activity get intent getintent get boolean extra getbooleanextra intents scan save history save item history sqlite open helper sqliteopenhelper helper dbhelper activity sqlite database sqlitedatabase helper get writable database getwritabledatabase delete exists delete dbhelper table dbhelper text col string result get text gettext insert content values contentvalues values content values contentvalues values dbhelper text col result get text gettext values dbhelper format col result get barcode format getbarcodeformat to string tostring todo parsed result display values dbhelper display col result get text gettext values dbhelper timestamp col system current time millis currenttimemillis insert dbhelper table dbhelper timestamp col values close trim history trimhistory sqlite open helper sqliteopenhelper helper dbhelper activity sqlite database sqlitedatabase helper get writable database getwritabledatabase cursor cursor cursor query dbhelper table col projection dbhelper timestamp col desc count count max items cursor move to next movetonext count cursor move to next movetonext delete dbhelper table dbhelper col cursor get string getstring cursor cursor close close builds text representation scanning history scan encoded terminated values comma separated quoted quotes values escaped sequence quotes fields output raw text display text format code timestamp formatted version timestamp char sequence charsequence build history buildhistory string builder stringbuilder history text historytext string builder stringbuilder sqlite open helper sqliteopenhelper helper dbhelper activity sqlite database sqlitedatabase helper get readable database getreadabledatabase cursor cursor cursor query dbhelper table export col projection dbhelper timestamp col desc cursor move to next movetonext col col export col projection length col history text historytext append append massage history field massagehistoryfield cursor get string getstring col append add timestamp formatted timestamp cursor get long getlong export col projection length history text historytext append append massage history field massagehistoryfield export time format format timestamp append cursor cursor close close history text historytext uri save history savehistory string history file bs root bsroot file environment get external storage directory getexternalstoragedirectory barcode scanner barcodescanner file history root historyroot file bs root bsroot history history root historyroot exists history root historyroot mkdirs log tag couldn dir history root historyroot file history file historyfile file history root historyroot history system current time millis currenttimemillis csv output stream writer outputstreamwriter output stream writer outputstreamwriter file output stream fileoutputstream history file historyfile charset for name forname utf write history uri parse file history file historyfile get absolute path getabsolutepath ioexception ioe log tag couldn access file history file historyfile ioe close ioexception ioe string massage history field massagehistoryfield string replace clear history clearhistory sqlite open helper sqliteopenhelper helper dbhelper activity sqlite database sqlitedatabase helper get writable database getwritabledatabase delete dbhelper table close