copyright zxing authors licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license google zxing common java util hashtable google zxing decode hint type decodehinttype common string functions author sean owen string utils stringutils string platform encoding system get property getproperty file encoding string shift jis sjis string euc euc string utf utf string iso iso assume shift jis shift jis equals ignore case equalsignorecase platform encoding euc equals ignore case equalsignorecase platform encoding string utils stringutils param bytes bytes encoding string encoding guessed param hints decode hints applicable guessed encoding moment guess link shift jis link utf link iso platform encoding correct string guess encoding guessencoding bytes hashtable hints hints string character set characterset string hints decode hint type decodehinttype character character set characterset character set characterset start utf order mark guess utf bytes length bytes x ef xef bytes x bb xbb bytes x bf xbf utf distinguish iso utf shift jis common encodings iso bytes range shift jis character valid shift jis assume shift jis risky guess utf length bytes length can be iso canbeiso can be shift jis canbeshiftjis can be utf canbeutf utf bytes left bytesleft maybe double byte count maybedoublebytecount maybe single byte katakana count maybesinglebytekatakanacount saw latin sawlatin supplement saw utf sawutf start last was possible double byte start lastwaspossibledoublebytestart length can be iso canbeiso can be shift jis canbeshiftjis can be utf canbeutf bytes x ff xff utf stuff x bf xbf utf bytes left bytesleft utf bytes left bytesleft utf bytes left bytesleft can be utf canbeutf x fd xfd saw utf sawutf start value copy valuecopy value copy valuecopy utf bytes left bytesleft value copy valuecopy length poor hack exotic characters people code latin supplement characters umlaut encodings start x bf xbf start x bf xbf next value nextvalue bytes x ff xff next value nextvalue x bf xbf next value nextvalue next value nextvalue saw latin sawlatin supplement can be iso canbeiso x df xdf count number characters shift jis single katakana character last was possible double byte start lastwaspossibledoublebytestart maybe single byte katakana count maybesinglebytekatakanacount last was possible double byte start lastwaspossibledoublebytestart x ff xff can be shift jis canbeshiftjis x ef xef last was possible double byte start lastwaspossibledoublebytestart checked valid don check starting formed valid pair shouldn checked starts pair last was possible double byte start lastwaspossibledoublebytestart check form valid pair encoding character last was possible double byte start lastwaspossibledoublebytestart bytes length can be shift jis canbeshiftjis next value nextvalue bytes x ff xff next value nextvalue next value nextvalue x fc xfc can be shift jis canbeshiftjis maybe double byte count maybedoublebytecount conflicting bytes follow shift jis characters rule matches practice last was possible double byte start lastwaspossibledoublebytestart utf bytes left bytesleft can be utf canbeutf easy assuming shift jis evidence can be shift jis canbeshiftjis assume shift jis shift jis can be utf canbeutf saw utf sawutf start utf sequences invalid shift jis conclude shift jis can be shift jis canbeshiftjis maybe double byte count maybedoublebytecount maybe single byte katakana count maybesinglebytekatakanacount length shift jis iso saw latin sawlatin supplement can be iso canbeiso iso wild guess platform encoding platform encoding