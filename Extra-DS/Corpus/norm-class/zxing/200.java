copyright zxing authors licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license google zxing client android book android app activity android content intent android content res configuration android bundle android handler android message android util log android view key event keyevent android view layout inflater layoutinflater android view view android webkit cookie manager cookiemanager android webkit cookie sync manager cookiesyncmanager android widget button android widget edit text edittext android widget list view listview android widget text view textview org apache http header org apache http http entity httpentity org apache http http response httpresponse org apache http client methods http get httpget org apache http client methods http head httphead org apache http client methods http uri request httpurirequest org json jsonarray org json jsonexception org json jsonobject java byte array output stream bytearrayoutputstream java ioexception java net uri java util array list arraylist java util list java util regex pattern google zxing client android google zxing client android intents google zxing client android android http client androidhttpclient google book search find word phrase requested book author dswitkin google daniel switkin search book contents activity searchbookcontentsactivity activity string tag search book contents activity searchbookcontentsactivity get simple name getsimplename string user agent zxing android pattern tag pattern pattern compile pattern entity pattern pattern compile pattern entity pattern pattern compile pattern quote entity pattern pattern compile pattern quot entity pattern pattern compile quot network thread networkthread network thread networkthread string isbn edit text edittext query text view querytextview button query button querybutton list view listview result list view resultlistview text view textview header view headerview handler handler handler override handle message handlemessage message message message search book contents succeeded handle search results handlesearchresults jsonobject message obj reset for new query resetfornewquery search book contents failed reset for new query resetfornewquery header view headerview set text settext string msg sbc failed button on click listener onclicklistener button listener buttonlistener button on click listener onclicklistener on click onclick view view launch search launchsearch view on key listener onkeylistener key listener keylistener view on key listener onkeylistener on key onkey view view key code keycode key event keyevent event key code keycode key event keyevent keycode enter launch search launchsearch string get isbn getisbn isbn override on create oncreate bundle icicle on create oncreate icicle expired cookies removed launch cookie sync manager cookiesyncmanager create instance createinstance cookie manager cookiemanager get instance getinstance remove expired cookie removeexpiredcookie intent intent get intent getintent intent intent get action getaction equals intents search book contents searchbookcontents action finish isbn intent get string extra getstringextra intents search book contents searchbookcontents isbn isbn starts with startswith http google books set title settitle get string getstring string sbc set title settitle get string getstring string sbc isbn isbn set content view setcontentview layout search book contents query text view querytextview edit text edittext find view by id findviewbyid query text view string initial query initialquery intent get string extra getstringextra intents search book contents searchbookcontents query initial query initialquery initial query initialquery length populate search box don trigger search query text view querytextview set text settext initial query initialquery query text view querytextview set on key listener setonkeylistener key listener keylistener query button querybutton button find view by id findviewbyid query button query button querybutton set on click listener setonclicklistener button listener buttonlistener result list view resultlistview list view listview find view by id findviewbyid result list view layout inflater layoutinflater factory layout inflater layoutinflater header view headerview text view textview factory inflate layout search book contents header result list view resultlistview result list view resultlistview add header view addheaderview header view headerview override on resume onresume on resume onresume query text view querytextview select all selectall override on configuration changed onconfigurationchanged configuration config prevent activity restarted keyboard opens on configuration changed onconfigurationchanged config reset for new query resetfornewquery network thread networkthread query text view querytextview set enabled setenabled query text view querytextview select all selectall query button querybutton set enabled setenabled launch search launchsearch network thread networkthread string query query text view querytextview get text gettext to string tostring query query length network thread networkthread network thread networkthread isbn query handler network thread networkthread start header view headerview set text settext string msg sbc searching book result list view resultlistview set adapter setadapter query text view querytextview set enabled setenabled query button querybutton set enabled setenabled distinguish query book searchable handle search results handlesearchresults jsonobject json count json get int getint number header view headerview set text settext count result count count jsonarray json get jsonarray getjsonarray search search book contents result searchbookcontentsresult set query setquery query text view querytextview get text gettext to string tostring list search book contents result searchbookcontentsresult items array list arraylist search book contents result searchbookcontentsresult count count items add parse result parseresult get jsonobject getjsonobject result list view resultlistview set on item click listener setonitemclicklistener browse book listener browsebooklistener items result list view resultlistview set adapter setadapter search book contents adapter searchbookcontentsadapter items string searchable json opt string optstring searchable equals searchable header view headerview set text settext string msg sbc book searchable result list view resultlistview set adapter setadapter jsonexception log tag bad json book search result list view resultlistview set adapter setadapter header view headerview set text settext string msg sbc failed fields number url snippet text search book contents result searchbookcontentsresult parse result parseresult jsonobject json string page id pageid json get string getstring string page number pagenumber json get string getstring number page number pagenumber length page number pagenumber get string getstring string msg sbc page number pagenumber happen text jacket reasons page number pagenumber get string getstring string msg sbc unknown remove html tags encoded characters ideally server string snippet json opt string optstring snippet text valid snippet length snippet tag pattern matcher snippet replace all replaceall snippet entity pattern matcher snippet replace all replaceall snippet entity pattern matcher snippet replace all replaceall snippet quote entity pattern matcher snippet replace all replaceall snippet quot entity pattern matcher snippet replace all replaceall snippet get string getstring string msg sbc snippet unavailable valid search book contents result searchbookcontentsresult page id pageid page number pagenumber snippet valid jsonexception search book contents result searchbookcontentsresult get string getstring string msg sbc returned network thread networkthread thread string isbn string query handler handler network thread networkthread string isbn string query handler handler isbn isbn query query handler handler override android http client androidhttpclient client json result describes query api disappear time api call website don locale manager localemanager change tld uri uri isbn starts with startswith http google books equals isbn index of indexof string volume id volumeid isbn substring equals uri uri http google books volume id volumeid jscmd search within volume searchwithinvolume query uri uri http google books vid isbn isbn jscmd search within volume searchwithinvolume query http uri request httpurirequest http get httpget uri set header setheader cookie get cookie getcookie uri to string tostring client android http client androidhttpclient new instance newinstance user agent http response httpresponse response client execute response get status line getstatusline get status code getstatuscode http entity httpentity entity response get entity getentity byte array output stream bytearrayoutputstream json holder jsonholder byte array output stream bytearrayoutputstream entity write to writeto json holder jsonholder json holder jsonholder flush jsonobject json jsonobject json holder jsonholder to string tostring get encoding getencoding entity json holder jsonholder close message message message handler search book contents succeeded message obj json message send to target sendtotarget log tag http returned response get status line getstatusline get status code getstatuscode uri message message message handler search book contents failed message send to target sendtotarget exception log tag error accessing book search message message message handler search book contents failed message send to target sendtotarget client client close book search requires cookie work store persistently cookie exist search expired quick head request fetch save cookie sync manager cookiesyncmanager flash string get cookie getcookie string url string cookie cookie manager cookiemanager get instance getinstance get cookie getcookie url cookie cookie length log tag book search cookie missing expired http uri request httpurirequest head http head httphead url android http client androidhttpclient client android http client androidhttpclient new instance newinstance user agent http response httpresponse response client execute head response get status line getstatusline get status code getstatuscode header cookies response get headers getheaders cookie header the cookie thecookie cookies cookie manager cookiemanager get instance getinstance set cookie setcookie url the cookie thecookie get value getvalue cookie sync manager cookiesyncmanager get instance getinstance sync cookie cookie manager cookiemanager get instance getinstance get cookie getcookie url ioexception log tag error setting book search cookie client close cookie string get encoding getencoding http entity httpentity entity encoding dynamically windows header element headerelement elements entity get content type getcontenttype get elements getelements elements elements length string encoding elements get parameter by name getparameterbyname charset get value getvalue encoding encoding length encoding utf