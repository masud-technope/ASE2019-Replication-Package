copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse swt internal java util hashtable org eclipse swt swt org eclipse swt graphics org eclipse swt internal win wraps win api bidi enable styled text styledtext widget bidi util bidiutil keyboard language ids keyboard bidi keyboard bidi bidi flag is bidi platform isbidiplatform get render info getrenderinfo flag values classin linkbefore linkafter variables providing listener mechanism keyboard language switching hashtable language map languagemap hashtable hashtable key map keymap hashtable hashtable old proc map oldprocmap hashtable code intentionally commented order support cldc compile java compilers targeted cldc callback callback callback bidi util bidiutil window proc windowproc nls string org eclipse swt internal bidi util bidiutil callback callback nls callback callback for name forname window proc windowproc callback get address getaddress swt error swt error callbacks class not found exception classnotfoundexception get character placement getcharacterplacement constants gcp reorder gcp glyphshape gcp ligate gcp classin gcpclass arabic gcpclass hebrew gcpclass localnumber gcpclass latinnumber gcpglyph linkbefore gcpglyph linkafter ext text out exttextout constants eto clipped eto glyph windows primary language identifiers lang arabic lang hebrew code identifiers nls string hebrew nls string arabic activate keyboard activatekeyboard constants hkl hkl prev character constants windows platform constants saves conversion array get render info getrenderinfo arbitrary constants hebrew gcpclass arabic arabic gcpclass hebrew localnumber gcpclass localnumber latinnumber gcpclass latinnumber reorder gcp reorder ligate gcp ligate glyphshape gcp glyphshape adds language listener listener notified language keyboard alt shift win platforms creating window proc control window messages control monitored param hwnd handle control listening keyboard language param runnable code executed keyboard language change occurs add language listener addlanguagelistener hwnd runnable runnable language map languagemap integer hwnd runnable subclass hwnd proc enum system language groups enumsystemlanguagegroups call is bidi platform isbidiplatform test enum system language groups proc enumsystemlanguagegroupsproc lp lang grp id lplanggrpid lp lang grp id string lplanggrpidstring lp lang grp name lplanggrpname options l param lparam lp lang grp id lplanggrpid lgrpid hebrew is bidi platform isbidiplatform lp lang grp id lplanggrpid lgrpid arabic is bidi platform isbidiplatform wraps ext text out exttextout function param rendering param render buffer renderbuffer glyphs render array characters param render dx renderdx width glyph render buffer renderbuffer param position start rendering param position start rendering draw glyphs drawglyphs render buffer renderbuffer render dx renderdx length render dx renderdx length is win ce iswince win version version get layout getlayout handle reverse render dx renderdx fixes bug render dx renderdx length reverse render buffer renderbuffer render transparently avoid overlapping segments fixes bug old bk mode oldbkmode set bk mode setbkmode handle transparent ext text out w exttextoutw handle eto glyph render buffer renderbuffer render buffer renderbuffer length render dx renderdx set bk mode setbkmode handle old bk mode oldbkmode ordering rendering text wraps get font language info getfontlanguageinfo get character placement getcharacterplacement functions param measuring input parameter param text text bidi data calculated input parameter param order array integers representing visual position character text array output parameter param class buffer classbuffer array integers representing type arabic hebrew localnumber character text array input output parameter param array integers representing pixel width glyph returned glyph buffer output paramteter param flags integer representing rendering flag input parameter param offsets text segments measured reordered separately input parameter org eclipse swt custom bidi segment event bidisegmentevent details buffer glyphs rendered text get render info getrenderinfo string text order class buffer classbuffer flags offsets font language info fontlanguageinfo get font language info getfontlanguageinfo handle h heap hheap get process heap getprocessheap lp cs lpcs get text charset gettextcharset handle is right oriented isrightoriented is win ce iswince win version version is right oriented isrightoriented get layout getlayout handle translate charset info translatecharsetinfo lp cs lpcs tci srccharset tchar text buffer textbuffer tchar lp cs lpcs text byte count bytecount text buffer textbuffer length link before linkbefore flags linkbefore linkbefore link after linkafter flags linkafter linkafter gcp result gcp result l struct size lstructsize gcp sizeof result n glyphs nglyphs byte count bytecount lp order lporder result lp order lporder heap alloc heapalloc h heap hheap heap memory byte count bytecount lp dx lpdx result lp dx lpdx heap alloc heapalloc h heap hheap heap memory byte count bytecount lp class lpclass result lp class lpclass heap alloc heapalloc h heap hheap heap memory byte count bytecount lp glyphs lpglyphs result lp glyphs lpglyphs heap alloc heapalloc h heap hheap heap memory byte count bytecount required dw flags dwflags dw flags dwflags glyph flags glyphflags reorder assume calling function platform supports bidi fixes dw flags dwflags gcp reorder font language info fontlanguageinfo gcp ligate gcp ligate dw flags dwflags gcp ligate glyph flags glyphflags font language info fontlanguageinfo gcp glyphshape gcp glyphshape dw flags dwflags gcp glyphshape link before linkbefore glyph flags glyphflags gcpglyph linkbefore link after linkafter glyph flags glyphflags gcpglyph linkafter lp glyphs lpglyphs link before linkbefore link after linkafter lp glyphs lpglyphs lp glyphs lpglyphs glyph flags glyphflags lp glyphs lpglyphs glyph flags glyphflags lp glyphs lpglyphs glyph flags glyphflags move memory movememory result lp glyphs lpglyphs lp glyphs lpglyphs lp glyphs lpglyphs length flags classin classin classification values substring dw flags dwflags gcp classin move memory movememory result lp class lpclass class buffer classbuffer class buffer classbuffer length glyph buffer glyphbuffer result n glyphs nglyphs glyph count glyphcount offsets length offset offsets length offsets offsets number glyphs expected length segment length actual number returned arabic ligatures result n glyphs nglyphs length tchar text buffer textbuffer tchar lp cs lpcs text substring offset offset length get character placement getcharacterplacement handle text buffer textbuffer text buffer textbuffer length result dw flags dwflags result n glyphs nglyphs move memory movememory result lp dx lpdx length is right oriented isrightoriented reverse system arraycopy glyph count glyphcount length order order length move memory movememory order result lp order lporder order length translate order translateorder order glyph count glyphcount is right oriented isrightoriented system arraycopy order order offset length class buffer classbuffer class buffer classbuffer length move memory movememory class buffer classbuffer result lp class lpclass class buffer classbuffer length system arraycopy class buffer classbuffer class buffer classbuffer offset length glyph buffer glyphbuffer result n glyphs nglyphs move memory movememory glyph buffer glyphbuffer result lp glyphs lpglyphs glyph buffer glyphbuffer length is right oriented isrightoriented reverse glyph buffer glyphbuffer system arraycopy glyph buffer glyphbuffer glyph buffer glyphbuffer glyph count glyphcount glyph buffer glyphbuffer length glyph count glyphcount glyph buffer glyphbuffer length concatenate successive calls gcp arabic good method number output glyphs number input characters assumes built successive adjacent segments overlapping result lp order lporder length result lp dx lpdx length result lp class lpclass length result lp glyphs lpglyphs glyph buffer glyphbuffer length free memory allocated heap free heapfree h heap hheap lp glyphs lpglyphs heap free heapfree h heap hheap lp class lpclass heap free heapfree h heap hheap lp dx lpdx heap free heapfree h heap hheap lp order lporder glyph buffer glyphbuffer bidi ordering text rendering glyphs glyph distances method ordering improve performance wraps get font language info getfontlanguageinfo get character placement getcharacterplacement functions param measuring input parameter param text text bidi data calculated input parameter param order array integers representing visual position character text array output parameter param class buffer classbuffer array integers representing type arabic hebrew localnumber character text array input output parameter param flags integer representing rendering flag input parameter param offsets text segments measured reordered separately input parameter org eclipse swt custom bidi segment event bidisegmentevent details get order info getorderinfo string text order class buffer classbuffer flags offsets font language info fontlanguageinfo get font language info getfontlanguageinfo handle h heap hheap get process heap getprocessheap lp cs lpcs get text charset gettextcharset handle translate charset info translatecharsetinfo lp cs lpcs tci srccharset tchar text buffer textbuffer tchar lp cs lpcs text byte count bytecount text buffer textbuffer length is right oriented isrightoriented is win ce iswince win version version is right oriented isrightoriented get layout getlayout handle gcp result gcp result l struct size lstructsize gcp sizeof result n glyphs nglyphs byte count bytecount lp order lporder result lp order lporder heap alloc heapalloc h heap hheap heap memory byte count bytecount lp class lpclass result lp class lpclass heap alloc heapalloc h heap hheap heap memory byte count bytecount required dw flags dwflags values affect text rendered ordered dw flags dwflags reorder assume calling function platform supports bidi fixes dw flags dwflags gcp reorder font language info fontlanguageinfo gcp ligate gcp ligate dw flags dwflags gcp ligate font language info fontlanguageinfo gcp glyphshape gcp glyphshape dw flags dwflags gcp glyphshape flags classin classin classification values substring classification values input dw flags dwflags gcp classin move memory movememory result lp class lpclass class buffer classbuffer class buffer classbuffer length glyph count glyphcount offsets length offset offsets length offsets offsets number glyphs expected length segment length actual number returned arabic ligatures result n glyphs nglyphs length tchar text buffer textbuffer tchar lp cs lpcs text substring offset offset length get character placement getcharacterplacement handle text buffer textbuffer text buffer textbuffer length result dw flags dwflags order order length move memory movememory order result lp order lporder order length translate order translateorder order glyph count glyphcount is right oriented isrightoriented system arraycopy order order offset length class buffer classbuffer class buffer classbuffer length move memory movememory class buffer classbuffer result lp class lpclass class buffer classbuffer length system arraycopy class buffer classbuffer class buffer classbuffer offset length glyph count glyphcount result n glyphs nglyphs concatenate successive calls gcp arabic good method number output glyphs number input characters assumes built successive adjacent segments overlapping result lp order lporder length result lp class lpclass length free memory allocated heap free heapfree h heap hheap lp class lpclass heap free heapfree h heap hheap lp order lporder bidi attribute font param query bitwise reorder ligate glyphshape flags defined get font bidi attributes getfontbidiattributes font style fontstyle font language info fontlanguageinfo get font language info getfontlanguageinfo handle font language info fontlanguageinfo gcp reorder font style fontstyle reorder font language info fontlanguageinfo gcp ligate font style fontstyle ligate font language info fontlanguageinfo gcp glyphshape font style fontstyle glyphshape font style fontstyle active keyboard language type integer representing active keyboard language keyboard bidi keyboard bidi get keyboard language getkeyboardlanguage layout get keyboard layout getkeyboardlayout interested bytes primary language identifier layout layout layout lang hebrew keyboard bidi layout lang arabic keyboard bidi bidi languages keyboard bidi languages installed keyboard integer array entry installed language get keyboard language list getkeyboardlanguagelist max size maxsize temp list templist max size maxsize size get keyboard layout list getkeyboardlayoutlist max size maxsize temp list templist list size system arraycopy temp list templist list size list platform supports bidi language determine languages installed bidi supported windows is bidi platform isbidiplatform is win ce iswince is bidi platform isbidiplatform is bidi platform isbidiplatform is bidi platform isbidiplatform languages install thai keyboard is keyboard bidi iskeyboardbidi callback callback nls callback callback for name forname enum system language groups proc enumsystemlanguagegroupsproc lp enum system language groups proc lpenumsystemlanguagegroupsproc callback get address getaddress lp enum system language groups proc lpenumsystemlanguagegroupsproc swt error swt error callbacks enum system language groups enumsystemlanguagegroups lp enum system language groups proc lpenumsystemlanguagegroupsproc lgrpid installed callback dispose class not found exception classnotfoundexception callback callback dispose is bidi platform isbidiplatform system code platforms enum system language groups enumsystemlanguagegroups supported platforms string code page codepage string value of valueof get acp getacp arabic equals code page codepage hebrew equals code page codepage is bidi platform isbidiplatform is bidi platform isbidiplatform keyboard supports input bidi language determine languages installed keyboard bidi supported is keyboard bidi iskeyboardbidi list get keyboard language list getkeyboardlanguagelist list length list lang arabic lang hebrew removes language listener param hwnd handle control listening keyboard language remove language listener removelanguagelistener hwnd language map languagemap remove integer hwnd unsubclass hwnd keyboard language language type distinguish mulitple bidi multiple bidi languages keyboard language type param language integer representing language keyboard bidi keyboard bidi set keyboard language setkeyboardlanguage language don keyboard doesn language get keyboard language getkeyboardlanguage language keyboard bidi list active languages list get keyboard language list getkeyboardlanguagelist bidi language list length list lang arabic lang hebrew activate keyboard layout activatekeyboardlayout list list active languages list get keyboard language list getkeyboardlanguagelist hebrew arabic list length list lang hebrew lang arabic activate keyboard layout activatekeyboardlayout list sets orientation writing order control text aligned left writing order param hwnd handle control change orientation param orientation swt left swt left orientation changed orientation changed set orientation setorientation hwnd orientation is win ce iswince win version version bits get window long getwindowlong hwnd gwl exstyle orientation swt left bits layoutrtl bits layoutrtl set window long setwindowlong hwnd gwl exstyle bits override window proc param hwnd control override window proc subclass hwnd integer key integer hwnd old proc map oldprocmap key old proc oldproc get window long getwindowlong hwnd gwl wndproc old proc map oldprocmap key integer old proc oldproc set window long setwindowlong hwnd gwl wndproc callback get address getaddress reverse character array orientation param char array chararray character array reverse reverse char array chararray length char array chararray length length tmp char array chararray char array chararray char array chararray length char array chararray length tmp reverse integer array orientation param int array intarray integer array reverse reverse int array intarray length int array intarray length length tmp int array intarray int array intarray int array intarray length int array intarray length tmp adjust order array relative start reverse order array orientation param order array orderarray integer array order values translate param glyph count glyphcount number glyphs processed current param is right oriented isrightoriented flag indicating current orientation translate order translateorder order array orderarray glyph count glyphcount is right oriented isrightoriented max order maxorder length order array orderarray length is right oriented isrightoriented length max order maxorder math max max order maxorder order array orderarray length is right oriented isrightoriented order array orderarray max order maxorder order array orderarray order array orderarray glyph count glyphcount remove overridden window proc param hwnd control remove window proc override unsubclass hwnd integer key integer hwnd language map languagemap key key map keymap key integer proc integer old proc map oldprocmap remove key proc set window long setwindowlong hwnd gwl wndproc proc int value intvalue window proc intercept keyboard language event inputlangchange widget orientation control registered runnable keyboard language switched param hwnd handle control listening keyboard language change event param msg window message window proc windowproc hwnd msg w param wparam l param lparam integer key integer hwnd msg inputlangchange runnable runnable runnable language map languagemap key runnable runnable integer old proc oldproc integer old proc map oldprocmap key call window proc callwindowproc old proc oldproc int value intvalue hwnd msg w param wparam l param lparam