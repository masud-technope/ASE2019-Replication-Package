copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse swt custom org eclipse swt graphics org eclipse swt internal compatibility java util vector default line styler defaultlinestyler line style listener linestylelistener line background listener linebackgroundlistener styled text content styledtextcontent content style range stylerange styles style range stylerange number styles style count stylecount expansion exponent increase lines array exponentially line expand exp lineexpandexp line count linecount color line backgrounds linebackgrounds creates styler param content text styles apply default line styler defaultlinestyler styled text content styledtextcontent content content content line count linecount content get line count getlinecount line backgrounds linebackgrounds color line count linecount inserts style location param style style param insert style style reside insert style insertstyle style range stylerange style insert styles insertstyles style range stylerange style insert styles location param insert styles insertstyles styles param insert styles style reside insert styles insertstyles style range stylerange insert styles insertstyles size styles length insert count insertcount insert styles insertstyles length space needed spaceneeded style count stylecount insert count insertcount size space needed spaceneeded style range stylerange new styles newstyles style range stylerange size space needed spaceneeded system arraycopy styles new styles newstyles size styles new styles newstyles shift styles room styles system arraycopy styles styles insert count insertcount style count stylecount add styles system arraycopy insert styles insertstyles styles insert count insertcount style count stylecount style count stylecount insert count insertcount inserts style merging adjacent styles param style style param insert style style reside style inserted style merged adjacent style insert merge style insertmergestyle style range stylerange style merge style before mergestylebefore style merge style after mergestyleafter style insert style insertstyle style merges style style param style style param attempt merge style merged merge style before mergestylebefore style range stylerange style styles style range stylerange previous styles style similar to similarto previous start style range previous style style start style previous end previousend previous start previous length style start previous end previousend style start previous start style end styleend style start style length style count stylecount style end styleend styles start previous length style start style length previous start merges style style param style style param attempt merge style merged merge style after mergestyleafter style range stylerange style merge styles style count stylecount style range stylerange styles style similar to similarto style range style start style previous style style end styleend style start style length next end nextend start length style end styleend next end nextend style end styleend start style start styles start styles length length start length style start start style start removes style defined range text code clear style clearstyle code param clear style clearstyle style clearing clear style clearstyle style range stylerange clear style clearstyle point get overlapping styles getoverlappingstyles clear style clearstyle start clear style clearstyle length clear style end clearstyleend clear style clearstyle start clear style clearstyle length overlapped styles exist new style newstyle overlaps existing styles overlapped style number overlapped styles count delete style deletestyle delete count deletecount count style range stylerange overlap styles overlap end overlapend overlap start overlap length overlap start clear style clearstyle start overlap end overlapend clear style end clearstyleend overlap cleared overlap length clear style clearstyle start overlap start middle overlap cleared overlap broken style range stylerange end style endstyle style range stylerange overlap clone end style endstyle start clear style end clearstyleend end style endstyle length overlap end overlapend clear style end clearstyleend overlap length clear style clearstyle start overlap start insert style insertstyle end style endstyle overlap end overlapend clear style end clearstyleend entire overlap cleared delete style deletestyle delete style deletestyle delete count deletecount overlap cleared overlap start clear style end clearstyleend overlap length overlap end overlapend overlap start count delete styles deletestyles delete style deletestyle delete count deletecount increases code linebackgrounds code array accomodate background param num lines numlines number increase array expand lines by expandlinesby num lines numlines size line backgrounds linebackgrounds length size line count linecount num lines numlines color new lines newlines color size math max compatibility pow line expand exp lineexpandexp num lines numlines system arraycopy line backgrounds linebackgrounds new lines newlines size line backgrounds linebackgrounds new lines newlines line expand exp lineexpandexp deletes style code code param style deleted delete style deletestyle delete styles deletestyles delete count styles starting code code param style deleted param count number styles deleted delete styles deletestyles count count shift styles system arraycopy styles count styles style count stylecount count count styles style count stylecount style count stylecount style count stylecount count returns styles defined copied array styles style range stylerange get style ranges getstyleranges style range stylerange new styles newstyles style range stylerange style count stylecount system arraycopy styles new styles newstyles style count stylecount new styles newstyles handles background color callback param event line offset lineoffset number input line text linetext text input background background color output line get background linegetbackground line background event linebackgroundevent event line index lineindex content get line at offset getlineatoffset event line offset lineoffset event line background linebackground line backgrounds linebackgrounds line index lineindex handles style callback param event line offset lineoffset number input line text linetext text input styles array style ranges styleranges order output line get style linegetstyle line style event linestyleevent event line start linestart event line offset lineoffset line end lineend line start linestart event line text linetext length high search for style searchforstyle line start linestart line end lineend style range stylerange style vector line styles linestyles vector starts ends add range high style count stylecount style styles style start line end lineend style starts looping style end styleend style start style length style end styleend line start linestart line styles linestyles add element addelement style event styles style range stylerange line styles linestyles size line styles linestyles copy into copyinto event styles searches style code start code code code range style overlaps input range search for style searchforstyle start high style count stylecount high find style range binary search high high style range stylerange style styles style end styleend style start style length start style start style end styleend start style start style end styleend start style end styleend high high updates background colors reflect color called styled text styledtext param start line startline color param count number lines color starting start line startline param background background color lines set line background setlinebackground start line startline count color background start line startline start line startline count line backgrounds linebackgrounds background update styles reflect style code new style newstyle code replace style range method called default line styler defaultlinestyler merge style existing style called styled text styledtext style called styled text styledtext param new style newstyle style set style range setstylerange style range stylerange new style newstyle new style newstyle styles style range stylerange style count stylecount new style newstyle length new style newstyle is unstyled isunstyled clear style clearstyle new style newstyle point get overlapping styles getoverlappingstyles new style newstyle start new style newstyle length new style end newstyleend new style newstyle start new style newstyle length styles exist insert style insertstyle new style newstyle new style newstyle overlap styles insert merge style insertmergestyle new style newstyle new style newstyle overlaps existing styles style count styles count style range stylerange overlap styles overlap end overlapend overlap start overlap length overlap start new style newstyle start overlap end overlapend new style end newstyleend overlap replaced new style newstyle new style newstyle similar to similarto overlap update overlap accomodate style overlap length new style newstyle start new style newstyle length overlap start overlap length new style newstyle start overlap start processing merge style after mergestyleafter new style newstyle insert new style newstyle new style newstyle overlap styles processing insert style insertstyle new style newstyle overlap broken new style newstyle similar to similarto overlap style range stylerange end style endstyle style range stylerange overlap clone end style endstyle start new style end newstyleend end style endstyle length overlap end overlapend new style end newstyleend overlap length new style newstyle start overlap start insert style insertstyle new style newstyle insert style insertstyle end style endstyle processing overlapped styles overlap end overlapend new style end newstyleend hasn delete overlap styles new style newstyle delete style deletestyle overlap replaced new style newstyle overlap start new style end newstyleend overlap length overlap end overlapend overlap start insert merge style insertmergestyle new style newstyle processing overlapped styles count replace styles range param start initial style range replace param length number ranges replace param ranges styles order overlapping replace style ranges replacestyleranges start length style range stylerange ranges clear style clearstyle style range stylerange start length find insert point high style count stylecount high high high style range stylerange style styles start style start high insert styles insertstyles ranges high sets array styles discards styles called styled text styledtext param styles styles order overlapping set style ranges setstyleranges style range stylerange styles styles style range stylerange styles length system arraycopy styles styles styles length style count stylecount styles length updates style ranges backgrounds reflect pending text change called styled text styledtext text changing event textchangingevent received param event event text change text changing textchanging text changing event textchangingevent event start line startline content get line at offset getlineatoffset event start start line offset startlineoffset content get offset at line getoffsetatline start line startline text changing textchanging event start event replace char count replacecharcount text changing textchanging event start event new char count newcharcount event replace char count replacecharcount content get char count getcharcount text replaced clear backgrounds lines changing lineschanging line count linecount lines changing lineschanging content get line count getlinecount event replace line count replacelinecount event new line count newlinecount event start start line offset startlineoffset start line startline start line startline lines changing lineschanging start line startline event replace line count replacelinecount lines changing lineschanging start line startline event new line count newlinecount updates backgrounds reflect pending text change param start starting change place param delta number lines change lines inserted lines deleted lines changing lineschanging start delta delta inserting delta inserting shift lines room lines expand lines by expandlinesby delta line count linecount start line backgrounds linebackgrounds delta line backgrounds linebackgrounds start start delta line backgrounds linebackgrounds shift lines start delta line count linecount line backgrounds linebackgrounds delta line backgrounds linebackgrounds line count linecount delta updates style ranges reflect text change param start starting offset change place param delta length change text inserted text deleted text changing textchanging start delta delta style range stylerange style find style offset binary search find delete start deletestart delete count deletecount inserting delta inserting start delta start delta high search for style searchforstyle start update styles range high style count stylecount style styles inserting style start start insert style range split new style newstyle inserted style range stylerange before style beforestyle style range stylerange style clone before style beforestyle length start style start style start start style length style length before style beforestyle length before style beforestyle length insert style insertstyle before style beforestyle style end styleend style start style length style start style start start style end styleend style starts change range ends change range style length start style start style starts change range ends change range style length style length delta style end styleend style starts change range ends change range delete start deletestart delete start deletestart delete count deletecount style starts change range ends change range style start start style length style end styleend delete styles deletestyles delete start deletestart delete count deletecount change offsets styles styles delete count deletecount style count stylecount style styles style start style start delta returns indexes styles overlap range styles partially fully overlap range returned point starting overlap style number styles overlap range point get overlapping styles getoverlappingstyles start length style range stylerange style style count stylecount find style offset binary search find start length high search for style searchforstyle start count high style count stylecount style styles style end styleend style start style length style start style end styleend start count point high count returns background color called styled text styledtext safe existing color object colors managed client param background color color get line background getlinebackground line backgrounds linebackgrounds returns style character code offset code called styled text styledtext returns style existing style param offset character position text cloned style range stylerange start offset length style style style range stylerange get style range at offset getstylerangeatoffset offset style count stylecount point get overlapping styles getoverlappingstyles offset style range stylerange new style newstyle style range stylerange styles clone new style newstyle start offset new style newstyle length new style newstyle returns styles range returns existing styles careful modify styles cloned order method efficient param offset start position text range param length length text range style range stylerange array styles text range style range stylerange get style ranges for getstylerangesfor offset length style count stylecount point get overlapping styles getoverlappingstyles offset length style range stylerange ranges style range stylerange style range stylerange new style newstyle styles ranges new style newstyle ranges release styles