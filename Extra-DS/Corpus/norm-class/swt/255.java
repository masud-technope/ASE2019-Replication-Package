copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse swt dnd org eclipse swt internal ole win org eclipse swt internal win code file transfer filetransfer code platform specific mechanism converting list files represented java code string code platform specific representation data vice versa code string code array absolute path single file directory code transfer code additional java code string code list files code pre file file file temp file file file file temp file string file data filedata string file data filedata file get absolute path getabsolutepath file data filedata file get absolute path getabsolutepath code pre file transfer filetransfer byte array transfer bytearraytransfer file transfer filetransfer instance file transfer filetransfer nls string hdrop hdrop hdropid hdrop nls string hdrop separator file transfer filetransfer returns singleton instance file transfer filetransfer singleton instance file transfer filetransfer file transfer filetransfer get instance getinstance instance implementation code java to native javatonative code converts list file names represented java code string code platform specific representation code string code array absolute path single file directory additional code transfer java to native javatonative code param object java code string code file names converted param transfer data transferdata empty code transfer data transferdata code object object filled platform specific format data java to native javatonative object object transfer data transferdata transfer data transferdata check file checkfile object is supported type issupportedtype transfer data transferdata dnd error dnd error invalid data string file names filenames string object string buffer stringbuffer all files allfiles string buffer stringbuffer file names filenames length all files allfiles append file names filenames terminated all files allfiles append hdrop separator extra terminator tchar buffer tchar all files allfiles to string tostring dropfiles dropfiles dropfiles dropfiles p files pfiles dropfiles sizeof dropfiles dropfiles dropfiles f nc fnc dropfiles f wide fwide is unicode isunicode allocate memory caller drop target droptarget handed caller method release data byte count bytecount buffer length tchar sizeof new ptr newptr global alloc globalalloc gmem fixed gmem zeroinit dropfiles sizeof byte count bytecount move memory movememory new ptr newptr dropfiles dropfiles sizeof move memory movememory new ptr newptr dropfiles sizeof buffer byte count bytecount transfer data transferdata stgmedium stgmedium transfer data transferdata stgmedium tymed tymed hglobal transfer data transferdata stgmedium union field unionfield new ptr newptr transfer data transferdata stgmedium p unk for release punkforrelease transfer data transferdata result implementation code native to java nativetojava code converts platform specific representation list file names java code string code string array absolute path single file directory additional code transfer native to java nativetojava code param transfer data transferdata platform specific representation data converted java code string code list file names conversion successful object native to java nativetojava transfer data transferdata transfer data transferdata is supported type issupportedtype transfer data transferdata transfer data transferdata p idata object pidataobject file names idata object idataobject idata object idataobject data object dataobject idata object idataobject transfer data transferdata p idata object pidataobject data object dataobject add ref addref formatetc formatetc formatetc formatetc cf format cfformat hdrop formatetc ptd formatetc dw aspect dwaspect dvaspect content formatetc lindex formatetc tymed tymed hglobal stgmedium stgmedium stgmedium stgmedium tymed tymed hglobal transfer data transferdata result data object dataobject get data getdata formatetc stgmedium data object dataobject release transfer data transferdata result files count drag query file dragqueryfile stgmedium union field unionfield x ffffffff xffffffff string file names filenames string count count size drag query file dragqueryfile stgmedium union field unionfield tchar lpsz file lpszfile tchar size file append string drag query file dragqueryfile stgmedium union field unionfield lpsz file lpszfile size file names filenames lpsz file lpszfile to string tostring lpsz file lpszfile strlen frees data hdrop data drag finish dragfinish stgmedium union field unionfield file names filenames get type ids gettypeids hdropid string get type names gettypenames string hdrop check file checkfile object object object object string string object length string strings string object strings length strings strings length validate object object check file checkfile object