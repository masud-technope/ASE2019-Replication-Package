copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse swt dnd org eclipse swt internal ole win org eclipse swt internal win code byte array transfer bytearraytransfer code platform specific mechanism converting java code code platform specific representation array vice versa code transfer code additional code byte array transfer bytearraytransfer code classed transfer agents convert data java format code string code platform specific array data converting map code code code transfer code mapping platform data type snippet subclass byte array transfer bytearraytransfer transfers data defined code my type mytype code pre code my type mytype string file name filename file length filelength last modified lastmodified code pre pre code my type transfer mytypetransfer byte array transfer bytearraytransfer string mytypename type mytypeid register type registertype mytypename my type transfer mytypetransfer instance my type transfer mytypetransfer my type transfer mytypetransfer my type transfer mytypetransfer get instance getinstance instance java to native javatonative object object transfer data transferdata transfer data transferdata object object my type mytype is supported type issupportedtype transfer data transferdata my type mytype my types mytypes my type mytype object write data array convert p medium pmedium byte array output stream bytearrayoutputstream byte array output stream bytearrayoutputstream data output stream dataoutputstream write out writeout data output stream dataoutputstream length my types mytypes length length buffer my types mytypes file name filename get bytes getbytes write out writeout write int writeint buffer length write out writeout write buffer write out writeout write long writelong my types mytypes file length filelength write out writeout write long writelong my types mytypes last modified lastmodified buffer to byte array tobytearray write out writeout close java to native javatonative buffer transfer data transferdata ioexception object native to java nativetojava transfer data transferdata transfer data transferdata is supported type issupportedtype transfer data transferdata buffer native to java nativetojava transfer data transferdata buffer my type mytype my data mydata my type mytype byte array input stream bytearrayinputstream byte array input stream bytearrayinputstream buffer data input stream datainputstream read in readin data input stream datainputstream read in readin my type mytype datum my type mytype size read in readin read int readint size read in readin read datum file name filename string datum file length filelength read in readin read long readlong datum last modified lastmodified read in readin read long readlong my type mytype new my data newmydata my type mytype my data mydata length system arraycopy my data mydata new my data newmydata my data mydata length new my data newmydata my data mydata length datum my data mydata new my data newmydata read in readin close ioexception my data mydata string get type names gettypenames string mytypename get type ids gettypeids mytypeid code pre byte array transfer bytearraytransfer transfer transfer data transferdata get supported types getsupportedtypes types get type ids gettypeids transfer data transferdata data transfer data transferdata types length types length data transfer data transferdata data type types data formatetc formatetc data formatetc cf format cfformat types data formatetc dw aspect dwaspect dvaspect content data formatetc lindex data formatetc tymed tymed hglobal data is supported type issupportedtype transfer data transferdata transfer data transferdata transfer data transferdata types get type ids gettypeids types length formatetc format transfer data transferdata formatetc format cf format cfformat types format dw aspect dwaspect dvaspect content dvaspect content format tymed tymed hglobal tymed hglobal implementation code java to native javatonative code converts java code code platform specific representation additional code transfer java to native javatonative code transfer java to native javatonative param object java code code data converted param transfer data transferdata empty code transfer data transferdata code object object filled platform specific format data java to native javatonative object object transfer data transferdata transfer data transferdata check byte array checkbytearray object is supported type issupportedtype transfer data transferdata dnd error dnd error invalid data allocate memory caller drop target droptarget handed caller method release data data object size data length new ptr newptr global alloc globalalloc gmem fixed gmem zeroinit size move memory movememory new ptr newptr data size transfer data transferdata stgmedium stgmedium transfer data transferdata stgmedium tymed tymed hglobal transfer data transferdata stgmedium union field unionfield new ptr newptr transfer data transferdata stgmedium p unk for release punkforrelease transfer data transferdata result implementation code native to java nativetojava code converts platform specific representation array java code code additional code transfer native to java nativetojava code transfer native to java nativetojava param transfer data transferdata platform specific representation data converted java code code converted data conversion successful object native to java nativetojava transfer data transferdata transfer data transferdata is supported type issupportedtype transfer data transferdata transfer data transferdata p idata object pidataobject idata object idataobject data idata object idataobject transfer data transferdata p idata object pidataobject data add ref addref formatetc formatetc transfer data transferdata formatetc stgmedium stgmedium stgmedium stgmedium tymed tymed hglobal transfer data transferdata result data get data getdata formatetc stgmedium data release transfer data transferdata result h mem hmem stgmedium union field unionfield size global size globalsize h mem hmem buffer size ptr global lock globallock h mem hmem move memory movememory buffer ptr size global unlock globalunlock h mem hmem global free globalfree h mem hmem buffer check byte array checkbytearray object object object object object length