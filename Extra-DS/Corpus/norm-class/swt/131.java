copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse swt widgets org eclipse swt internal win org eclipse swt org eclipse swt graphics org eclipse swt events menu item menuitem item menu parent menu accelerator constructs instance parent code menu code style describing behavior appearance item items maintained parent style style constants defined code swt code applicable instances built bitwise ing code code code swt code style constants description lists style constants applicable style bits inherited superclasses param parent menu control parent instance param style style control construct exception illegal argument exception illegalargumentexception error argument parent exception swtexception error thread invalid access called thread created parent error invalid subclass allowed subclass swt check swt cascade swt push swt radio swt separator widget check subclass checksubclass widget get style getstyle menu item menuitem menu parent style parent check style checkstyle style parent parent parent create item createitem parent get item count getitemcount constructs instance parent code menu code style describing behavior appearance place items maintained parent style style constants defined code swt code applicable instances built bitwise ing code code code swt code style constants description lists style constants applicable style bits inherited superclasses param parent menu control parent instance param style style control construct param store receiver parent exception illegal argument exception illegalargumentexception error argument parent exception swtexception error thread invalid access called thread created parent error invalid subclass allowed subclass swt check swt cascade swt push swt radio swt separator widget check subclass checksubclass widget get style getstyle menu item menuitem menu parent style parent check style checkstyle style parent parent parent create item createitem menu item menuitem menu parent menu menu style parent check style checkstyle style parent parent menu menu menu menu cascade display add menu item addmenuitem adds listener collection listeners notified arm events generated control sending messages defined code arm listener armlistener code param listener listener notified exception illegal argument exception illegalargumentexception error argument listener exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver arm listener armlistener remove arm listener removearmlistener add arm listener addarmlistener arm listener armlistener listener check widget checkwidget listener error swt error argument typed listener typedlistener typed listener typedlistener typed listener typedlistener listener add listener addlistener swt arm typed listener typedlistener adds listener collection listeners notified events generated control sending messages defined code help listener helplistener code param listener listener notified exception illegal argument exception illegalargumentexception error argument listener exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver help listener helplistener remove help listener removehelplistener add help listener addhelplistener help listener helplistener listener check widget checkwidget listener error swt error argument typed listener typedlistener typed listener typedlistener typed listener typedlistener listener add listener addlistener swt typed listener typedlistener adds listener collection listeners notified menu item selected sending messages defined code selection listener selectionlistener code code widget selected widgetselected code called state mask statemask field event object valid code widget default selected widgetdefaultselected code called param listener listener notified exception illegal argument exception illegalargumentexception error argument listener exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver selection listener selectionlistener remove selection listener removeselectionlistener selection event selectionevent add selection listener addselectionlistener selection listener selectionlistener listener check widget checkwidget listener error swt error argument typed listener typedlistener typed listener typedlistener typed listener typedlistener listener add listener addlistener swt selection typed listener typedlistener add listener addlistener swt default selection defaultselection typed listener typedlistener check subclass checksubclass is valid subclass isvalidsubclass error swt error invalid subclass check style checkstyle style check bits checkbits style swt push swt check swt radio swt separator swt cascade fill accel fillaccel accel accel accel f virt fvirt accel cmd accel key accelerator get enabled getenabled f virt fvirt fvirtkey key accelerator swt key mask v key vkey display untranslate key untranslatekey key v key vkey key v key vkey key bug windows reason vk key scan vkkeyscan fails map esc escape del delete map special key escape key delete key display wcs to mbcs wcstombcs key key is win ce iswince key char upper charupper key v key vkey vk key scan vkkeyscan key x ff xff v key vkey f virt fvirt key v key vkey accel key key accel cmd accel f virt fvirt f virt fvirt accelerator swt alt accel f virt fvirt falt accelerator swt shift accel f virt fvirt fshift accelerator swt control accel f virt fvirt fcontrol fix menus fixmenus decorations new parent newparent menu menu fix menus fixmenus new parent newparent returns widget accelerator accelerator bit wise modifier masks key examples code swt control swt shift swt alt swt code indicating menu item accelerator accelerator exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver get accelerator getaccelerator check widget checkwidget accelerator returns rectangle describing receiver size location relative parent display parent receiver bounding rectangle exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver rectangle get bounds getbounds check widget checkwidget is win ce iswince rectangle parent index of indexof rectangle parent style swt bar decorations shell parent parent shell menu bar menubar parent rectangle hwnd shell hwndshell shell handle menubarinfo info menubarinfo info cb size cbsize menubarinfo sizeof get menu bar info getmenubarinfo hwnd shell hwndshell objid menu info rectangle menubarinfo info menubarinfo info cb size cbsize menubarinfo sizeof get menu bar info getmenubarinfo hwnd shell hwndshell objid menu info rectangle info left info left info top info top width info info left height info bottom info top rectangle width height h menu hmenu parent handle rect rect rect get menu item rect getmenuitemrect h menu hmenu rect rectangle rect rect rect get menu item rect getmenuitemrect h menu hmenu rect rectangle rect left rect left rect top rect top width rect rect left height rect bottom rect top rectangle width height returns code code receiver enabled code code disabled menu item typically selectable user draws inactive grayed receiver enabled exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver is enabled isenabled get enabled getenabled check widget checkwidget is ppc isppc is sp issp parent hwnd cb hwndcb hwnd cb hwndcb parent hwnd cb hwndcb tbbuttoninfo info tbbuttoninfo info cb size cbsize tbbuttoninfo sizeof info dw mask dwmask tbif send message sendmessage hwnd cb hwndcb getbuttoninfo info info fs state fsstate tbstate enabled h menu hmenu parent handle menuiteminfo info menuiteminfo info cb size cbsize menuiteminfo sizeof info f mask fmask miim success is win ce iswince parent index of indexof error swt error enabled success get menu item info getmenuiteminfo h menu hmenu info success get menu item info getmenuiteminfo h menu hmenu info success error swt error enabled info f state fstate mfs disabled mfs grayed returns receiver cascade menu code cascade code menu items pull menu sequence key strokes button presses button releases request pull menu platform specific receiver menu exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver menu get menu getmenu check widget checkwidget menu string get name text getnametext style swt separator get name text getnametext returns receiver parent code menu code receiver parent exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver menu get parent getparent check widget checkwidget parent returns code code receiver selected receiver type code check code code radio code selected checked selection exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver get selection getselection check widget checkwidget style swt check swt radio is ppc isppc is sp issp parent hwnd cb hwndcb h menu hmenu parent handle menuiteminfo info menuiteminfo info cb size cbsize menuiteminfo sizeof info f mask fmask miim success get menu item info getmenuiteminfo h menu hmenu info success error swt error selection info f state fstate mfs checked returns code code receiver enabled receiver ancestors enabled code code disabled menu item typically selectable user draws inactive grayed receiver enabled exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver get enabled getenabled is enabled isenabled get enabled getenabled parent is enabled isenabled release child releasechild release child releasechild menu menu dispose menu parent destroy item destroyitem release menu releasemenu is sp issp set menu setmenu menu release widget releasewidget menu menu release resources releaseresources menu release widget releasewidget accelerator parent destroy accelerators destroyaccelerators accelerator display remove menu item removemenuitem parent removes listener collection listeners notified arm events generated control param listener listener longer notified exception illegal argument exception illegalargumentexception error argument listener exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver arm listener armlistener add arm listener addarmlistener remove arm listener removearmlistener arm listener armlistener listener check widget checkwidget listener error swt error argument event table eventtable event table eventtable unhook swt arm listener removes listener collection listeners notified events generated control param listener listener longer notified exception illegal argument exception illegalargumentexception error argument listener exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver help listener helplistener add help listener addhelplistener remove help listener removehelplistener help listener helplistener listener check widget checkwidget listener error swt error argument event table eventtable event table eventtable unhook swt listener removes listener collection listeners notified control selected param listener listener longer notified exception illegal argument exception illegalargumentexception error argument listener exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver selection listener selectionlistener add selection listener addselectionlistener remove selection listener removeselectionlistener selection listener selectionlistener listener check widget checkwidget listener error swt error argument event table eventtable event table eventtable unhook swt selection listener event table eventtable unhook swt default selection defaultselection listener select radio selectradio menu item menuitem items parent get items getitems items length items items set radio selection setradioselection items length items set radio selection setradioselection set selection setselection sets widget accelerator accelerator bit wise modifier masks key examples code swt mod swt mod swt mod swt code code swt control swt shift swt alt swt code indicating menu item accelerator param accelerator integer bit wise masks key exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver set accelerator setaccelerator accelerator check widget checkwidget accelerator accelerator accelerator accelerator parent destroy accelerators destroyaccelerators enables receiver argument code code disables disabled menu item typically selectable user draws inactive grayed param enabled enabled exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver set enabled setenabled enabled check widget checkwidget is ppc isppc is sp issp parent hwnd cb hwndcb hwnd cb hwndcb parent hwnd cb hwndcb tbbuttoninfo info tbbuttoninfo info cb size cbsize tbbuttoninfo sizeof info dw mask dwmask tbif send message sendmessage hwnd cb hwndcb getbuttoninfo info info fs state fsstate tbstate enabled enabled info fs state fsstate tbstate enabled send message sendmessage hwnd cb hwndcb setbuttoninfo info h menu hmenu parent handle is win ce iswince parent index of indexof u enable uenable byposition enabled enabled grayed enable menu item enablemenuitem h menu hmenu u enable uenable menuiteminfo info menuiteminfo info cb size cbsize menuiteminfo sizeof info f mask fmask miim success get menu item info getmenuiteminfo h menu hmenu info success error swt error enabled bits mfs disabled mfs grayed enabled info f state fstate bits info f state fstate bits info f state fstate bits bits info f state fstate bits success set menu item info setmenuiteminfo h menu hmenu info success error swt error enabled parent destroy accelerators destroyaccelerators parent redraw sets image receiver display argument note operation hint supported platforms concept windows param image image display exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver set image setimage image image check widget checkwidget style swt separator set image setimage image is win ce iswince is ppc isppc is sp issp parent hwnd cb hwndcb hwnd cb hwndcb parent hwnd cb hwndcb tbbuttoninfo info tbbuttoninfo info cb size cbsize tbbuttoninfo sizeof info dw mask dwmask tbif image info i image iimage parent image index imageindex image send message sendmessage hwnd cb hwndcb setbuttoninfo info win version version menuiteminfo info menuiteminfo info cb size cbsize menuiteminfo sizeof info f mask fmask miim bitmap image info hbmp item hbmpitem hbmmenu callback h menu hmenu parent handle set menu item info setmenuiteminfo h menu hmenu info parent redraw sets receiver pull menu argument code cascade code menu items pull menu sequence key strokes button presses button releases request pull menu platform specific param menu pull menu exception illegal argument exception illegalargumentexception error menu drop menu drop menu error menuitem cascade menu item code cascade code error invalid argument menu disposed error invalid parent menu widget tree exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver set menu setmenu menu menu check widget checkwidget check menu valid style swt cascade error swt error menuitem cascade menu menu is disposed isdisposed error swt error invalid argument menu style swt drop error swt error menu drop menu parent parent parent error swt error invalid parent assign menu menu old menu oldmenu menu old menu oldmenu menu old menu oldmenu old menu oldmenu cascade menu menu assign menu is ppc isppc is sp issp parent hwnd cb hwndcb is ppc isppc hwnd cb hwndcb parent hwnd cb hwndcb h menu hmenu menu menu handle send message sendmessage hwnd cb hwndcb shcmbm setsubmenu h menu hmenu is sp issp error swt error menu feature windows set menu item info setmenuiteminfo submenu menu item submenu windows destroys previous menu undocumented unexpected wrong remove item remove menu removemenu destroy submenu insert item insert menu item insertmenuitem h menu hmenu parent handle menuiteminfo info menuiteminfo info cb size cbsize menuiteminfo sizeof info f mask fmask miim data get menu item info getmenuiteminfo h menu hmenu info info dw item data dwitemdata info dw item data dwitemdata has bitmap hasbitmap success bug windows get menu item info getmenuiteminfo text item bitmap miim bitmap text returned set menu item info setmenuiteminfo submenu current menu text lost temporarily remove bitmap restore text submenu is win ce iswince win version version info f mask fmask miim bitmap get menu item info getmenuiteminfo h menu hmenu info has bitmap hasbitmap info hbmp item hbmpitem has bitmap hasbitmap info hbmp item hbmpitem success set menu item info setmenuiteminfo h menu hmenu info cch h heap hheap get process heap getprocessheap byte count bytecount cch tchar sizeof psz text psztext heap alloc heapalloc h heap hheap heap memory byte count bytecount info f mask fmask miim miim miim type miim data info dw type data dwtypedata psz text psztext info cch cch success get menu item info getmenuiteminfo h menu hmenu info menu menu cascade info f mask fmask miim submenu info h sub menu hsubmenu menu handle remove menu removemenu h menu hmenu byposition is win ce iswince win ce wince insert menu item insertmenuitem set menu item info setmenuiteminfo call menu item submenu insert menu insertmenu insert item set menu item info setmenuiteminfo string enable menu item enablemenuitem check menu item checkmenuitem u idnew item uidnewitem u flags uflags byposition menu u flags uflags popup u idnew item uidnewitem menu handle tchar lp new item lpnewitem tchar success insert menu insertmenu h menu hmenu u flags uflags u idnew item uidnewitem lp new item lpnewitem success info f mask fmask miim data miim type success set menu item info setmenuiteminfo h menu hmenu info info f state fstate mfs disabled mfs grayed enable menu item enablemenuitem h menu hmenu byposition grayed info f state fstate mfs checked check menu item checkmenuitem h menu hmenu byposition checked success insert menu item insertmenuitem h menu hmenu info restore bitmap removed work problem get menu item info getmenuiteminfo menu items bitmaps miim bitmap win version version has bitmap hasbitmap info f mask fmask miim bitmap info hbmp item hbmpitem hbmmenu callback success set menu item info setmenuiteminfo h menu hmenu info psz text psztext heap free heapfree h heap hheap psz text psztext success error swt error menu parent destroy accelerators destroyaccelerators set radio selection setradioselection style swt radio get selection getselection set selection setselection post event postevent swt selection sets selection receiver receiver type code check code code radio code selected checked param selected selection exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver set selection setselection selected check widget checkwidget style swt check swt radio is ppc isppc is sp issp parent hwnd cb hwndcb h menu hmenu parent handle is win ce iswince parent index of indexof u check ucheck byposition selected checked unchecked check menu item checkmenuitem h menu hmenu u check ucheck menuiteminfo info menuiteminfo info cb size cbsize menuiteminfo sizeof info f mask fmask miim success get menu item info getmenuiteminfo h menu hmenu info success error swt error selection info f state fstate mfs checked selected info f state fstate mfs checked success set menu item info setmenuiteminfo h menu hmenu info success error swt error selection parent redraw sets receiver text string include mnemonic character accelerator text mnemonics amp character mnemonic user presses key sequence matches mnemonic selection event occurs platforms mnemonic appears underlined emphasised platform specific manner mnemonic indicator character amp escaped doubling string causing single amp displayed accelerator text character platforms support accelerator text text character displayed user typically indicating key stroke item selected platforms accelerator text appears aligned menu setting accelerator text install accelerator key sequence accelerator key sequence installed set accelerator setaccelerator param string text exception illegal argument exception illegalargumentexception error argument text exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver set accelerator setaccelerator set text settext string string check widget checkwidget string error swt error argument style swt separator text equals string set text settext string h heap hheap get process heap getprocessheap psz text psztext success is ppc isppc is sp issp parent hwnd cb hwndcb bug win ce wince ppc tool items menubar don resize correctly character sequence remove string string index of indexof length string length text length string get chars getchars length text length text text text string string text character encoding locale tchar buffer tchar string byte count bytecount buffer length tchar sizeof psz text psztext heap alloc heapalloc h heap hheap heap memory byte count bytecount move memory movememory psz text psztext buffer byte count bytecount hwnd cb hwndcb parent hwnd cb hwndcb tbbuttoninfo info tbbuttoninfo info cb size cbsize tbbuttoninfo sizeof info dw mask dwmask tbif text info psz text psztext psz text psztext success send message sendmessage hwnd cb hwndcb setbuttoninfo info menuiteminfo info menuiteminfo info cb size cbsize menuiteminfo sizeof h menu hmenu parent handle bug windows reason miim type menu item miim bitmap miim type clears miim bitmap style reset miim bitmap note happen windows has bitmap hasbitmap is win ce iswince win version version info f mask fmask miim bitmap get menu item info getmenuiteminfo h menu hmenu info has bitmap hasbitmap info hbmp item hbmpitem character encoding locale tchar buffer tchar string byte count bytecount buffer length tchar sizeof psz text psztext heap alloc heapalloc h heap hheap heap memory byte count bytecount move memory movememory psz text psztext buffer byte count bytecount info f mask fmask miim type info f type ftype widget style widgetstyle info dw type data dwtypedata psz text psztext success set menu item info setmenuiteminfo h menu hmenu info restore bitmap removed work problem get menu item info getmenuiteminfo menu items bitmaps miim bitmap is win ce iswince win version version has bitmap hasbitmap info f mask fmask miim bitmap info hbmp item hbmpitem hbmmenu callback success set menu item info setmenuiteminfo h menu hmenu info psz text psztext heap free heapfree h heap hheap psz text psztext success error swt error text parent redraw widget style widgetstyle bits decorations shell parent parent shell style swt mirrored parent style swt left bits mft rightjustify mft rightorder parent style swt left bits mft rightjustify mft rightorder style swt separator bits mft separator style swt radio bits mft radiocheck bits mft string lresult wm command child wmcommandchild w param wparam l param lparam style swt check set selection setselection get selection getselection style swt radio parent get style getstyle swt radio group set selection setselection get selection getselection select radio selectradio event event event set input state setinputstate event swt selection post event postevent swt selection event lresult wm draw child wmdrawchild w param wparam l param lparam drawitemstruct struct drawitemstruct move memory movememory struct l param lparam drawitemstruct sizeof image gcdata data gcdata data device display win struct h dc hdc data bug windows bitmap included menu bar hdc include left coordinate ignore item menu bar parent style swt bar is win iswin struct left draw image drawimage image struct top dispose lresult wm measure child wmmeasurechild w param wparam l param lparam measureitemstruct struct measureitemstruct move memory movememory struct l param lparam measureitemstruct sizeof width height image rectangle rect image get bounds getbounds width rect width height rect height bug windows menu items images checked windows include width image width check computing width menu longest item image label accelerator text overlap set menu item info setmenuiteminfo items bitmap include width widest bitmap measurechild menuinfo lpcmi menuinfo lpcmi cb size cbsize menuinfo sizeof lpcmi f mask fmask mim style h menu hmenu parent handle get menu info getmenuinfo h menu hmenu lpcmi lpcmi dw style dwstyle mns checkorbmp menu item menuitem items parent get items getitems items length menu item menuitem item items item image rectangle rect item image get bounds getbounds width math max width rect width width height feature windows windows add pixels width image image text close windows platforms text longest item touch accelerator text add pixels struct item width itemwidth width is win iswin struct item height itemheight height move memory movememory l param lparam struct measureitemstruct sizeof