copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse swt graphics org eclipse swt internal org eclipse swt internal gdip org eclipse swt internal win org eclipse swt superclass device objects display device printer device devices graphics context created drawn sending messages device drawable debugging debug debug debug tracking debug error errors object objects palette warning field platform dependent field swt api marked shared packages swt platforms accessed application code h palette hpalette color ref count colorrefcount system font system font systemfont font enumeration n fonts nfonts logfont log fonts logfonts textmetric metrics pixels scripts scripts advanced graphics gdip token gdiptoken disposed object create lock object temporary code graphics object created device parameter current display presents problem swt graphics reference classes swt widgets correct remove feature application programs rely feature code removed device current device currentdevice runnable device finder devicefinder nls for name forname org eclipse swt widgets display throwable temporary code device get device getdevice device finder devicefinder device finder devicefinder device device current device currentdevice current device currentdevice device constructs instance dispose device longer required create init device constructs instance dispose device longer required param data device data devicedata describes receiver create init device data devicedata device device data devicedata data create lock data debug data debug tracking data tracking create data init tracking errors error objects object initialize system font slot system font systemfont get system font getsystemfont handle code swtexception code receiver accessed caller include checks receiver generally entire execution context method called device implementors enforce standard swt invariants error invoke method code is disposed isdisposed code code dispose code device code dispose code method called releases swt error checks exceptions thrown reasons exception swtexception error widget disposed receiver disposed check device checkdevice disposed swt error swt error device disposed check gdip checkgdip gdip token gdiptoken old error mode olderrormode set error mode seterrormode sem failcriticalerrors token gdiplus startup input gdiplusstartupinput input gdiplus startup input gdiplusstartupinput input gdiplus version gdiplusversion gdip gdiplus startup gdiplusstartup token input gdip token gdiptoken token throwable swt error swt error graphics library gdi required set error mode seterrormode old error mode olderrormode creates device operating system device handle method depending device method called code init code subclasses supposed reimplement method call code code implementation param data device data devicedata describes receiver init create device data devicedata data compute pixels computepixels height h dc hdc internal pixels compatibility height get device caps getdevicecaps h dc hdc logpixelsy internal dispose h dc hdc pixels compute points computepoints logfont log font logfont h font hfont h dc hdc internal log pixels y logpixelsy get device caps getdevicecaps h dc hdc logpixelsy pixels log font logfont lf height lfheight feature windows lf height lfheight logfont structure positive lf height lfheight measures height entire cell including internal leading logical units height font points include internal leading subtract internal leading requires textmetric old font oldfont select object selectobject h dc hdc h font hfont textmetric lptm is unicode isunicode textmetric textmetricw textmetrica get text metrics gettextmetrics h dc hdc lptm select object selectobject h dc hdc old font oldfont pixels log font logfont lf height lfheight lptm tm internal leading tminternalleading pixels log font logfont lf height lfheight internal dispose h dc hdc compatibility pixels log pixels y logpixelsy destroys device operating system releases device handle device handle method depending device method called code release code subclasses supposed reimplement method call code code implementation dispose release destroy disposes operating system resources receiver method invoked receiver answer code code message code is disposed isdisposed code release destroy check device checkdevice dispose is disposed isdisposed check device checkdevice release destroy disposed tracking objects errors dispose object object object objects length objects object objects errors enum font fam proc enumfontfamproc lpelfe lpntme font type fonttype l param lparam is scalable isscalable font type fonttype raster fonttype scalable l param lparam is scalable isscalable scalable add log font list log fonts n fonts nfonts log fonts logfonts length logfont new log fonts newlogfonts logfont log fonts logfonts length system arraycopy log fonts logfonts new log fonts newlogfonts n fonts nfonts log fonts logfonts new log fonts newlogfonts new pixels newpixels new log fonts newlogfonts length system arraycopy pixels new pixels newpixels n fonts nfonts pixels new pixels newpixels logfont log font logfont log fonts logfonts n fonts nfonts log font logfont log font logfont is unicode isunicode logfont logfontw logfonta move memory movememory log font logfont lpelfe logfont sizeof log fonts logfonts n fonts nfonts log font logfont log font logfont lf height lfheight feature windows lf height lfheight logfont structure positive lf height lfheight measures height entire cell including internal leading logical units height font points include internal leading subtract internal leading requires textmetric turn requires font creation move memory movememory metrics lpntme textmetric sizeof pixels n fonts nfonts log font logfont lf height lfheight metrics tm internal leading tminternalleading pixels n fonts nfonts log font logfont lf height lfheight n fonts nfonts returns rectangle describing receiver size location bounding rectangle exception swtexception error device disposed receiver disposed rectangle get bounds getbounds check device checkdevice h dc hdc internal width get device caps getdevicecaps h dc hdc horzres height get device caps getdevicecaps h dc hdc vertres internal dispose h dc hdc rectangle width height returns code device data devicedata code based receiver modifications code device data devicedata code affect receiver code device data devicedata code device data attributes exception swtexception error device disposed receiver disposed device data devicedata device data devicedata get device data getdevicedata check device checkdevice device data devicedata data device data devicedata data debug debug data tracking tracking count length tracking length objects length length objects count data objects object count data errors error count length objects data objects objects data errors errors data returns rectangle describes area receiver capable displaying data client area exception swtexception error device disposed receiver disposed get bounds getbounds rectangle get client area getclientarea get bounds getbounds returns bit depth screen number bits takes represent number unique colors screen capable displaying number typically depth screen exception swtexception error device disposed receiver disposed get depth getdepth check device checkdevice h dc hdc internal bits get device caps getdevicecaps h dc hdc bitspixel planes get device caps getdevicecaps h dc hdc planes internal dispose h dc hdc bits planes returns point coordinate horizontal dots inch display coordinate vertical dots inch display horizontal vertical dpi exception swtexception error device disposed receiver disposed point get dpi getdpi check device checkdevice h dc hdc internal dpi x dpix get device caps getdevicecaps h dc hdc logpixelsx dpi y dpiy get device caps getdevicecaps h dc hdc logpixelsy internal dispose h dc hdc point dpi x dpix dpi y dpiy returns code font data fontdata code objects describe fonts match arguments code face name facename code fonts returned param face name facename font param scalable scalable fonts returned scalable fonts returned matching font data exception swtexception error device disposed receiver disposed font data fontdata get font list getfontlist string face name facename scalable check device checkdevice create callback nls callback callback callback enum font fam proc enumfontfamproc lp enum font fam proc lpenumfontfamproc callback get address getaddress lp enum font fam proc lpenumfontfamproc swt error swt error callbacks initialize instance variables metrics is unicode isunicode textmetric textmetricw textmetrica pixels n fonts nfonts log fonts logfonts logfont n fonts nfonts log fonts logfonts length log fonts logfonts is unicode isunicode logfont logfontw logfonta n fonts nfonts enumerate offset h dc hdc internal face name facename user face versions face names enum font families enumfontfamilies h dc hdc lp enum font fam proc lpenumfontfamproc scalable bitmapped fonts enum font families enumfontfamilies enumerates font styles user bitmapped fonts enumerate face offset n fonts nfonts offset logfont log fonts logfonts bug windows enum font families ex enumfontfamiliesex called face enumerate style font enumerates call enum font families enumfontfamilies works expected is unicode isunicode enum font families w enumfontfamiliesw h dc hdc logfontw lf face name lffacename lp enum font fam proc lpenumfontfamproc scalable enum font families a enumfontfamiliesa h dc hdc logfonta lf face name lffacename lp enum font fam proc lpenumfontfamproc scalable character encoding locale tchar lp face name lpfacename tchar face name facename bug windows enum font families ex enumfontfamiliesex called face enumerate style font enumerates call enum font families enumfontfamilies works expected enum font families enumfontfamilies h dc hdc lp face name lpfacename lp enum font fam proc lpenumfontfamproc scalable log pixels y logpixelsy get device caps getdevicecaps h dc hdc logpixelsy internal dispose h dc hdc create font data fontdata logfonts count n fonts nfonts offset font data fontdata result font data fontdata count count offset result font data fontdata win log fonts logfonts compatibility pixels log pixels y logpixelsy clean callback dispose log fonts logfonts pixels metrics result string get last error getlasterror error get last error getlasterror nls error nls nls get last error getlasterror integer to hex string tohexstring error string get last error text getlasterrortext error get last error getlasterror nls error buffer dw flags dwflags format message allocate buffer format message system format message ignore inserts length format message formatmessage dw flags dwflags error lang user buffer nls nls length get last error getlasterror integer to hex string tohexstring error tchar buffer tchar length move memory movememory buffer buffer length tchar sizeof buffer local free localfree buffer buffer to string tostring length returns matching standard color constant color constants code swt code swt color constants passed result color black color freed allocated system application param color constant matching color exception swtexception error device disposed receiver disposed swt color get system color getsystemcolor check device checkdevice pixel swt color white pixel ffffff swt color black pixel swt color red pixel swt color dark red pixel swt color green pixel swt color dark green pixel swt color yellow pixel ffff swt color dark yellow pixel swt color blue pixel swt color dark blue pixel swt color magenta pixel swt color dark magenta pixel swt color cyan pixel ffff swt color dark cyan pixel swt color gray pixel swt color dark gray pixel color win pixel returns reasonable font applications platforms match font system font font freed allocated system application typically applications simply font widgets create widgets created correct font user component represent font exception swtexception error device disposed receiver disposed font get system font getsystemfont check device checkdevice h font hfont get stock object getstockobject system font font win h font hfont returns code code underlying window system prints warning messages console code set warnings setwarnings code called code code code code warnings handled code code exception swtexception error device disposed receiver disposed get warnings getwarnings check device checkdevice initializes internal resources needed device method called code create code subclasses reimplement method call code code implementation create init debug is win ce iswince gdi set batch limit gdisetbatchlimit initialize scripts list is win ce iswince pp sp ppsp pi num scripts pinumscripts script get properties scriptgetproperties pp sp ppsp pi num scripts pinumscripts scripts pi num scripts pinumscripts move memory movememory scripts pp sp ppsp scripts length device supports palettes don create h dc hdc internal get device caps getdevicecaps h dc hdc rastercaps bits get device caps getdevicecaps h dc hdc bitspixel planes get device caps getdevicecaps h dc hdc planes bits planes palette bits internal dispose h dc hdc num reserved numreserved get device caps getdevicecaps h dc hdc numreserved num entries numentries get device caps getdevicecaps h dc hdc sizepalette is win ce iswince feature win ce wince reason bit win ce wince devices number reserved entries system palette system palette correctly usual system colors workaround assume reserved system colors num reserved numreserved num entries numentries num reserved numreserved create palette reference counter color ref count colorrefcount num entries numentries bytes header bytes entry num entries numentries entries log palette logpalette num entries numentries bytes special header log palette logpalette log palette logpalette bytes number colors lsb log palette logpalette log palette logpalette create palette system entries located system palette msdn article memory device contexts describes system entries located bit display reserved colors system colors entries lppe num entries numentries get system palette entries getsystempaletteentries h dc hdc num entries numentries lppe copy entries system palette system arraycopy lppe log palette logpalette num entries numentries lock indices system entries num reserved numreserved color ref count colorrefcount color ref count colorrefcount num entries numentries internal dispose h dc hdc h palette hpalette create palette createpalette log palette logpalette invokes platform specific functionality allocate handle method api code device code marked shared packages swt platforms called application code param data platform specific data platform specific handle internal gcdata data invokes platform specific functionality dispose handle method api code device code marked shared packages swt platforms called application code param h dc hdc platform specific handle param data platform specific data internal dispose h dc hdc gcdata data returns code code device disposed code code method dispose device device disposed error invoke method device code code device disposed code code is disposed isdisposed disposed object object object objects length objects objects object errors error object new objects newobjects object objects length system arraycopy objects new objects newobjects objects length new objects newobjects objects length object objects new objects newobjects error new errors newerrors error errors length system arraycopy errors new errors newerrors errors length new errors newerrors errors length error errors new errors newerrors releases internal resources operating system clears fields device handle device destroyed resources acquired behalf programmer returned operating system device allocated font system font font freed code release code assist garbage collector minimize amount memory reclaimed programmer reference disposed device fields handle handle needed code destroy code method called code destroy code subclasses reimplement method call code code implementation dispose destroy release gdip token gdiptoken gdip gdiplus shutdown gdiplusshutdown gdip token gdiptoken gdip token gdiptoken scripts h palette hpalette delete object deleteobject h palette hpalette h palette hpalette color ref count colorrefcount log fonts logfonts n fonts nfonts underlying window system supports printing warning messages console setting warnings code code prevents messages printed argument code code message printing blocked param warnings code code warnings printed code code exception swtexception error device disposed receiver disposed set warnings setwarnings warnings check device checkdevice