copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse swt widgets org eclipse swt internal win org eclipse swt org eclipse swt graphics cool bar coolbar composite cool item coolitem items cool item coolitem original items originalitems locked ignore resize ignoreresize re bar proc rebarproc tchar re bar class rebarclass tchar rebarclassname initcommoncontrolsex icex initcommoncontrolsex icex dw size dwsize initcommoncontrolsex sizeof icex dw icc dwicc icc cool classes init common controls ex initcommoncontrolsex icex wndclass lp wnd class lpwndclass wndclass get class info getclassinfo re bar class rebarclass lp wnd class lpwndclass re bar proc rebarproc lp wnd class lpwndclass lpfn wnd proc lpfnwndproc separator width max width fff constructs instance parent style describing behavior appearance style style constants defined code swt code applicable instances built bitwise ing code code code swt code style constants description lists style constants applicable style bits inherited superclasses param parent composite control parent instance param style style control construct exception illegal argument exception illegalargumentexception error argument parent exception swtexception error thread invalid access called thread created parent error invalid subclass allowed subclass swt widget check subclass checksubclass widget get style getstyle cool bar coolbar composite parent style parent check style checkstyle style call window proc callwindowproc hwnd msg w param wparam l param lparam handle call window proc callwindowproc re bar proc rebarproc hwnd msg w param wparam l param lparam check style checkstyle style style swt focus legal create widget scroll bars serve purpose automatically scroll widget client area clear swt style style swt scroll swt scroll check subclass checksubclass is valid subclass isvalidsubclass error swt error invalid subclass point compute size computesize w hint whint h hint hhint changed check widget checkwidget width height border get border width getborderwidth new width newwidth w hint whint swt fff w hint whint border new height newheight h hint hhint swt fff h hint hhint border count send message sendmessage handle getbandcount count ignore resize ignoreresize redraw is window visible iswindowvisible handle comctl major redraw update window updatewindow handle def window proc defwindowproc handle setredraw redraw draw count drawcount redraw update window updatewindow handle send message sendmessage handle setredraw rect old rect oldrect rect get window rect getwindowrect handle old rect oldrect old width oldwidth old rect oldrect old rect oldrect left old height oldheight old rect oldrect bottom old rect oldrect top flags swp noactivate swp nomove swp noredraw swp nozorder set window pos setwindowpos handle new width newwidth new height newheight flags rect rect rect send message sendmessage handle getrect count rect height math max height rect bottom set window pos setwindowpos handle old width oldwidth old height oldheight flags rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof rb band rbband f mask fmask rbbim idealsize rbbim style row width rowwidth separator style swt flat separator width count send message sendmessage handle getbandinfo rb band rbband rb band rbband f style fstyle rbbs width math max width row width rowwidth separator row width rowwidth row width rowwidth rb band rbband cx ideal cxideal get margin getmargin separator width math max width row width rowwidth separator redraw comctl major def window proc defwindowproc handle setredraw send message sendmessage handle setredraw ignore resize ignoreresize width width width height height height w hint whint swt width w hint whint h hint hhint swt height h hint hhint height border width border point width height create handle createhandle create handle createhandle canvas feature windows control created system font hfont created destroyed control destroyed program queries font control font control destroys control font unexpectedly destroyed control assign font time control created control destroy font create h font hfont get stock object getstockobject system font send message sendmessage handle setfont h font hfont create item createitem cool item coolitem item count send message sendmessage handle getbandcount count error swt error invalid range items length items items length cool item coolitem new items newitems cool item coolitem items length system arraycopy items new items newitems items length items new items newitems h heap hheap get process heap getprocessheap lp text lptext heap alloc heapalloc h heap hheap heap memory tchar sizeof rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof rb band rbband f mask fmask rbbim text rbbim style rbbim rb band rbband f style fstyle rbbs variableheight rbbs gripperalways item style swt drop rb band rbband f style fstyle rbbs usechevron rb band rbband lp text lptext lp text lptext rb band rbband w id wid feature windows inserting item row windows place item side cool bar resize items maximum size resize item ideal size last index lastindex get last index of row getlastindexofrow fix last fixlast last index lastindex fix last fixlast rb band rbband f mask fmask rbbim size rb band rbband max width feature windows item rbbs flag item inserted position previous item position moves detect clear rbbs flag previous item inserting item count get item getitem set wrap setwrap insert item send message sendmessage handle insertband rb band rbband error swt error item resize item ideal size fix last fixlast resize to preferred width resizetopreferredwidth last index lastindex heap free heapfree h heap hheap lp text lptext items item item length original items originalitems length cool item coolitem new originals neworiginals cool item coolitem length system arraycopy original items originalitems new originals neworiginals system arraycopy original items originalitems new originals neworiginals length new originals neworiginals item original items originalitems new originals neworiginals create widget createwidget create widget createwidget items cool item coolitem original items originalitems cool item coolitem destroy item destroyitem cool item coolitem item send message sendmessage handle idtoindex item count send message sendmessage handle getbandcount count last index lastindex get last index of row getlastindexofrow last index lastindex feature windows item row ideal size hand edge coolbar preferred item item size item row occupies space row resize to maximum width resizetomaximumwidth last index lastindex feature windows windows removed rebar band band child invisible child control control item control was visible wasvisible control control is disposed isdisposed control get visible getvisible wrapped item deleted item row wrapped order preserve row order avoid unnecessary layout temporarily ignore size item wrapped row deleted size cool item coolitem next item nextitem item get wrap getwrap count next item nextitem get item getitem ignore resize ignoreresize next item nextitem get wrap getwrap send message sendmessage handle deleteband error swt error item removed items item item ignore resize ignoreresize next item nextitem set wrap setwrap ignore resize ignoreresize restore visible tof control was visible wasvisible control set visible setvisible original items originalitems length original items originalitems item length original items originalitems length cool item coolitem new originals neworiginals cool item coolitem length system arraycopy original items originalitems new originals neworiginals system arraycopy original items originalitems new originals neworiginals length original items originalitems new originals neworiginals get margin getmargin margin comctl major margins margins margins send message sendmessage handle getbandmargins margins margin margins cx left width cxleftwidth margins cx right width cxrightwidth rect rect rect send message sendmessage handle getbandborders rect style swt flat bug windows style bit rbs bandborders rectangle returned rbs bandborders pixels small add pixels result margin rect left margin rect left rect margin control find theme control findthemecontrol returns item displayed relative exception range param visual item item visual exception illegal argument exception illegalargumentexception error invalid range number elements list inclusive exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver cool item coolitem get item getitem check widget checkwidget count send message sendmessage handle getbandcount count error swt error invalid range rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof rb band rbband f mask fmask rbbim send message sendmessage handle getbandinfo rb band rbband items rb band rbband w id wid returns number items contained receiver number items exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver get item count getitemcount check widget checkwidget send message sendmessage handle getbandcount returns array relative ints map creation order receiver items order displayed indices returned array represent current visual order items contents array represent creation order items note actual structure receiver maintain list items modifying array affect receiver current visual order receiver items exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver get item order getitemorder check widget checkwidget count send message sendmessage handle getbandcount indices count rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof rb band rbband f mask fmask rbbim count send message sendmessage handle getbandinfo rb band rbband cool item coolitem item items rb band rbband w id wid original items originalitems length original items originalitems item original items originalitems length error swt error item indices indices returns array code cool item coolitem code order displayed note actual structure receiver maintain list items modifying array affect receiver receiver items current visual order exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver cool item coolitem get items getitems check widget checkwidget count send message sendmessage handle getbandcount cool item coolitem result cool item coolitem count rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof rb band rbband f mask fmask rbbim count send message sendmessage handle getbandinfo rb band rbband result items rb band rbband w id wid result returns array points coordinates describe widths heights items receiver order displayed receiver item sizes current visual order exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver point get item sizes getitemsizes check widget checkwidget count send message sendmessage handle getbandcount point sizes point count rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof rb band rbband f mask fmask rbbim childsize separator style swt flat separator width margins margins margins count rect rect rect send message sendmessage handle getrect rect send message sendmessage handle getbandinfo rb band rbband comctl major send message sendmessage handle getbandmargins margins rect left margins cx left width cxleftwidth rect margins cx right width cxrightwidth is last item of row islastitemofrow rect separator sizes point rect rect left rb band rbband cy child cychild sizes get last index of row getlastindexofrow count send message sendmessage handle getbandcount count rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof rb band rbband f mask fmask rbbim style count send message sendmessage handle getbandinfo rb band rbband rb band rbband f style fstyle rbbs count is last item of row islastitemofrow count send message sendmessage handle getbandcount count rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof rb band rbband f mask fmask rbbim style send message sendmessage handle getbandinfo rb band rbband rb band rbband f style fstyle rbbs returns receiver locked coolbar locked items repositioned coolbar locked exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver get locked getlocked check widget checkwidget locked returns array ints describe relative indices item receiver row visible item row count wrap array receiver wrap indices empty array items row exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver get wrap indices getwrapindices check widget checkwidget cool item coolitem items get items getitems indices items length count items length items get wrap getwrap indices count result count system arraycopy indices result count result searches receiver items order displayed starting item item equal argument returns item item returns param item search item visual order search item item exception illegal argument exception illegalargumentexception error argument item error invalid argument item disposed exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver index of indexof cool item coolitem item check widget checkwidget item error swt error argument item is disposed isdisposed error swt error invalid argument send message sendmessage handle idtoindex item resize to preferred width resizetopreferredwidth bug windows getbandborders range windows ensure range count send message sendmessage handle getbandcount count rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof rb band rbband f mask fmask rbbim idealsize send message sendmessage handle getbandinfo rb band rbband rect rect rect send message sendmessage handle getbandborders rect rb band rbband rb band rbband cx ideal cxideal rect left style swt flat rb band rbband rect rb band rbband f mask fmask rbbim size send message sendmessage handle setbandinfo rb band rbband resize to maximum width resizetomaximumwidth rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof rb band rbband f mask fmask rbbim size rb band rbband max width send message sendmessage handle setbandinfo rb band rbband release widget releasewidget items length cool item coolitem item items item item is disposed isdisposed item release resources releaseresources items release widget releasewidget remove control removecontrol control control remove control removecontrol control items length cool item coolitem item items item item control control item set control setcontrol set background pixel setbackgroundpixel pixel background pixel background pixel pixel pixel default background defaultbackground send message sendmessage handle setbkcolor pixel set item colors setitemcolors send message sendmessage handle gettextcolor pixel feature windows reason windows fully erase coolbar area coolbar items background invalidate coolbar area is window visible iswindowvisible handle is win ce iswince invalidate rect invalidaterect handle flags rdw erase rdw frame rdw invalidate rdw allchildren redraw window redrawwindow handle flags set foreground pixel setforegroundpixel pixel foreground pixel foreground pixel pixel pixel default foreground defaultforeground send message sendmessage handle settextcolor pixel set item colors setitemcolors pixel send message sendmessage handle getbkcolor set item colors setitemcolors fore color forecolor back color backcolor count send message sendmessage handle getbandcount rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof rb band rbband f mask fmask rbbim colors rb band rbband clr fore clrfore fore color forecolor rb band rbband clr back clrback back color backcolor count send message sendmessage handle setbandinfo rb band rbband sets receiver item order wrap indices item sizes method typically restore displayed receiver stored item order order items receiver displayed terms relative ordering items wrap indices indices item receiver row indices order item order item row count wrap wrap indices empty items sizes array points coordinates describe widths heights receiver items order item order param item order itemorder array indices describe order display items param wrap indices wrapindices array wrap indices param sizes array sizes receiver items visual order exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver exception illegal argument exception illegalargumentexception error argument item order sizes error invalid argument item order sizes length number items set item layout setitemlayout item order itemorder wrap indices wrapindices point sizes check widget checkwidget set redraw setredraw set item order setitemorder item order itemorder set wrap indices setwrapindices wrap indices wrapindices set item sizes setitemsizes sizes set redraw setredraw sets order items receiver displayed argument terms relative ordering items param item order itemorder order display items exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver exception illegal argument exception illegalargumentexception error argument item order error invalid argument item order length number items set item order setitemorder item order itemorder item order itemorder error swt error argument item count itemcount send message sendmessage handle getbandcount item order itemorder length item count itemcount error swt error invalid argument ensure item order itemorder duplicates item count itemcount item order itemorder length item order itemorder item count itemcount error swt error invalid range error swt error invalid argument rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof item order itemorder length original items originalitems item order itemorder send message sendmessage handle idtoindex last item src row lastitemsrcrow get last index of row getlastindexofrow last item dst row lastitemdstrow get last index of row getlastindexofrow last item src row lastitemsrcrow resize to preferred width resizetopreferredwidth last item dst row lastitemdstrow resize to preferred width resizetopreferredwidth move item send message sendmessage handle moveband last item src row lastitemsrcrow resize to maximum width resizetomaximumwidth last item dst row lastitemdstrow resize to maximum width resizetomaximumwidth sets width height receiver items argument array points coordinates describe widths heights order items displayed param sizes array sizes receiver items visual order exception illegal argument exception illegalargumentexception error argument array sizes error invalid argument array sizes length number items exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver set item sizes setitemsizes point sizes sizes error swt error argument count send message sendmessage handle getbandcount sizes length count error swt error invalid argument rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof rb band rbband f mask fmask rbbim count send message sendmessage handle getbandinfo rb band rbband items rb band rbband w id wid set size setsize sizes sizes sets receiver locked coolbar locked items repositioned param locked lock coolbar unlock coolbar exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver set locked setlocked locked check widget checkwidget locked locked count send message sendmessage handle getbandcount rebarbandinfo rb band rbband rebarbandinfo rb band rbband cb size cbsize rebarbandinfo sizeof rb band rbband f mask fmask rbbim style count send message sendmessage handle getbandinfo rb band rbband locked rb band rbband f style fstyle rbbs nogripper rb band rbband f style fstyle rbbs nogripper send message sendmessage handle setbandinfo rb band rbband sets indices item receiver row indices order displayed item row count wrap indices empty items param indices array wrap indices exception swtexception error widget disposed receiver disposed error thread invalid access called thread created receiver set wrap indices setwrapindices indices check widget checkwidget indices indices count get item count getitemcount indices length indices indices count error swt error invalid range set redraw setredraw cool item coolitem items get items getitems items length cool item coolitem item items item get wrap getwrap resize to preferred width resizetopreferredwidth item set wrap setwrap resize to maximum width resizetomaximumwidth count indices length indices items length cool item coolitem item items item set wrap setwrap resize to maximum width resizetomaximumwidth set redraw setredraw widget style widgetstyle bits widget style widgetstyle ccs nodivider ccs noresize bits rbs varheight rbs dblclktoggle style swt flat bits rbs bandborders bits tchar window class windowclass re bar class rebarclass window proc windowproc re bar proc rebarproc lresult command w param wparam l param lparam feature windows coolbar window proc processes command forwards message parent children control send message type parent notify control parent control typically application window window message control message applications subclass control window message control window subclassed swt message delivered swt message forwarded window proc avoid calling window proc control lresult result command w param wparam l param lparam result result lresult lresult erasebkgnd w param wparam l param lparam lresult result erasebkgnd w param wparam l param lparam result result feature windows reason windows fully erase area cool bar occupies size cool bar larger space occupied cool bar items erase cool bar background note versions windows prior reason cool bar draws separators erasebkgnd essential cool bar window proc background erased work unnecessary background drawn customdraw comctl major draw background drawbackground w param wparam lresult notify w param wparam l param lparam feature windows cool bar window proc processes notify forwards message parent children control send message type parent notify control parent control typically application window window message control message applications subclass control window message control window subclassed swt message delivered swt message forwarded window proc avoid calling window proc control lresult result notify w param wparam l param lparam result result lresult lresult setredraw w param wparam l param lparam lresult result setredraw w param wparam l param lparam result result feature windows redraw turned rebar control call window proc rebar redraw children rebar redraw call rebar window proc window proc note rebar control resize setredraw redraw turned window proc leave pixel corruption parent detect size change damage previous area parent note version comctl dll setredraw detect size changed causing pixel corruption disallow setredraw running window proc rebar window proc comctl major lresult rectangle rect get bounds getbounds code call window proc callwindowproc handle setredraw w param wparam l param lparam def window proc defwindowproc handle setredraw w param wparam l param lparam rect equals get bounds getbounds parent redraw rect rect rect width rect height lresult code lresult size w param wparam l param lparam ignore resize ignoreresize code call window proc callwindowproc handle size w param wparam l param lparam code lresult lresult code size w param wparam l param lparam lresult wm notify child wmnotifychild w param wparam l param lparam nmhdr hdr nmhdr move memory movememory hdr l param lparam nmhdr sizeof hdr code rbn childsize bug windows windows sets size rebar band child child combo box size drop portion combo box resized size control current size rebar resized control combo control combo drop portion recalculated nmrebarchildsize lprbcs nmrebarchildsize move memory movememory lprbcs l param lparam nmrebarchildsize sizeof lprbcs u band uband cool item coolitem item items lprbcs w id wid control control item control control width lprbcs rc child rcchild lprbcs rc child rcchild left height lprbcs rc child rcchild bottom lprbcs rc child rcchild top control set bounds setbounds lprbcs rc child rcchild left lprbcs rc child rcchild top width height rbn heightchange ignore resize ignoreresize point size get size getsize border get border width getborderwidth height send message sendmessage handle getbarheight set size setsize size height border rbn chevronpushed nmrebarchevron lpnm nmrebarchevron move memory movememory lpnm l param lparam nmrebarchevron sizeof cool item coolitem item items lpnm w id wid item event event event event detail swt arrow event lpnm left event lpnm bottom item post event postevent swt selection event customdraw bug windows versions windows prior drawing background color customdraw erases separators draw background erasebkgnd comctl major background style swt flat nmcustomdraw nmcd nmcustomdraw move memory movememory nmcd l param lparam nmcustomdraw sizeof nmcd dw draw stage dwdrawstage cdds preerase lresult cdrf notifyposterase cdds posterase draw background drawbackground nmcd hdc wm notify child wmnotifychild w param wparam l param lparam