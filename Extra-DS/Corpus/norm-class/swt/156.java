copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse swt internal image java ledata input stream ledatainputstream input stream inputstream position input stream inputstream array bytes read buf current position array code buf code equal buf length bytes buffer full pos ledata input stream ledatainputstream input stream inputstream input input ledata input stream ledatainputstream input stream inputstream input buffer size buffersize input buffer size buffersize buf buffer size buffersize pos buffer size buffersize illegal argument exception illegalargumentexception close ioexception buf close answer bytes read get position getposition position answers bytes reading blocking ioexception buf ioexception buf length pos answer input stream read ioexception buf ioexception position pos buf length buf pos x ff xff read don imitate jdk behaviour reading random number bytes read read len ioexception result left len result read data readdata len result position result result left len left result result result read data readdata left reads code length code bytes ledata input stream ledatainputstream stores array code buffer code starting code offset code answer number bytes read bytes read stream encountered implementation reads bytes pushback buffer target stream bytes required satisfy code count code param buffer array store read bytes param offset offset code buffer code store read bytes param length maximum number bytes store code buffer code number bytes read stream exception java ioexception ioexception occurs read data readdata buffer offset length ioexception buf ioexception offset offset buffer length length length buffer length offset array index out of bounds exception arrayindexoutofboundsexception cache copied cachecopied new offset newoffset offset pushback bytes buf length pos cache copied cachecopied length length system arraycopy buf pos buffer new offset newoffset cache copied cachecopied new offset newoffset cache copied cachecopied pos cache copied cachecopied copied cache copied cachecopied length length in copied incopied read buffer new offset newoffset length cache copied cachecopied in copied incopied in copied incopied cache copied cachecopied cache copied cachecopied in copied incopied cache copied cachecopied answer integer comprised bytes input stream read int readint ioexception buf read buf buf x ff xff buf x ff xff buf x ff xff buf x ff xff answer comprised bytes input stream read short readshort ioexception buf read buf buf x ff xff buf x ff xff push entire content buffer code code bytes pushed read push buffer handle bytes copied code code ioexception thrown pushed param array bytes push stream exception java ioexception pushback buffer small unread ioexception length length length pos ioexception position length pos length system arraycopy buf pos length